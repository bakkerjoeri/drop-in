!function(e){var t={};function r(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,r),s.l=!0,s.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e){window.requestAnimationFrame(t=>{!function(e,t){e(t),n(e)}(e,t)})}r.r(t);const s={entities:{},sprites:{}};function i(e,...t){return e.filter(e=>!t.includes(e))}const o=e=>t=>Object.assign(Object.assign({},t),{sprites:Object.assign(Object.assign({},t.sprites),{[e.name]:e})});function a(e,t){if(!e.sprites.hasOwnProperty(t))throw new Error(`No sprite with name ${t} found.`);return e.sprites[t]}function d(e,t,r,n=0,{scale:s=1}={}){if(!e.frames[n])throw new Error(`Sprite ${e.name} does not have frame with index ${n}`);const i=e.frames[n],o=function(e,t=!0){if(t&&c[e])return c[e];const r=new Image;return r.src=e,c[e]=r,r.onerror=()=>{throw delete c[e],new Error(`No image found at ${e}.`)},r}(i.file);t.drawImage(o,i.origin.x,i.origin.y,i.size.width,i.size.height,(r.x+e.offset.x)*s,(r.y+e.offset.y)*s,i.size.width*s,i.size.height*s)}const c={};function h(e,t){for(let r=0;r<e;r+=1)t(r)}function u(e,t){const r=[];return h(e,e=>{r[e]=[],h(t,t=>{r[e][t]=null})}),r}var l=[{name:"arrow-left",frames:[{file:"src/assets/sprites/arrows.png",origin:{x:0,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"arrow-right",frames:[{file:"src/assets/sprites/arrows.png",origin:{x:8,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"coin-red",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:0},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-blue",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:16},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-yellow",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:32},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-green",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:48},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-purple",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:64},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-white",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:80},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-black",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:96},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-position-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:40},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-column-top-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:32},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-column-bottom-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:56},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-row-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:40},size:{width:8,height:16}}],offset:{x:0,y:0}},{name:"board-row-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:40},size:{width:8,height:16}}],offset:{x:0,y:0}},{name:"board-corner-top-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:32},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:32},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-bottom-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:56},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-bottom-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:56},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-position-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:8},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-column-top-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:0},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-left-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-right-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}}];function f(e){if(0===e.length)throw new Error("Cannot choose from 0 choices.");return e[(t=0,r=e.length-1,Math.floor(Math.random()*(r+1+t)))];var t,r}function y(e,t,r=!1){if(t>e.length)throw new Error(`Can't randomly pick ${t} items from an array that's only ${e.length} long.`);const n=[];return h(t,()=>{const t=f(e);n.push(t),r||(e=e.filter(e=>e!==t))}),n}const p={width:320,height:180},g=16,m=16,b={width:8,height:6},x=["boardHeight","boardWidth","amountOfPlayers","connectToWin","startRound"],w=["red","blue","yellow","green","purple","white","black"],P=new class{constructor(){this.eventHandlers={},this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.remove=this.remove.bind(this),this.removeAll=this.removeAll.bind(this)}on(e,t){this.eventHandlers=Object.assign(Object.assign({},this.eventHandlers),{[e]:[...this.eventHandlers[e]||[],t]})}remove(e,t){this.eventHandlers=Object.assign(Object.assign({},this.eventHandlers),{[e]:i(this.eventHandlers[e],t)})}removeAll(e){this.eventHandlers=function(e,...t){return Object.entries(e).reduce((e,[r,n])=>t.includes(r)?e:Object.assign(Object.assign({},e),{[r]:n}),{})}(this.eventHandlers,e)}emit(e,t,r){if(!this.eventHandlers.hasOwnProperty(e))return t;return this.eventHandlers[e].reduce((e,t)=>t(e,r,{on:this.on,emit:this.emit,remove:this.remove,removeAll:this.removeAll}),t)}},v=new class{constructor(e,t,{initialState:r=s,containerSelector:n="body"}={}){this.eventEmitter=t;const{canvas:i,context:o}=function(e,t){const r=document.createElement("canvas"),n=r.getContext("2d",{alpha:!1});if(!n)throw new Error("Couldn't create context from canvas");const s=document.documentElement.querySelector(e);if(!s)throw new Error(`Couldn't find element with selector ${e} to mount canvas on.`);return s.appendChild(r),r.setAttribute("width",t.width.toString()),r.setAttribute("height",t.height.toString()),r.style.width="100%",r.style.height="100%",r.style.objectFit="contain",r.style.display="block",r.style.imageRendering="-moz-crisp-edges",r.style.imageRendering="-webkit-crisp-edges",r.style.imageRendering="pixelated",{context:n,canvas:r}}(n,e);this.canvas=i,this.context=o,this.state=Object.assign({},r)}start(){this.state=this.eventEmitter.emit("start",this.state,{}),n(e=>{this.state=this.eventEmitter.emit("beforeUpdate",this.state,{time:e}),this.state=this.eventEmitter.emit("update",this.state,{time:e}),this.state=this.eventEmitter.emit("afterUpdate",this.state,{time:e}),this.state=this.eventEmitter.emit("beforeDraw",this.state,{time:e,context:this.context}),this.state=this.eventEmitter.emit("draw",this.state,{time:e,context:this.context}),this.state=this.eventEmitter.emit("afterDraw",this.state,{time:e,context:this.context})})}}(p,P,{initialState:Object.assign(Object.assign({},s),{game:{isPhaseNew:!0,phase:null,nextPhase:"settingUpGame"},setup:{boardWidth:b.width,boardHeight:b.height,amountOfPlayers:2,connectToWin:4,currentlySelectedStep:x[0]},round:{isPhaseNew:!0,phase:null,nextPhase:"start",gameBoard:null,boardSize:b,connectToWin:4,players:[],currentPlayer:null,positionToPlacePiece:0,winner:null}}),containerSelector:".game"});function S(e,t,r=1){return((e+r)%t+t)%t}function O(e){return{x:p.width/2-e.width/2*g,y:40}}function j(e,t,r,n="left",s="#000000"){r.textAlign=n,r.textBaseline="top",r.fillStyle=s,r.font="10px BirdSeed-Regular",r.fillText(e,t.x,t.y)}new class{constructor(e){this.pressedKeys=[],this.activeKeys=[],this.releasedKeys=[],this.eventEmitter=e,window.addEventListener("keydown",e=>{const t=e.key.toLowerCase();this.isKeyPressed(t)||this.isKeyDown(t)||(this.pressedKeys=[...this.pressedKeys,t]),this.isKeyDown(t)||(this.activeKeys=[...this.activeKeys,t])}),window.addEventListener("keyup",e=>{const t=e.key.toLowerCase();this.isKeyDown(t)&&(this.activeKeys=i(this.activeKeys,t)),this.isKeyReleased(t)||(this.releasedKeys=[...this.releasedKeys,t])}),window.addEventListener("blur",this.resetAllKeys.bind(this)),this.eventEmitter.on("update",(e,{})=>(this.pressedKeys.forEach(t=>{e=this.eventEmitter.emit("keyPressed",e,{key:t})}),this.activeKeys.forEach(t=>{e=this.eventEmitter.emit("keyDown",e,{key:t})}),this.releasedKeys.forEach(t=>{e=this.eventEmitter.emit("keyUp",e,{key:t})}),e)),this.eventEmitter.on("afterUpdate",e=>(this.resetPressedKeys(),this.resetReleasedKeys(),e))}isKeyPressed(e){return this.pressedKeys.includes(e)}isKeyDown(e){return this.activeKeys.includes(e)}isKeyReleased(e){return this.releasedKeys.includes(e)}resetPressedKeys(){this.pressedKeys=[]}resetActiveKeys(){this.activeKeys=[]}resetReleasedKeys(){this.releasedKeys=[]}resetAllKeys(){this.resetPressedKeys(),this.resetActiveKeys(),this.resetReleasedKeys()}}(P),P.on("start",e=>{return(t=l,e=>function(...e){return e.reduce((e,t)=>r=>t(e(r)),e=>e)}(...t.map(o))(e))(e);var t}),P.on("beforeUpdate",e=>(null!==e.game.nextPhase?(e.game.phase=e.game.nextPhase,e.game.nextPhase=null,e.game.isPhaseNew=!0):e.game.isPhaseNew=!1,null!==e.round.nextPhase?(e.round.phase=e.round.nextPhase,e.round.nextPhase=null,e.round.isPhaseNew=!0):e.round.isPhaseNew=!1,e)),P.on("update",e=>"settingUpGame"===e.game.phase?function(e){if(e.game.isPhaseNew)return e.setup.currentlySelectedStep=x[0],e;return e}(e):"playingRound"===e.game.phase?function(e){if("start"===e.round.phase)return function(e){return e.round.gameBoard=function(e,t){return{isGameBoard:!0,tiles:u(e,t)}}(e.round.boardSize.width,e.round.boardSize.height),e.round.currentPlayer=f(e.round.players),e.round.positionToPlacePiece=Math.floor((e.round.boardSize.width-1)/2),e.round.nextPhase="startTurn",e}(e);if("startTurn"===e.round.phase)return function(e){return e.round.nextPhase="decideMove",e}(e);if("endTurn"===e.round.phase)return function(e){const t=function(e,t=4){for(let r=0;r<e.length;r+=1)for(let n=0;n<e[r].length;n+=1){const s=e[r][n];if(null===s)continue;const i=[...new Array(t).keys()];if(i.every(t=>e[r]&&e[r][n+t]===s))return s;if(i.every(t=>e[r+t]&&e[r+t][n]===s))return s;if(i.every(t=>e[r+t]&&e[r+t][n+t]===s))return s;if(i.every(t=>e[r+t]&&e[r+t][n-t]===s))return s}return null}(e.round.gameBoard.tiles,e.round.connectToWin);if(t)return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{winner:t,nextPhase:"end"})});const r=e.round.currentPlayer,n=S(e.round.players.indexOf(r),e.round.players.length),s=e.round.players[n];return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{currentPlayer:s,nextPhase:"startTurn"})})}(e);return e}(e):e),P.on("keyPressed",(e,{key:t},{emit:r})=>{if("playingRound"!==e.game.phase||"decideMove"!==e.round.phase)return e;const n=parseInt(t);if(!("number"==typeof n&&!isNaN(n))||!(n>=1&&n<=e.round.boardSize.width))return e;const s=e.round.gameBoard,i=n-1,o=s.tiles[i];let a=0,d=o[a];for(;null===d&&a<=o.length-1;)a+=1,d=o[a];return 0===a?e:(s.tiles[i][a-1]=e.round.currentPlayer,Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{gameBoard:s,nextPhase:"endTurn"})}))}),P.on("keyPressed",(e,{key:t},{emit:r})=>("playingRound"!==e.game.phase||"decideMove"!==e.round.phase||("arrowright"!==t&&"d"!==t||(e.round.positionToPlacePiece=Math.min(e.round.boardSize.width-1,e.round.positionToPlacePiece+1)),"arrowleft"!==t&&"a"!==t||(e.round.positionToPlacePiece=Math.max(0,e.round.positionToPlacePiece-1))),e)),P.on("keyPressed",(e,{key:t},{emit:r})=>{if("playingRound"!==e.game.phase||"decideMove"!==e.round.phase)return e;if("arrowdown"===t||"s"===t){const t=e.round.gameBoard,r=e.round.positionToPlacePiece,n=t.tiles[e.round.positionToPlacePiece];let s=0,i=n[s];for(;null===i&&s<=n.length-1;)s+=1,i=n[s];return 0===s?e:(t.tiles[r][s-1]=e.round.currentPlayer,Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{gameBoard:t,nextPhase:"endTurn"})}))}return e}),P.on("keyPressed",(e,{key:t})=>{if("settingUpGame"!==e.game.phase)return e;const r=x.indexOf(e.setup.currentlySelectedStep);if("arrowup"===t||"w"===t){const t=S(r,x.length,-1);e.setup.currentlySelectedStep=x[t]}if("arrowright"!==t&&"d"!==t||("amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers=Math.min(7,e.setup.amountOfPlayers+1)),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth=Math.min(18,e.setup.boardWidth+1)),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight=Math.min(8,e.setup.boardHeight+1)),"connectToWin"===e.setup.currentlySelectedStep&&(e.setup.connectToWin=Math.min(8,e.setup.connectToWin+1))),"arrowdown"===t||"s"===t){const t=S(r,x.length,1);e.setup.currentlySelectedStep=x[t]}return"arrowleft"!==t&&"a"!==t||("amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers=Math.max(2,e.setup.amountOfPlayers-1)),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth=Math.max(2,e.setup.boardWidth-1)),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight=Math.max(4,e.setup.boardHeight-1)),"connectToWin"===e.setup.currentlySelectedStep&&(e.setup.connectToWin=Math.max(3,e.setup.connectToWin-1))),"enter"===t&&"startRound"===e.setup.currentlySelectedStep?(e.game.nextPhase="playingRound",e.round.nextPhase="start",e.round=Object.assign(Object.assign({},e.round),{boardSize:{width:e.setup.boardWidth,height:e.setup.boardHeight},players:y(w,e.setup.amountOfPlayers),connectToWin:e.setup.connectToWin}),e):e}),P.on("keyPressed",(e,{key:t})=>"playingRound"!==e.game.phase||"end"!==e.round.phase?e:"r"===t?(e.round.nextPhase="start",e.round=Object.assign(Object.assign({},e.round),{boardSize:{width:e.setup.boardWidth,height:e.setup.boardHeight},players:y(w,e.setup.amountOfPlayers),connectToWin:e.setup.connectToWin}),e):"q"===t?(e.game.nextPhase="settingUpGame",e):e),P.on("draw",(e,{context:t})=>(t.clearRect(0,0,p.width,p.height),t.fillStyle="#D7D0FF",t.fillRect(0,0,p.width,p.height),e)),P.on("draw",(e,t)=>("settingUpGame"===e.game.phase&&function(e,{context:t}){j("Set up a new game",{x:p.width/2+.5,y:28},t,"center"),j("Board",{x:150,y:68},t,"right"),j(e.setup.boardHeight+" rows",{x:172,y:68},t),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight>4&&d(a(e,"arrow-left"),t,{x:160,y:68}),e.setup.boardHeight<8&&d(a(e,"arrow-right"),t,{x:230,y:68}));j(e.setup.boardWidth+" columns",{x:172,y:78},t),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth>2&&d(a(e,"arrow-left"),t,{x:160,y:78}),e.setup.boardWidth<18&&d(a(e,"arrow-right"),t,{x:230,y:78}));j("Who's playing?",{x:150,y:98},t,"right"),j(e.setup.amountOfPlayers+" players",{x:172,y:98},t),"amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers>2&&d(a(e,"arrow-left"),t,{x:160,y:98}),e.setup.amountOfPlayers<7&&d(a(e,"arrow-right"),t,{x:230,y:98}));j("How many to win?",{x:150,y:118},t,"right"),j("connect "+e.setup.connectToWin,{x:172,y:118},t),"connectToWin"===e.setup.currentlySelectedStep&&(e.setup.connectToWin>3&&d(a(e,"arrow-left"),t,{x:160,y:118}),e.setup.connectToWin<8&&d(a(e,"arrow-right"),t,{x:230,y:118}));j("start",{x:172,y:138},t),"startRound"===e.setup.currentlySelectedStep&&d(a(e,"arrow-right"),t,{x:160,y:138})}(e,t),"playingRound"===e.game.phase&&function(e,t){const r=e.round.gameBoard;(function(e,t,r){const n=O(r.round.boardSize);e.tiles.forEach((s,i)=>{s.forEach((o,c)=>{const h={x:n.x+i*g,y:n.y+c*m};d(a(r,"board-position-back"),t,h),0===c&&d(a(r,"board-column-top-front"),t,{x:h.x,y:h.y-8}),c===s.length-1&&d(a(r,"board-column-bottom-front"),t,{x:h.x,y:h.y+m}),0===i&&d(a(r,"board-row-left-front"),t,{x:h.x-8,y:h.y}),i===e.tiles.length-1&&d(a(r,"board-row-right-front"),t,{x:h.x+g,y:h.y}),0===i&&0===c&&d(a(r,"board-corner-top-left-front"),t,{x:h.x-8,y:h.y-8}),i===e.tiles.length-1&&0===c&&d(a(r,"board-corner-top-right-front"),t,{x:h.x+g,y:h.y-8}),i===e.tiles.length-1&&c===s.length-1&&d(a(r,"board-corner-bottom-right-front"),t,{x:h.x+g,y:h.y+m}),0===i&&c===s.length-1&&d(a(r,"board-corner-bottom-left-front"),t,{x:h.x-8,y:h.y+m})})})})(r,t.context,e),function(e,t,r){const n=O(r.round.boardSize);e.tiles.forEach((e,s)=>{e.forEach((e,i)=>{const o={x:n.x+s*g,y:n.y+i*m};null!==e&&d(a(r,"coin-"+e),t,o)})})}(r,t.context,e),function(e,t,r){const n=O(r.round.boardSize);e.tiles.forEach((s,i)=>{s.forEach((s,o)=>{const c={x:n.x+i*g,y:n.y+o*m};d(a(r,"board-position-front"),t,c),0===o&&d(a(r,"board-column-top-back"),t,{x:c.x,y:c.y-8}),0===i&&0===o&&d(a(r,"board-corner-top-left-back"),t,{x:c.x-8,y:c.y-8}),i===e.tiles.length-1&&0===o&&d(a(r,"board-corner-top-right-back"),t,{x:c.x+g,y:c.y-8})})})}(r,t.context,e),"decideMove"===e.round.phase&&function(e,{context:t}){const r=O(e.round.boardSize);d(a(e,"coin-"+e.round.currentPlayer),t,{x:r.x+e.round.positionToPlacePiece*g,y:r.y-Math.floor(1.5*m)})}(e,t);"end"===e.round.phase&&e.round.winner&&function(e,{context:t}){d(a(e,"coin-"+e.round.winner),t,{x:p.width/2-g/2-12,y:4}),j("wins!",{x:p.width/2-2,y:8},t),j("q: set up new game | r: rematch",{x:p.width/2+.5,y:24},t,"center")}(e,t)}(e,t),e)),v.start()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC90aWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oZWtzL2Rpc3QvR2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJha2tlcmpvZXJpL2FycmF5LXdpdGhvdXQvZGlzdC9hcnJheVdpdGhvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9zcHJpdGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFra2Vyam9lcmkvcmVwZWF0L2Rpc3QvcmVwZWF0LmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dhbWVib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3Nwcml0ZXMvc3ByaXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9sbC10aGUtYm9uZXMvZGlzdC9jaG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvbGwtdGhlLWJvbmVzL2Rpc3QvZ2V0UmFuZG9tTnVtYmVySW5SYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy91dGlsaXRpZXMvcGljay50cyIsIndlYnBhY2s6Ly8vLi9zcmMvc2NyaXB0cy9tYWluLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oZWtzL2Rpc3QvRXZlbnRFbWl0dGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFra2Vyam9lcmkvb2JqZWN0LXdpdGhvdXQvZGlzdC9vYmplY3RXaXRob3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oZWtzL2Rpc3Qvc2V0dXBHYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2tleWJvYXJkLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFra2Vyam9lcmkvZnAvZGlzdC9waXBlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic2NoZWR1bGVOZXh0VGljayIsImNhbGxiYWNrIiwid2luZG93IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwidGltZSIsInRpY2siLCJkZWZhdWx0U3RhdGUiLCJlbnRpdGllcyIsInNwcml0ZXMiLCJhcnJheVdpdGhvdXQiLCJhcnJheSIsInZhbHVlc1RvRXhjbHVkZSIsImZpbHRlciIsImluY2x1ZGVzIiwiYWRkU3ByaXRlIiwic3ByaXRlIiwic3RhdGUiLCJhc3NpZ24iLCJnZXRTcHJpdGUiLCJFcnJvciIsImRyYXdTcHJpdGUiLCJjb250ZXh0IiwicG9zaXRpb24iLCJmcmFtZUluZGV4Iiwic2NhbGUiLCJmcmFtZXMiLCJmcmFtZSIsImltYWdlIiwiZmlsZVBhdGgiLCJjYWNoZWQiLCJpbWFnZUNhY2hlIiwiSW1hZ2UiLCJzcmMiLCJvbmVycm9yIiwiZ2V0SW1hZ2VGb3JGaWxlUGF0aCIsImZpbGUiLCJkcmF3SW1hZ2UiLCJvcmlnaW4iLCJ4IiwieSIsInNpemUiLCJ3aWR0aCIsImhlaWdodCIsIm9mZnNldCIsInJlcGVhdCIsIml0ZXJhdGlvbnMiLCJjcmVhdGVUaWxlTWFwIiwidGlsZU1hcCIsImNob29zZSIsImNob2ljZXMiLCJsZW5ndGgiLCJsb3dlckJvdW5kIiwidXBwZXJCb3VuZCIsIk1hdGgiLCJmbG9vciIsInJhbmRvbSIsInBpY2siLCJpdGVtcyIsImFtb3VudCIsInB1dEJhY2siLCJwaWNrcyIsImNob2ljZSIsInB1c2giLCJpdGVtIiwiZ2FtZVNpemUiLCJ0aWxlU2l6ZSIsImRlZmF1bHRCb2FyZFNpemUiLCJzZXR1cFN0ZXBzIiwiYWxsUGxheWVycyIsInRoaXMiLCJldmVudEhhbmRsZXJzIiwib24iLCJlbWl0IiwicmVtb3ZlIiwicmVtb3ZlQWxsIiwiZXZlbnRUeXBlIiwiaGFuZGxlciIsImtleXNUb1JlbW92ZSIsImVudHJpZXMiLCJyZWR1Y2UiLCJuZXdPYmplY3QiLCJjdXJyZW50S2V5IiwiY3VycmVudFZhbHVlIiwib2JqZWN0V2l0aG91dCIsImluaXRpYWxTdGF0ZSIsImV2ZW50IiwibmV3U3RhdGUiLCJjdXJyZW50SGFuZGxlciIsImdhbWUiLCJldmVudEVtaXR0ZXIiLCJjb250YWluZXJTZWxlY3RvciIsImNhbnZhcyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImdldENvbnRleHQiLCJhbHBoYSIsImdhbWVDb250YWluZXIiLCJkb2N1bWVudEVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYXBwZW5kQ2hpbGQiLCJzZXRBdHRyaWJ1dGUiLCJ0b1N0cmluZyIsInN0eWxlIiwib2JqZWN0Rml0IiwiZGlzcGxheSIsImltYWdlUmVuZGVyaW5nIiwic2V0dXBHYW1lIiwiaXNQaGFzZU5ldyIsInBoYXNlIiwibmV4dFBoYXNlIiwic2V0dXAiLCJib2FyZFdpZHRoIiwiYm9hcmRIZWlnaHQiLCJhbW91bnRPZlBsYXllcnMiLCJjb25uZWN0VG9XaW4iLCJjdXJyZW50bHlTZWxlY3RlZFN0ZXAiLCJyb3VuZCIsImdhbWVCb2FyZCIsImJvYXJkU2l6ZSIsInBsYXllcnMiLCJjdXJyZW50UGxheWVyIiwicG9zaXRpb25Ub1BsYWNlUGllY2UiLCJ3aW5uZXIiLCJtb3ZlVGhyb3VnaExvb3AiLCJjdXJyZW50IiwidG90YWwiLCJzdGVwIiwiZ2V0Qm9hcmRPcmlnaW4iLCJkcmF3VGV4dCIsInN0cmluZyIsImFsaWduIiwiY29sb3IiLCJ0ZXh0QWxpZ24iLCJ0ZXh0QmFzZWxpbmUiLCJmaWxsU3R5bGUiLCJmb250IiwiZmlsbFRleHQiLCJwcmVzc2VkS2V5cyIsImFjdGl2ZUtleXMiLCJyZWxlYXNlZEtleXMiLCJhZGRFdmVudExpc3RlbmVyIiwidG9Mb3dlckNhc2UiLCJpc0tleVByZXNzZWQiLCJpc0tleURvd24iLCJpc0tleVJlbGVhc2VkIiwicmVzZXRBbGxLZXlzIiwiZm9yRWFjaCIsImFjdGl2ZUtleSIsInJlc2V0UHJlc3NlZEtleXMiLCJyZXNldFJlbGVhc2VkS2V5cyIsInJlc2V0QWN0aXZlS2V5cyIsInNwcml0ZVNoZWV0IiwiZnVuY3Rpb25zIiwicGlwZWRGdW5jdGlvbiIsImN1cnJlbnRGdW5jdGlvbiIsInBpcGUiLCJtYXAiLCJ1cGRhdGVTZXR1cEdhbWUiLCJpc0dhbWVCb2FyZCIsInRpbGVzIiwiY3JlYXRlR2FtZUJvYXJkIiwidXBkYXRlUm91bmRTdGFydCIsInVwZGF0ZVJvdW5kU3RhcnRUdXJuIiwiY2hhaW5MZW5ndGgiLCJjb2x1bW5JbmRleCIsInJvd0luZGV4IiwicGxheWVyT2NjdXB5aW5nQ2VsbCIsImNoYWluIiwiQXJyYXkiLCJrZXlzIiwiZXZlcnkiLCJjaGFpbkluZGV4IiwiZmluZFdpbm5lciIsIm5leHRQbGF5ZXJJbmRleCIsImluZGV4T2YiLCJuZXh0UGxheWVyIiwidXBkYXRlUm91bmRFbmRUdXJuIiwidXBkYXRlUGxheWluZ1JvdW5kIiwia2V5QXNJbnRlZ2VyIiwicGFyc2VJbnQiLCJpc05hTiIsImNvbHVtbiIsImluZGV4T2ZGaXJzdEZ1bGxDZWxsIiwiY2VsbFRvSW5zcGVjdCIsIm1pbiIsIm1heCIsImN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4IiwibmV4dFNlbGVjdGVkU3RlcEluZGV4IiwiY2xlYXJSZWN0IiwiZmlsbFJlY3QiLCJkcmF3RXZlbnQiLCJkcmF3U2V0dGluZ1VwR2FtZSIsImJvYXJkT3JpZ2luIiwicm93IiwiY2VsbCIsImNlbGxPcmlnaW4iLCJkcmF3Qm9hcmRCYWNrIiwiY29pbk9yaWdpbiIsImRyYXdDb2luc0luQm9hcmQiLCJkcmF3Qm9hcmRGcm9udCIsImRyYXdSb3VuZERlY2lkaW5nTW92ZSIsImRyYXdSb3VuZEVuZCIsImRyYXdQbGF5aW5nUm91bmQiLCJzdGFydCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFBQTBCQSxPQUFPQyxhQUMxQ04sT0FBT0MsZUFBZWIsRUFBU2lCLE9BQU9DLFlBQWEsQ0FBRUMsTUFBTyxXQUU3RFAsT0FBT0MsZUFBZWIsRUFBUyxhQUFjLENBQUVtQixPQUFPLEtBUXZEckIsRUFBb0JzQixFQUFJLFNBQVNELEVBQU9FLEdBRXZDLEdBRFUsRUFBUEEsSUFBVUYsRUFBUXJCLEVBQW9CcUIsSUFDL0IsRUFBUEUsRUFBVSxPQUFPRixFQUNwQixHQUFXLEVBQVBFLEdBQThCLGlCQUFWRixHQUFzQkEsR0FBU0EsRUFBTUcsV0FBWSxPQUFPSCxFQUNoRixJQUFJSSxFQUFLWCxPQUFPWSxPQUFPLE1BR3ZCLEdBRkExQixFQUFvQmtC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UUFBUUEsRUFBTW9HLE1BQU1JLGVBQWtCbkcsRUFBUyxDQUN2RWlCLEVBQUcwSixFQUFZMUosRUFBS3RCLEVBQU1vRyxNQUFNSyxxQkFBdUJ4RCxFQUN2RDFCLEVBQUd5SixFQUFZekosRUFBSWMsS0FBS0MsTUFBTSxJQUFNVyxLQVZwQ3VJLENBQXNCeEwsRUFBTzhLLEdBRVAsUUFBdEI5SyxFQUFNb0csTUFBTVIsT0FBbUI1RixFQUFNb0csTUFBTU0sUUFXbkQsU0FBc0IxRyxHQUFPLFFBQUVLLElBQzNCRCxFQUFXRixFQUFVRixFQUFPLFFBQVFBLEVBQU1vRyxNQUFNTSxRQUFXckcsRUFBUyxDQUNoRWlCLEVBQUkwQixFQUFTdkIsTUFBUSxFQUFNd0IsRUFBaUIsRUFBSyxHQUNqRDFCLEVBQUcsSUFFUHlGLEVBQVMsUUFBUyxDQUFFMUYsRUFBSTBCLEVBQVN2QixNQUFRLEVBQUssRUFBR0YsRUFBRyxHQUFLbEIsR0FDekQyRyxFQUFTLGtDQUFtQyxDQUFFMUYsRUFBSTBCLEVBQVN2QixNQUFRLEVBQUssR0FBS0YsRUFBRyxJQUFNbEIsRUFBUyxVQWhCM0ZvTCxDQUFhekwsRUFBTzhLLEdBM0RwQlksQ0FBaUIxTCxFQUFPOEssR0FFckI5SyxJQStKWHdFLEVBQUttSCIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0KGNhbGxiYWNrKSB7XG4gICAgc2NoZWR1bGVOZXh0VGljayhjYWxsYmFjayk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVOZXh0VGljayhjYWxsYmFjaykge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWUpID0+IHtcbiAgICAgICAgdGljayhjYWxsYmFjaywgdGltZSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdGljayhjYWxsYmFjaywgdGltZSkge1xuICAgIGNhbGxiYWNrKHRpbWUpO1xuICAgIHNjaGVkdWxlTmV4dFRpY2soY2FsbGJhY2spO1xufVxuIiwiaW1wb3J0IHsgc3RhcnQgfSBmcm9tICcuL3RpY2suanMnO1xuaW1wb3J0IHsgc2V0dXBHYW1lIH0gZnJvbSAnLi9zZXR1cEdhbWUuanMnO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHtcbiAgICBlbnRpdGllczoge30sXG4gICAgc3ByaXRlczoge30sXG59O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSwgZXZlbnRFbWl0dGVyLCB7IGluaXRpYWxTdGF0ZSA9IGRlZmF1bHRTdGF0ZSwgY29udGFpbmVyU2VsZWN0b3IgPSAnYm9keScgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gZXZlbnRFbWl0dGVyO1xuICAgICAgICBjb25zdCB7IGNhbnZhcywgY29udGV4dCB9ID0gc2V0dXBHYW1lKGNvbnRhaW5lclNlbGVjdG9yLCBzaXplKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ3N0YXJ0JywgdGhpcy5zdGF0ZSwge30pO1xuICAgICAgICBzdGFydCgodGltZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2JlZm9yZVVwZGF0ZScsIHRoaXMuc3RhdGUsIHsgdGltZSB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCd1cGRhdGUnLCB0aGlzLnN0YXRlLCB7IHRpbWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgnYWZ0ZXJVcGRhdGUnLCB0aGlzLnN0YXRlLCB7IHRpbWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgnYmVmb3JlRHJhdycsIHRoaXMuc3RhdGUsIHsgdGltZSwgY29udGV4dDogdGhpcy5jb250ZXh0IH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2RyYXcnLCB0aGlzLnN0YXRlLCB7IHRpbWUsIGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdhZnRlckRyYXcnLCB0aGlzLnN0YXRlLCB7IHRpbWUsIGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXlXaXRob3V0KGFycmF5LCAuLi52YWx1ZXNUb0V4Y2x1ZGUpIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKCh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gIXZhbHVlc1RvRXhjbHVkZS5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgfSk7XG59XG4iLCJpbXBvcnQgeyBwaXBlIH0gZnJvbSAnQGJha2tlcmpvZXJpL2ZwJztcbmltcG9ydCB7IHNldENvbXBvbmVudCwgc2V0RW50aXRpZXMsIGZpbmRFbnRpdGllcywgZ2V0RW50aXRpZXMgfSBmcm9tICcuL2VudGl0aWVzJztcbmV4cG9ydCBjb25zdCBhZGRTcHJpdGUgPSAoc3ByaXRlKSA9PiAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgc3ByaXRlczogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5zcHJpdGVzKSwgeyBbc3ByaXRlLm5hbWVdOiBzcHJpdGUgfSkgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGltcG9ydFNwcml0ZVNoZWV0ID0gKHNwcml0ZVNoZWV0KSA9PiAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4gcGlwZSguLi5zcHJpdGVTaGVldC5tYXAoYWRkU3ByaXRlKSkoc3RhdGUpO1xufTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRTcHJpdGUoc3RhdGUsIG5hbWUpIHtcbiAgICBpZiAoIXN0YXRlLnNwcml0ZXMuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBObyBzcHJpdGUgd2l0aCBuYW1lICR7bmFtZX0gZm91bmQuYCk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5zcHJpdGVzW25hbWVdO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdTcHJpdGUoc3ByaXRlLCBjb250ZXh0LCBwb3NpdGlvbiwgZnJhbWVJbmRleCA9IDAsIHsgc2NhbGUgPSAxIH0gPSB7fSkge1xuICAgIGlmICghc3ByaXRlLmZyYW1lc1tmcmFtZUluZGV4XSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNwcml0ZSAke3Nwcml0ZS5uYW1lfSBkb2VzIG5vdCBoYXZlIGZyYW1lIHdpdGggaW5kZXggJHtmcmFtZUluZGV4fWApO1xuICAgIH1cbiAgICBjb25zdCBmcmFtZSA9IHNwcml0ZS5mcmFtZXNbZnJhbWVJbmRleF07XG4gICAgY29uc3QgaW1hZ2UgPSBnZXRJbWFnZUZvckZpbGVQYXRoKGZyYW1lLmZpbGUpO1xuICAgIGNvbnRleHQuZHJhd0ltYWdlKGltYWdlLCBmcmFtZS5vcmlnaW4ueCwgZnJhbWUub3JpZ2luLnksIGZyYW1lLnNpemUud2lkdGgsIGZyYW1lLnNpemUuaGVpZ2h0LCAocG9zaXRpb24ueCArIHNwcml0ZS5vZmZzZXQueCkgKiBzY2FsZSwgKHBvc2l0aW9uLnkgKyBzcHJpdGUub2Zmc2V0LnkpICogc2NhbGUsIGZyYW1lLnNpemUud2lkdGggKiBzY2FsZSwgZnJhbWUuc2l6ZS5oZWlnaHQgKiBzY2FsZSk7XG59XG5jb25zdCBpbWFnZUNhY2hlID0ge307XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VGb3JGaWxlUGF0aChmaWxlUGF0aCwgY2FjaGVkID0gdHJ1ZSkge1xuICAgIGlmIChjYWNoZWQgJiYgaW1hZ2VDYWNoZVtmaWxlUGF0aF0pIHtcbiAgICAgICAgcmV0dXJuIGltYWdlQ2FjaGVbZmlsZVBhdGhdO1xuICAgIH1cbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IGZpbGVQYXRoO1xuICAgIGltYWdlQ2FjaGVbZmlsZVBhdGhdID0gaW1hZ2U7XG4gICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgZGVsZXRlIGltYWdlQ2FjaGVbZmlsZVBhdGhdO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGltYWdlIGZvdW5kIGF0ICR7ZmlsZVBhdGh9LmApO1xuICAgIH07XG4gICAgcmV0dXJuIGltYWdlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUFuaW1hdGVkU3ByaXRlcyhzdGF0ZSwgeyB0aW1lIH0pIHtcbiAgICBjb25zdCBlbnRpdGllc1dpdGhTcHJpdGVzID0gZmluZEVudGl0aWVzKGdldEVudGl0aWVzKHN0YXRlKSwge1xuICAgICAgICBzcHJpdGU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgdXBkYXRlZEVudGl0aWVzID0gZW50aXRpZXNXaXRoU3ByaXRlcy5tYXAoZW50aXR5ID0+IHtcbiAgICAgICAgY29uc3Qgc3ByaXRlQ29tcG9uZW50ID0gZW50aXR5LnNwcml0ZTtcbiAgICAgICAgY29uc3Qgc3ByaXRlT2ZFbnRpdHkgPSBnZXRTcHJpdGUoc3RhdGUsIGVudGl0eS5zcHJpdGUubmFtZSk7XG4gICAgICAgIGlmIChzcHJpdGVDb21wb25lbnQuZnJhbWVzUGVyU2Vjb25kID09PSAwXG4gICAgICAgICAgICB8fCBzcHJpdGVPZkVudGl0eS5mcmFtZXMubGVuZ3RoIDw9IDFcbiAgICAgICAgICAgIHx8ICFzcHJpdGVDb21wb25lbnQuaXNBbmltYXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbnRpdHkuc3ByaXRlLmFuaW1hdGlvblN0YXJ0VGltZSkge1xuICAgICAgICAgICAgZW50aXR5LnNwcml0ZS5hbmltYXRpb25TdGFydFRpbWUgPSB0aW1lO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0ZyYW1lSW5kZXggPSBjYWxjdWxhdGVOZXdGcmFtZUluZGV4KHNwcml0ZU9mRW50aXR5LmZyYW1lcy5sZW5ndGgsIHNwcml0ZUNvbXBvbmVudC5mcmFtZXNQZXJTZWNvbmQsIHRpbWUgLSBlbnRpdHkuc3ByaXRlLmFuaW1hdGlvblN0YXJ0VGltZSwgc3ByaXRlQ29tcG9uZW50LmlzTG9vcGluZyk7XG4gICAgICAgIHJldHVybiBzZXRDb21wb25lbnQoJ3Nwcml0ZScpKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3ByaXRlQ29tcG9uZW50KSwgeyBjdXJyZW50RnJhbWVJbmRleDogbmV3RnJhbWVJbmRleCB9KSkoZW50aXR5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2V0RW50aXRpZXMoLi4udXBkYXRlZEVudGl0aWVzKShzdGF0ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTmV3RnJhbWVJbmRleChhbW91bnRPZkZyYW1lcywgZnJhbWVzUGVyU2Vjb25kLCBlbGFwc2VkVGltZSwgaXNMb29waW5nKSB7XG4gICAgaWYgKGlzTG9vcGluZykge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChlbGFwc2VkVGltZSAvICgxMDAwIC8gZnJhbWVzUGVyU2Vjb25kKSkgJSBhbW91bnRPZkZyYW1lcztcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKChNYXRoLnJvdW5kKGVsYXBzZWRUaW1lIC8gMTAwMCkgLyBmcmFtZXNQZXJTZWNvbmQpLCBhbW91bnRPZkZyYW1lcyAtIDEpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVNwcml0ZUNvbXBvbmVudChuYW1lLCB7IHN0YXJ0aW5nRnJhbWUgPSAwLCBmcmFtZXNQZXJTZWNvbmQgPSAxLCBpc0xvb3BpbmcgPSB0cnVlLCBpc0FuaW1hdGluZyA9IHRydWUgfSA9IHt9KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbmFtZSxcbiAgICAgICAgYW5pbWF0aW9uU3RhcnRUaW1lOiBudWxsLFxuICAgICAgICBjdXJyZW50RnJhbWVJbmRleDogc3RhcnRpbmdGcmFtZSxcbiAgICAgICAgZnJhbWVzUGVyU2Vjb25kLFxuICAgICAgICBpc0xvb3BpbmcsXG4gICAgICAgIGlzQW5pbWF0aW5nLFxuICAgIH07XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXBlYXQoaXRlcmF0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkgKz0gMSkge1xuICAgICAgICBjYWxsYmFjayhpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcmVwZWF0IGZyb20gJ0BiYWtrZXJqb2VyaS9yZXBlYXQnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdhbWVCb2FyZCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNHYW1lQm9hcmQ6IHRydWUsXG4gICAgICAgIHRpbGVzOiBjcmVhdGVUaWxlTWFwKHdpZHRoLCBoZWlnaHQpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVUaWxlTWFwKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCB0aWxlTWFwID0gW107XG4gICAgcmVwZWF0KHdpZHRoLCAoeCkgPT4ge1xuICAgICAgICB0aWxlTWFwW3hdID0gW107XG4gICAgICAgIHJlcGVhdChoZWlnaHQsICh5KSA9PiB7XG4gICAgICAgICAgICB0aWxlTWFwW3hdW3ldID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRpbGVNYXA7XG59XG4iLCJjb25zdCBzcHJpdGVTaGVldCA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdhcnJvdy1sZWZ0JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9hcnJvd3MucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYXJyb3ctcmlnaHQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2Fycm93cy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiA4LCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLXJlZCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLWJsdWUnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2NvaW5zLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDE2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvaW4teWVsbG93JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9jb2lucy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiAzMiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLWdyZWVuJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9jb2lucy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiA0OCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLXB1cnBsZScsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogNjQgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi13aGl0ZScsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogODAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi1ibGFjaycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogOTYgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtcG9zaXRpb24tZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDgsIHk6IDQwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvbHVtbi10b3AtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDgsIHk6IDMyIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtY29sdW1uLWJvdHRvbS1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogOCwgeTogNTYgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1yb3ctbGVmdC1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogNDAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1yb3ctcmlnaHQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiA0MCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci10b3AtbGVmdC1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMzIgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci10b3AtcmlnaHQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiAzMiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtY29ybmVyLWJvdHRvbS1yaWdodC1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMjQsIHk6IDU2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItYm90dG9tLWxlZnQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDU2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1wb3NpdGlvbi1iYWNrJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiA4LCB5OiA4IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvbHVtbi10b3AtYmFjaycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogOCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci10b3AtbGVmdC1iYWNrJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItdG9wLXJpZ2h0LWJhY2snLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbl07XG5leHBvcnQgZGVmYXVsdCBzcHJpdGVTaGVldDtcbiIsImltcG9ydCB7IGdldFJhbmRvbU51bWJlckluUmFuZ2UgfSBmcm9tICcuL2dldFJhbmRvbU51bWJlckluUmFuZ2UnO1xuZXhwb3J0IGZ1bmN0aW9uIGNob29zZShjaG9pY2VzKSB7XG4gICAgaWYgKGNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNob29zZSBmcm9tIDAgY2hvaWNlcy4nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNob2ljZXNbZ2V0UmFuZG9tTnVtYmVySW5SYW5nZSgwLCBjaG9pY2VzLmxlbmd0aCAtIDEpXTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXJJblJhbmdlKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHVwcGVyQm91bmQgKyAxICsgbG93ZXJCb3VuZCkpO1xufVxuIiwiaW1wb3J0IHJlcGVhdCBmcm9tIFwiQGJha2tlcmpvZXJpL3JlcGVhdFwiO1xuaW1wb3J0IHsgY2hvb3NlIH0gZnJvbSBcInJvbGwtdGhlLWJvbmVzXCI7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBwaWNrKGl0ZW1zLCBhbW91bnQsIHB1dEJhY2sgPSBmYWxzZSkge1xuICAgIGlmIChhbW91bnQgPiBpdGVtcy5sZW5ndGgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDYW4ndCByYW5kb21seSBwaWNrICR7YW1vdW50fSBpdGVtcyBmcm9tIGFuIGFycmF5IHRoYXQncyBvbmx5ICR7aXRlbXMubGVuZ3RofSBsb25nLmApO1xuICAgIH1cbiAgICBjb25zdCBwaWNrcyA9IFtdO1xuICAgIHJlcGVhdChhbW91bnQsICgpID0+IHtcbiAgICAgICAgY29uc3QgY2hvaWNlID0gY2hvb3NlKGl0ZW1zKTtcbiAgICAgICAgcGlja3MucHVzaChjaG9pY2UpO1xuICAgICAgICBpZiAoIXB1dEJhY2spIHtcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gY2hvaWNlKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwaWNrcztcbn1cbiIsImltcG9ydCB7IEdhbWUsIEV2ZW50RW1pdHRlciwgaW1wb3J0U3ByaXRlU2hlZXQsIGRyYXdTcHJpdGUsIGdldFNwcml0ZSwgZGVmYXVsdFN0YXRlIH0gZnJvbSAnaGVrcyc7XG5pbXBvcnQgeyBjcmVhdGVHYW1lQm9hcmQgfSBmcm9tICcuL2dhbWVib2FyZCc7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9rZXlib2FyZCc7XG5pbXBvcnQgc3ByaXRlU2hlZXQgZnJvbSAnLi4vYXNzZXRzL3Nwcml0ZXMvc3ByaXRlcyc7XG5pbXBvcnQgeyBjaG9vc2UgfSBmcm9tICdyb2xsLXRoZS1ib25lcyc7XG5pbXBvcnQgcGljayBmcm9tICcuL3V0aWxpdGllcy9waWNrJztcbmNvbnN0IGdhbWVTaXplID0ge1xuICAgIHdpZHRoOiAzMjAsXG4gICAgaGVpZ2h0OiAxODAsXG59O1xuY29uc3QgdGlsZVNpemUgPSB7XG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG59O1xuY29uc3QgZGVmYXVsdEJvYXJkU2l6ZSA9IHtcbiAgICB3aWR0aDogOCxcbiAgICBoZWlnaHQ6IDYsXG59O1xuY29uc3QgZGVmYXVsdENvbm5lY3RUb1dpbiA9IDQ7XG5jb25zdCBzZXR1cFN0ZXBzID0gW1xuICAgICdib2FyZEhlaWdodCcsXG4gICAgJ2JvYXJkV2lkdGgnLFxuICAgICdhbW91bnRPZlBsYXllcnMnLFxuICAgICdjb25uZWN0VG9XaW4nLFxuICAgICdzdGFydFJvdW5kJyxcbl07XG5jb25zdCBhbGxQbGF5ZXJzID0gW1xuICAgICdyZWQnLFxuICAgICdibHVlJyxcbiAgICAneWVsbG93JyxcbiAgICAnZ3JlZW4nLFxuICAgICdwdXJwbGUnLFxuICAgICd3aGl0ZScsXG4gICAgJ2JsYWNrJyxcbl07XG5jb25zdCBib2FyZEhlaWdodE1pbiA9IDQ7XG5jb25zdCBib2FyZEhlaWdodE1heCA9IDg7XG5jb25zdCBib2FyZFdpZHRoTWluID0gMjtcbmNvbnN0IGJvYXJkV2lkdGhNYXggPSAxODtcbmNvbnN0IGFtb3VudE9mUGxheWVyc01pbiA9IDI7XG5jb25zdCBhbW91bnRPZlBsYXllcnNNYXggPSA3O1xuY29uc3QgY29ubmVjdFRvV2luTWluID0gMztcbmNvbnN0IGNvbm5lY3RUb1dpbk1heCA9IDg7XG5jb25zdCBldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5jb25zdCBnYW1lID0gbmV3IEdhbWUoZ2FtZVNpemUsIGV2ZW50RW1pdHRlciwge1xuICAgIGluaXRpYWxTdGF0ZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U3RhdGUpLCB7IGdhbWU6IHtcbiAgICAgICAgICAgIGlzUGhhc2VOZXc6IHRydWUsXG4gICAgICAgICAgICBwaGFzZTogbnVsbCxcbiAgICAgICAgICAgIG5leHRQaGFzZTogJ3NldHRpbmdVcEdhbWUnLFxuICAgICAgICB9LCBzZXR1cDoge1xuICAgICAgICAgICAgYm9hcmRXaWR0aDogZGVmYXVsdEJvYXJkU2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGJvYXJkSGVpZ2h0OiBkZWZhdWx0Qm9hcmRTaXplLmhlaWdodCxcbiAgICAgICAgICAgIGFtb3VudE9mUGxheWVyczogMixcbiAgICAgICAgICAgIGNvbm5lY3RUb1dpbjogNCxcbiAgICAgICAgICAgIGN1cnJlbnRseVNlbGVjdGVkU3RlcDogc2V0dXBTdGVwc1swXSxcbiAgICAgICAgfSwgcm91bmQ6IHtcbiAgICAgICAgICAgIGlzUGhhc2VOZXc6IHRydWUsXG4gICAgICAgICAgICBwaGFzZTogbnVsbCxcbiAgICAgICAgICAgIG5leHRQaGFzZTogJ3N0YXJ0JyxcbiAgICAgICAgICAgIGdhbWVCb2FyZDogbnVsbCxcbiAgICAgICAgICAgIGJvYXJkU2l6ZTogZGVmYXVsdEJvYXJkU2l6ZSxcbiAgICAgICAgICAgIGNvbm5lY3RUb1dpbjogZGVmYXVsdENvbm5lY3RUb1dpbixcbiAgICAgICAgICAgIHBsYXllcnM6IFtdLFxuICAgICAgICAgICAgY3VycmVudFBsYXllcjogbnVsbCxcbiAgICAgICAgICAgIHBvc2l0aW9uVG9QbGFjZVBpZWNlOiAwLFxuICAgICAgICAgICAgd2lubmVyOiBudWxsLFxuICAgICAgICB9IH0pLFxuICAgIGNvbnRhaW5lclNlbGVjdG9yOiAnLmdhbWUnLFxufSk7XG5uZXcgS2V5Ym9hcmQoZXZlbnRFbWl0dGVyKTtcbmV2ZW50RW1pdHRlci5vbignc3RhcnQnLCAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4gaW1wb3J0U3ByaXRlU2hlZXQoc3ByaXRlU2hlZXQpKHN0YXRlKTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdiZWZvcmVVcGRhdGUnLCAoc3RhdGUpID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5uZXh0UGhhc2UgIT09IG51bGwpIHtcbiAgICAgICAgc3RhdGUuZ2FtZS5waGFzZSA9IHN0YXRlLmdhbWUubmV4dFBoYXNlO1xuICAgICAgICBzdGF0ZS5nYW1lLm5leHRQaGFzZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLmdhbWUuaXNQaGFzZU5ldyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5nYW1lLmlzUGhhc2VOZXcgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnJvdW5kLm5leHRQaGFzZSAhPT0gbnVsbCkge1xuICAgICAgICBzdGF0ZS5yb3VuZC5waGFzZSA9IHN0YXRlLnJvdW5kLm5leHRQaGFzZTtcbiAgICAgICAgc3RhdGUucm91bmQubmV4dFBoYXNlID0gbnVsbDtcbiAgICAgICAgc3RhdGUucm91bmQuaXNQaGFzZU5ldyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5yb3VuZC5pc1BoYXNlTmV3ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCd1cGRhdGUnLCAoc3RhdGUpID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSA9PT0gJ3NldHRpbmdVcEdhbWUnKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVTZXR1cEdhbWUoc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSA9PT0gJ3BsYXlpbmdSb3VuZCcpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVBsYXlpbmdSb3VuZChzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZnVuY3Rpb24gdXBkYXRlU2V0dXBHYW1lKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmdhbWUuaXNQaGFzZU5ldykge1xuICAgICAgICBzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPSBzZXR1cFN0ZXBzWzBdO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVBsYXlpbmdSb3VuZChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5yb3VuZC5waGFzZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICByZXR1cm4gdXBkYXRlUm91bmRTdGFydChzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5yb3VuZC5waGFzZSA9PT0gJ3N0YXJ0VHVybicpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVJvdW5kU3RhcnRUdXJuKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnJvdW5kLnBoYXNlID09PSAnZW5kVHVybicpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVJvdW5kRW5kVHVybihzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVJvdW5kU3RhcnQoc3RhdGUpIHtcbiAgICBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoc3RhdGUucm91bmQuYm9hcmRTaXplLndpZHRoLCBzdGF0ZS5yb3VuZC5ib2FyZFNpemUuaGVpZ2h0KTtcbiAgICBzdGF0ZS5yb3VuZC5jdXJyZW50UGxheWVyID0gY2hvb3NlKHN0YXRlLnJvdW5kLnBsYXllcnMpO1xuICAgIHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlID0gTWF0aC5mbG9vcigoc3RhdGUucm91bmQuYm9hcmRTaXplLndpZHRoIC0gMSkgLyAyKTtcbiAgICBzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgPSAnc3RhcnRUdXJuJztcbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1cGRhdGVSb3VuZFN0YXJ0VHVybihzdGF0ZSkge1xuICAgIHN0YXRlLnJvdW5kLm5leHRQaGFzZSA9ICdkZWNpZGVNb3ZlJztcbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1cGRhdGVSb3VuZEVuZFR1cm4oc3RhdGUpIHtcbiAgICBjb25zdCBnYW1lQm9hcmQgPSBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQ7XG4gICAgY29uc3Qgd2lubmVyID0gZmluZFdpbm5lcihnYW1lQm9hcmQudGlsZXMsIHN0YXRlLnJvdW5kLmNvbm5lY3RUb1dpbik7XG4gICAgaWYgKHdpbm5lcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgcm91bmQ6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUucm91bmQpLCB7IHdpbm5lcjogd2lubmVyLCBuZXh0UGhhc2U6ICdlbmQnIH0pIH0pO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50UGxheWVyID0gc3RhdGUucm91bmQuY3VycmVudFBsYXllcjtcbiAgICBjb25zdCBjdXJyZW50UGxheWVySW5kZXggPSBzdGF0ZS5yb3VuZC5wbGF5ZXJzLmluZGV4T2YoY3VycmVudFBsYXllcik7XG4gICAgY29uc3QgbmV4dFBsYXllckluZGV4ID0gbW92ZVRocm91Z2hMb29wKGN1cnJlbnRQbGF5ZXJJbmRleCwgc3RhdGUucm91bmQucGxheWVycy5sZW5ndGgpO1xuICAgIGNvbnN0IG5leHRQbGF5ZXIgPSBzdGF0ZS5yb3VuZC5wbGF5ZXJzW25leHRQbGF5ZXJJbmRleF07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHJvdW5kOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJvdW5kKSwgeyBjdXJyZW50UGxheWVyOiBuZXh0UGxheWVyLCBuZXh0UGhhc2U6ICdzdGFydFR1cm4nIH0pIH0pO1xufVxuZnVuY3Rpb24gZmluZFdpbm5lcih0aWxlcywgY2hhaW5MZW5ndGggPSA0KSB7XG4gICAgZm9yIChsZXQgY29sdW1uSW5kZXggPSAwOyBjb2x1bW5JbmRleCA8IHRpbGVzLmxlbmd0aDsgY29sdW1uSW5kZXggKz0gMSkgeyAvLyBpdGVyYXRlIGNvbHVtbnMsIGxlZnQgdG8gcmlnaHRcbiAgICAgICAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IHRpbGVzW2NvbHVtbkluZGV4XS5sZW5ndGg7IHJvd0luZGV4ICs9IDEpIHsgLy8gaXRlcmF0ZSByb3dzLCB0b3AgdG8gYm90dG9tXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJPY2N1cHlpbmdDZWxsID0gdGlsZXNbY29sdW1uSW5kZXhdW3Jvd0luZGV4XTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJPY2N1cHlpbmdDZWxsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIGRvbid0IGNoZWNrIGVtcHR5IHNsb3RzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFpbiA9IFsuLi5uZXcgQXJyYXkoY2hhaW5MZW5ndGgpLmtleXMoKV07XG4gICAgICAgICAgICAvLyBMb29rIGVhc3RcbiAgICAgICAgICAgIGlmIChjaGFpbi5ldmVyeShjaGFpbkluZGV4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZXNbY29sdW1uSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICYmIHRpbGVzW2NvbHVtbkluZGV4XVtyb3dJbmRleCArIGNoYWluSW5kZXhdID09PSBwbGF5ZXJPY2N1cHlpbmdDZWxsO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgbm9ydGhcbiAgICAgICAgICAgIGlmIChjaGFpbi5ldmVyeShjaGFpbkluZGV4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZXNbY29sdW1uSW5kZXggKyBjaGFpbkluZGV4XVxuICAgICAgICAgICAgICAgICAgICAmJiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdW3Jvd0luZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMb29rIG5vcnRoZWFzdFxuICAgICAgICAgICAgaWYgKGNoYWluLmV2ZXJ5KGNoYWluSW5kZXggPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICYmIHRpbGVzW2NvbHVtbkluZGV4ICsgY2hhaW5JbmRleF1bcm93SW5kZXggKyBjaGFpbkluZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMb29rIHNvdXRoZWFzdFxuICAgICAgICAgICAgaWYgKGNoYWluLmV2ZXJ5KGNoYWluSW5kZXggPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICYmIHRpbGVzW2NvbHVtbkluZGV4ICsgY2hhaW5JbmRleF1bcm93SW5kZXggLSBjaGFpbkluZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5ldmVudEVtaXR0ZXIub24oJ2tleVByZXNzZWQnLCAoc3RhdGUsIHsga2V5IH0sIHsgZW1pdCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgIT09ICdwbGF5aW5nUm91bmQnIHx8IHN0YXRlLnJvdW5kLnBoYXNlICE9PSAnZGVjaWRlTW92ZScpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBjb25zdCBrZXlBc0ludGVnZXIgPSBwYXJzZUludChrZXkpO1xuICAgIGNvbnN0IGlzTnVtZXJpY0tleSA9IHR5cGVvZiBrZXlBc0ludGVnZXIgPT09ICdudW1iZXInICYmICFpc05hTihrZXlBc0ludGVnZXIpO1xuICAgIGlmICghaXNOdW1lcmljS2V5IHx8ICEoa2V5QXNJbnRlZ2VyID49IDEgJiYga2V5QXNJbnRlZ2VyIDw9IHN0YXRlLnJvdW5kLmJvYXJkU2l6ZS53aWR0aCkpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBjb25zdCBnYW1lQm9hcmQgPSBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQ7XG4gICAgY29uc3QgY29sdW1uSW5kZXggPSBrZXlBc0ludGVnZXIgLSAxO1xuICAgIGNvbnN0IGNvbHVtbiA9IGdhbWVCb2FyZC50aWxlc1tjb2x1bW5JbmRleF07XG4gICAgLy8gVGhlIGNlbGwgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIHRpbGUgaXMgdGhlIG9uZSBiZWZvcmUgdGhlIGZpcnN0IGZpbGxlZCBjZWxsXG4gICAgbGV0IGluZGV4T2ZGaXJzdEZ1bGxDZWxsID0gMDtcbiAgICBsZXQgY2VsbFRvSW5zcGVjdCA9IGNvbHVtbltpbmRleE9mRmlyc3RGdWxsQ2VsbF07XG4gICAgd2hpbGUgKGNlbGxUb0luc3BlY3QgPT09IG51bGwgJiYgaW5kZXhPZkZpcnN0RnVsbENlbGwgPD0gY29sdW1uLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgaW5kZXhPZkZpcnN0RnVsbENlbGwgKz0gMTtcbiAgICAgICAgY2VsbFRvSW5zcGVjdCA9IGNvbHVtbltpbmRleE9mRmlyc3RGdWxsQ2VsbF07XG4gICAgfVxuICAgIGlmIChpbmRleE9mRmlyc3RGdWxsQ2VsbCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGdhbWVCb2FyZC50aWxlc1tjb2x1bW5JbmRleF1baW5kZXhPZkZpcnN0RnVsbENlbGwgLSAxXSA9IHN0YXRlLnJvdW5kLmN1cnJlbnRQbGF5ZXI7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHJvdW5kOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJvdW5kKSwgeyBnYW1lQm9hcmQsIG5leHRQaGFzZTogJ2VuZFR1cm4nIH0pIH0pO1xufSk7XG5ldmVudEVtaXR0ZXIub24oJ2tleVByZXNzZWQnLCAoc3RhdGUsIHsga2V5IH0sIHsgZW1pdCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgIT09ICdwbGF5aW5nUm91bmQnIHx8IHN0YXRlLnJvdW5kLnBoYXNlICE9PSAnZGVjaWRlTW92ZScpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnYXJyb3dyaWdodCcgfHwga2V5ID09PSAnZCcpIHtcbiAgICAgICAgc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2UgPSBNYXRoLm1pbihzdGF0ZS5yb3VuZC5ib2FyZFNpemUud2lkdGggLSAxLCBzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZSArIDEpO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnYXJyb3dsZWZ0JyB8fCBrZXkgPT09ICdhJykge1xuICAgICAgICBzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZSA9IE1hdGgubWF4KDAsIHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlIC0gMSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdrZXlQcmVzc2VkJywgKHN0YXRlLCB7IGtleSB9LCB7IGVtaXQgfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlICE9PSAncGxheWluZ1JvdW5kJyB8fCBzdGF0ZS5yb3VuZC5waGFzZSAhPT0gJ2RlY2lkZU1vdmUnKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93ZG93bicgfHwga2V5ID09PSAncycpIHtcbiAgICAgICAgY29uc3QgZ2FtZUJvYXJkID0gc3RhdGUucm91bmQuZ2FtZUJvYXJkO1xuICAgICAgICBjb25zdCBjb2x1bW5JbmRleCA9IHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlO1xuICAgICAgICBjb25zdCBjb2x1bW4gPSBnYW1lQm9hcmQudGlsZXNbc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2VdO1xuICAgICAgICAvLyBUaGUgY2VsbCB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgdGlsZSBpcyB0aGUgb25lIGJlZm9yZSB0aGUgZmlyc3QgZmlsbGVkIGNlbGxcbiAgICAgICAgbGV0IGluZGV4T2ZGaXJzdEZ1bGxDZWxsID0gMDtcbiAgICAgICAgbGV0IGNlbGxUb0luc3BlY3QgPSBjb2x1bW5baW5kZXhPZkZpcnN0RnVsbENlbGxdO1xuICAgICAgICB3aGlsZSAoY2VsbFRvSW5zcGVjdCA9PT0gbnVsbCAmJiBpbmRleE9mRmlyc3RGdWxsQ2VsbCA8PSBjb2x1bW4ubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgaW5kZXhPZkZpcnN0RnVsbENlbGwgKz0gMTtcbiAgICAgICAgICAgIGNlbGxUb0luc3BlY3QgPSBjb2x1bW5baW5kZXhPZkZpcnN0RnVsbENlbGxdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbmRleE9mRmlyc3RGdWxsQ2VsbCA9PT0gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGdhbWVCb2FyZC50aWxlc1tjb2x1bW5JbmRleF1baW5kZXhPZkZpcnN0RnVsbENlbGwgLSAxXSA9IHN0YXRlLnJvdW5kLmN1cnJlbnRQbGF5ZXI7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyByb3VuZDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgZ2FtZUJvYXJkLCBuZXh0UGhhc2U6ICdlbmRUdXJuJyB9KSB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufSk7XG5ldmVudEVtaXR0ZXIub24oJ2tleVByZXNzZWQnLCAoc3RhdGUsIHsga2V5IH0pID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSAhPT0gJ3NldHRpbmdVcEdhbWUnKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudGx5U2VsZWN0ZWRTdGVwSW5kZXggPSBzZXR1cFN0ZXBzLmluZGV4T2Yoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwKTtcbiAgICBpZiAoa2V5ID09PSAnYXJyb3d1cCcgfHwga2V5ID09PSAndycpIHtcbiAgICAgICAgY29uc3QgbmV4dFNlbGVjdGVkU3RlcEluZGV4ID0gbW92ZVRocm91Z2hMb29wKGN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4LCBzZXR1cFN0ZXBzLmxlbmd0aCwgLTEpO1xuICAgICAgICBzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPSBzZXR1cFN0ZXBzW25leHRTZWxlY3RlZFN0ZXBJbmRleF07XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdhcnJvd3JpZ2h0JyB8fCBrZXkgPT09ICdkJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYW1vdW50T2ZQbGF5ZXJzJykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzID0gTWF0aC5taW4oYW1vdW50T2ZQbGF5ZXJzTWF4LCBzdGF0ZS5zZXR1cC5hbW91bnRPZlBsYXllcnMgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYm9hcmRXaWR0aCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmJvYXJkV2lkdGggPSBNYXRoLm1pbihib2FyZFdpZHRoTWF4LCBzdGF0ZS5zZXR1cC5ib2FyZFdpZHRoICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2JvYXJkSGVpZ2h0Jykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuYm9hcmRIZWlnaHQgPSBNYXRoLm1pbihib2FyZEhlaWdodE1heCwgc3RhdGUuc2V0dXAuYm9hcmRIZWlnaHQgKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnY29ubmVjdFRvV2luJykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luID0gTWF0aC5taW4oY29ubmVjdFRvV2luTWF4LCBzdGF0ZS5zZXR1cC5jb25uZWN0VG9XaW4gKyAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnYXJyb3dkb3duJyB8fCBrZXkgPT09ICdzJykge1xuICAgICAgICBjb25zdCBuZXh0U2VsZWN0ZWRTdGVwSW5kZXggPSBtb3ZlVGhyb3VnaExvb3AoY3VycmVudGx5U2VsZWN0ZWRTdGVwSW5kZXgsIHNldHVwU3RlcHMubGVuZ3RoLCAxKTtcbiAgICAgICAgc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID0gc2V0dXBTdGVwc1tuZXh0U2VsZWN0ZWRTdGVwSW5kZXhdO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnYXJyb3dsZWZ0JyB8fCBrZXkgPT09ICdhJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYW1vdW50T2ZQbGF5ZXJzJykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzID0gTWF0aC5tYXgoYW1vdW50T2ZQbGF5ZXJzTWluLCBzdGF0ZS5zZXR1cC5hbW91bnRPZlBsYXllcnMgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYm9hcmRXaWR0aCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmJvYXJkV2lkdGggPSBNYXRoLm1heChib2FyZFdpZHRoTWluLCBzdGF0ZS5zZXR1cC5ib2FyZFdpZHRoIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2JvYXJkSGVpZ2h0Jykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuYm9hcmRIZWlnaHQgPSBNYXRoLm1heChib2FyZEhlaWdodE1pbiwgc3RhdGUuc2V0dXAuYm9hcmRIZWlnaHQgLSAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnY29ubmVjdFRvV2luJykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luID0gTWF0aC5tYXgoY29ubmVjdFRvV2luTWluLCBzdGF0ZS5zZXR1cC5jb25uZWN0VG9XaW4gLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInICYmIHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ3N0YXJ0Um91bmQnKSB7XG4gICAgICAgIHN0YXRlLmdhbWUubmV4dFBoYXNlID0gJ3BsYXlpbmdSb3VuZCc7XG4gICAgICAgIHN0YXRlLnJvdW5kLm5leHRQaGFzZSA9ICdzdGFydCc7XG4gICAgICAgIHN0YXRlLnJvdW5kID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgYm9hcmRTaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHN0YXRlLnNldHVwLmJvYXJkV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCxcbiAgICAgICAgICAgIH0sIHBsYXllcnM6IHBpY2soYWxsUGxheWVycywgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzKSwgY29ubmVjdFRvV2luOiBzdGF0ZS5zZXR1cC5jb25uZWN0VG9XaW4gfSk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufSk7XG5ldmVudEVtaXR0ZXIub24oJ2tleVByZXNzZWQnLCAoc3RhdGUsIHsga2V5IH0pID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSAhPT0gJ3BsYXlpbmdSb3VuZCcgfHwgc3RhdGUucm91bmQucGhhc2UgIT09ICdlbmQnKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ3InKSB7XG4gICAgICAgIHN0YXRlLnJvdW5kLm5leHRQaGFzZSA9ICdzdGFydCc7XG4gICAgICAgIHN0YXRlLnJvdW5kID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgYm9hcmRTaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHN0YXRlLnNldHVwLmJvYXJkV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCxcbiAgICAgICAgICAgIH0sIHBsYXllcnM6IHBpY2soYWxsUGxheWVycywgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzKSwgY29ubmVjdFRvV2luOiBzdGF0ZS5zZXR1cC5jb25uZWN0VG9XaW4gfSk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ3EnKSB7XG4gICAgICAgIHN0YXRlLmdhbWUubmV4dFBoYXNlID0gJ3NldHRpbmdVcEdhbWUnO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZnVuY3Rpb24gbW92ZVRocm91Z2hMb29wKGN1cnJlbnQsIHRvdGFsLCBzdGVwID0gMSkge1xuICAgIHJldHVybiAoKGN1cnJlbnQgKyBzdGVwKSAlIHRvdGFsICsgdG90YWwpICUgdG90YWw7XG59XG5ldmVudEVtaXR0ZXIub24oJ2RyYXcnLCAoc3RhdGUsIHsgY29udGV4dCB9KSA9PiB7XG4gICAgY29udGV4dC5jbGVhclJlY3QoMCwgMCwgZ2FtZVNpemUud2lkdGgsIGdhbWVTaXplLmhlaWdodCk7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSAnI0Q3RDBGRic7XG4gICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBnYW1lU2l6ZS53aWR0aCwgZ2FtZVNpemUuaGVpZ2h0KTtcbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmV2ZW50RW1pdHRlci5vbignZHJhdycsIChzdGF0ZSwgZHJhd0V2ZW50KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgPT09ICdzZXR0aW5nVXBHYW1lJykge1xuICAgICAgICBkcmF3U2V0dGluZ1VwR2FtZShzdGF0ZSwgZHJhd0V2ZW50KTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgPT09ICdwbGF5aW5nUm91bmQnKSB7XG4gICAgICAgIGRyYXdQbGF5aW5nUm91bmQoc3RhdGUsIGRyYXdFdmVudCk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZnVuY3Rpb24gZHJhd1NldHRpbmdVcEdhbWUoc3RhdGUsIHsgY29udGV4dCB9KSB7XG4gICAgZHJhd1RleHQoJ1NldCB1cCBhIG5ldyBnYW1lJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSArIDAuNSwgeTogMjggfSwgY29udGV4dCwgJ2NlbnRlcicpO1xuICAgIGRyYXdUZXh0KCdCb2FyZCcsIHsgeDogMTUwLCB5OiA2OCB9LCBjb250ZXh0LCAncmlnaHQnKTtcbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodH0gcm93c2AsIHsgeDogMTcyLCB5OiA2OCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYm9hcmRIZWlnaHQnKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA+IGJvYXJkSGVpZ2h0TWluKSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LWxlZnQnKSwgY29udGV4dCwgeyB4OiAxNjAsIHk6IDY4IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA8IGJvYXJkSGVpZ2h0TWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA2OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5ib2FyZFdpZHRofSBjb2x1bW5zYCwgeyB4OiAxNzIsIHk6IDc4IH0sIGNvbnRleHQpO1xuICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZFdpZHRoJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCA+IGJvYXJkV2lkdGhNaW4pIHtcbiAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYXJyb3ctbGVmdCcpLCBjb250ZXh0LCB7IHg6IDE2MCwgeTogNzggfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmJvYXJkV2lkdGggPCBib2FyZFdpZHRoTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA3OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dCgnV2hvXFwncyBwbGF5aW5nPycsIHsgeDogMTUwLCB5OiA5OCB9LCBjb250ZXh0LCAncmlnaHQnKTtcbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5hbW91bnRPZlBsYXllcnN9IHBsYXllcnNgLCB7IHg6IDE3MiwgeTogOTggfSwgY29udGV4dCk7XG4gICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudE9mUGxheWVycycpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyA+IGFtb3VudE9mUGxheWVyc01pbikge1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1sZWZ0JyksIGNvbnRleHQsIHsgeDogMTYwLCB5OiA5OCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzIDwgYW1vdW50T2ZQbGF5ZXJzTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA5OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dCgnSG93IG1hbnkgdG8gd2luPycsIHsgeDogMTUwLCB5OiAxMTggfSwgY29udGV4dCwgJ3JpZ2h0Jyk7XG4gICAgZHJhd1RleHQoYGNvbm5lY3QgJHtzdGF0ZS5zZXR1cC5jb25uZWN0VG9XaW59YCwgeyB4OiAxNzIsIHk6IDExOCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnY29ubmVjdFRvV2luJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luID4gY29ubmVjdFRvV2luTWluKSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LWxlZnQnKSwgY29udGV4dCwgeyB4OiAxNjAsIHk6IDExOCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luIDwgY29ubmVjdFRvV2luTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiAxMTggfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd1RleHQoJ3N0YXJ0JywgeyB4OiAxNzIsIHk6IDEzOCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnc3RhcnRSb3VuZCcpIHtcbiAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1yaWdodCcpLCBjb250ZXh0LCB7IHg6IDE2MCwgeTogMTM4IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRyYXdQbGF5aW5nUm91bmQoc3RhdGUsIGRyYXdFdmVudCkge1xuICAgIGNvbnN0IGdhbWVCb2FyZCA9IHN0YXRlLnJvdW5kLmdhbWVCb2FyZDtcbiAgICBkcmF3Qm9hcmRCYWNrKGdhbWVCb2FyZCwgZHJhd0V2ZW50LmNvbnRleHQsIHN0YXRlKTtcbiAgICBkcmF3Q29pbnNJbkJvYXJkKGdhbWVCb2FyZCwgZHJhd0V2ZW50LmNvbnRleHQsIHN0YXRlKTtcbiAgICBkcmF3Qm9hcmRGcm9udChnYW1lQm9hcmQsIGRyYXdFdmVudC5jb250ZXh0LCBzdGF0ZSk7XG4gICAgaWYgKHN0YXRlLnJvdW5kLnBoYXNlID09PSAnZGVjaWRlTW92ZScpIHtcbiAgICAgICAgZHJhd1JvdW5kRGVjaWRpbmdNb3ZlKHN0YXRlLCBkcmF3RXZlbnQpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUucm91bmQucGhhc2UgPT09ICdlbmQnICYmIHN0YXRlLnJvdW5kLndpbm5lcikge1xuICAgICAgICBkcmF3Um91bmRFbmQoc3RhdGUsIGRyYXdFdmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZHJhd1JvdW5kRGVjaWRpbmdNb3ZlKHN0YXRlLCB7IGNvbnRleHQgfSkge1xuICAgIGNvbnN0IGJvYXJkT3JpZ2luID0gZ2V0Qm9hcmRPcmlnaW4oc3RhdGUucm91bmQuYm9hcmRTaXplKTtcbiAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgYGNvaW4tJHtzdGF0ZS5yb3VuZC5jdXJyZW50UGxheWVyfWApLCBjb250ZXh0LCB7XG4gICAgICAgIHg6IGJvYXJkT3JpZ2luLnggKyAoc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2UgKiB0aWxlU2l6ZS53aWR0aCksXG4gICAgICAgIHk6IGJvYXJkT3JpZ2luLnkgLSBNYXRoLmZsb29yKDEuNSAqIHRpbGVTaXplLmhlaWdodCksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3Um91bmRFbmQoc3RhdGUsIHsgY29udGV4dCB9KSB7XG4gICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsIGBjb2luLSR7c3RhdGUucm91bmQud2lubmVyfWApLCBjb250ZXh0LCB7XG4gICAgICAgIHg6IChnYW1lU2l6ZS53aWR0aCAvIDIpIC0gKHRpbGVTaXplLndpZHRoIC8gMikgLSAxMixcbiAgICAgICAgeTogNFxuICAgIH0pO1xuICAgIGRyYXdUZXh0KCd3aW5zIScsIHsgeDogKGdhbWVTaXplLndpZHRoIC8gMikgLSAyLCB5OiA4IH0sIGNvbnRleHQpO1xuICAgIGRyYXdUZXh0KCdxOiBzZXQgdXAgbmV3IGdhbWUgfCByOiByZW1hdGNoJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSArIDAuNSwgeTogMjQgfSwgY29udGV4dCwgJ2NlbnRlcicpO1xufVxuZnVuY3Rpb24gZHJhd0NvaW5zSW5Cb2FyZChnYW1lQm9hcmQsIGNvbnRleHQsIHN0YXRlKSB7XG4gICAgY29uc3QgYm9hcmRPcmlnaW4gPSBnZXRCb2FyZE9yaWdpbihzdGF0ZS5yb3VuZC5ib2FyZFNpemUpO1xuICAgIGdhbWVCb2FyZC50aWxlcy5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBjb2x1bW5JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29pbk9yaWdpbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBib2FyZE9yaWdpbi54ICsgcm93SW5kZXggKiB0aWxlU2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiBib2FyZE9yaWdpbi55ICsgY29sdW1uSW5kZXggKiB0aWxlU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgYGNvaW4tJHtjZWxsfWApLCBjb250ZXh0LCBjb2luT3JpZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3Qm9hcmRCYWNrKGdhbWVCb2FyZCwgY29udGV4dCwgc3RhdGUpIHtcbiAgICBjb25zdCBib2FyZE9yaWdpbiA9IGdldEJvYXJkT3JpZ2luKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZSk7XG4gICAgZ2FtZUJvYXJkLnRpbGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjZWxsT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgIHg6IGJvYXJkT3JpZ2luLnggKyByb3dJbmRleCAqIHRpbGVTaXplLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IGJvYXJkT3JpZ2luLnkgKyBjb2x1bW5JbmRleCAqIHRpbGVTaXplLmhlaWdodCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLXBvc2l0aW9uLWJhY2snKSwgY29udGV4dCwgY2VsbE9yaWdpbik7XG4gICAgICAgICAgICBpZiAoY29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvbHVtbi10b3AtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLngsIHk6IGNlbGxPcmlnaW4ueSAtIDggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uSW5kZXggPT09IHJvdy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb2x1bW4tYm90dG9tLWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54LCB5OiBjZWxsT3JpZ2luLnkgKyB0aWxlU2l6ZS5oZWlnaHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLXJvdy1sZWZ0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54IC0gOCwgeTogY2VsbE9yaWdpbi55IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSBnYW1lQm9hcmQudGlsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtcm93LXJpZ2h0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54ICsgdGlsZVNpemUud2lkdGgsIHk6IGNlbGxPcmlnaW4ueSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMCAmJiBjb2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29ybmVyLXRvcC1sZWZ0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54IC0gOCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gZ2FtZUJvYXJkLnRpbGVzLmxlbmd0aCAtIDEgJiYgY29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci10b3AtcmlnaHQtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggKyB0aWxlU2l6ZS53aWR0aCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gZ2FtZUJvYXJkLnRpbGVzLmxlbmd0aCAtIDEgJiYgY29sdW1uSW5kZXggPT09IHJvdy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItYm90dG9tLXJpZ2h0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54ICsgdGlsZVNpemUud2lkdGgsIHk6IGNlbGxPcmlnaW4ueSArIHRpbGVTaXplLmhlaWdodCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMCAmJiBjb2x1bW5JbmRleCA9PT0gcm93Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci1ib3R0b20tbGVmdC1mcm9udCcpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCAtIDgsIHk6IGNlbGxPcmlnaW4ueSArIHRpbGVTaXplLmhlaWdodCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3Qm9hcmRGcm9udChnYW1lQm9hcmQsIGNvbnRleHQsIHN0YXRlKSB7XG4gICAgY29uc3QgYm9hcmRPcmlnaW4gPSBnZXRCb2FyZE9yaWdpbihzdGF0ZS5yb3VuZC5ib2FyZFNpemUpO1xuICAgIGdhbWVCb2FyZC50aWxlcy5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBjb2x1bW5JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2VsbE9yaWdpbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBib2FyZE9yaWdpbi54ICsgcm93SW5kZXggKiB0aWxlU2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiBib2FyZE9yaWdpbi55ICsgY29sdW1uSW5kZXggKiB0aWxlU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1wb3NpdGlvbi1mcm9udCcpLCBjb250ZXh0LCBjZWxsT3JpZ2luKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29sdW1uLXRvcC1iYWNrJyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54LCB5OiBjZWxsT3JpZ2luLnkgLSA4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSAwICYmIGNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItdG9wLWxlZnQtYmFjaycpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCAtIDgsIHk6IGNlbGxPcmlnaW4ueSAtIDggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGdhbWVCb2FyZC50aWxlcy5sZW5ndGggLSAxICYmIGNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItdG9wLXJpZ2h0LWJhY2snKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggKyB0aWxlU2l6ZS53aWR0aCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRCb2FyZE9yaWdpbihib2FyZFNpemUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSAtICgoYm9hcmRTaXplLndpZHRoIC8gMikgKiB0aWxlU2l6ZS53aWR0aCksXG4gICAgICAgIHk6IDQwLFxuICAgIH07XG59XG5mdW5jdGlvbiBkcmF3VGV4dChzdHJpbmcsIHBvc2l0aW9uLCBjb250ZXh0LCBhbGlnbiA9ICdsZWZ0JywgY29sb3IgPSAnIzAwMDAwMCcpIHtcbiAgICBjb250ZXh0LnRleHRBbGlnbiA9IGFsaWduO1xuICAgIGNvbnRleHQudGV4dEJhc2VsaW5lID0gJ3RvcCc7XG4gICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICBjb250ZXh0LmZvbnQgPSAnMTBweCBCaXJkU2VlZC1SZWd1bGFyJztcbiAgICBjb250ZXh0LmZpbGxUZXh0KHN0cmluZywgcG9zaXRpb24ueCwgcG9zaXRpb24ueSk7XG59XG5nYW1lLnN0YXJ0KCk7XG4iLCJpbXBvcnQgYXJyYXlXaXRob3V0IGZyb20gJ0BiYWtrZXJqb2VyaS9hcnJheS13aXRob3V0JztcbmltcG9ydCBvYmplY3RXaXRob3V0IGZyb20gJ0BiYWtrZXJqb2VyaS9vYmplY3Qtd2l0aG91dCc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5vbiA9IHRoaXMub24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0ID0gdGhpcy5lbWl0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlID0gdGhpcy5yZW1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwgPSB0aGlzLnJlbW92ZUFsbC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbihldmVudFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmV2ZW50SGFuZGxlcnMpLCB7IFtldmVudFR5cGVdOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0gfHwgW10sXG4gICAgICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgIF0gfSk7XG4gICAgfVxuICAgIHJlbW92ZShldmVudFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmV2ZW50SGFuZGxlcnMpLCB7IFtldmVudFR5cGVdOiBhcnJheVdpdGhvdXQodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0sIGhhbmRsZXIpIH0pO1xuICAgIH1cbiAgICByZW1vdmVBbGwoZXZlbnRUeXBlKSB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IG9iamVjdFdpdGhvdXQodGhpcy5ldmVudEhhbmRsZXJzLCBldmVudFR5cGUpO1xuICAgIH1cbiAgICBlbWl0KGV2ZW50VHlwZSwgaW5pdGlhbFN0YXRlLCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShldmVudFR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV07XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5yZWR1Y2UoKG5ld1N0YXRlLCBjdXJyZW50SGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRIYW5kbGVyKG5ld1N0YXRlLCBldmVudCwge1xuICAgICAgICAgICAgICAgIG9uOiB0aGlzLm9uLFxuICAgICAgICAgICAgICAgIGVtaXQ6IHRoaXMuZW1pdCxcbiAgICAgICAgICAgICAgICByZW1vdmU6IHRoaXMucmVtb3ZlLFxuICAgICAgICAgICAgICAgIHJlbW92ZUFsbDogdGhpcy5yZW1vdmVBbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvYmplY3RXaXRob3V0KG9iamVjdCwgLi4ua2V5c1RvUmVtb3ZlKSB7XG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG9iamVjdCk7XG4gICAgcmV0dXJuIGVudHJpZXMucmVkdWNlKChuZXdPYmplY3QsIFtjdXJyZW50S2V5LCBjdXJyZW50VmFsdWVdKSA9PiB7XG4gICAgICAgIGlmIChrZXlzVG9SZW1vdmUuaW5jbHVkZXMoY3VycmVudEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbmV3T2JqZWN0KSwgeyBbY3VycmVudEtleV06IGN1cnJlbnRWYWx1ZSB9KTtcbiAgICB9LCB7fSk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc2V0dXBHYW1lKGNvbnRhaW5lclNlbGVjdG9yLCBzaXplKSB7XG4gICAgLyoqXG4gICAgICogRmlyc3QsIHdlIG1vdW50IHRoZSBnYW1lIGluIHRoZSBjb250YWluZXIgZWxlbWVudC5cbiAgICAgKi9cbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBjcmVhdGUgY29udGV4dCBmcm9tIGNhbnZhcycpO1xuICAgIH1cbiAgICBjb25zdCBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIGlmICghZ2FtZUNvbnRhaW5lcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkbid0IGZpbmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yICR7Y29udGFpbmVyU2VsZWN0b3J9IHRvIG1vdW50IGNhbnZhcyBvbi5gKTtcbiAgICB9XG4gICAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgIC8qKlxuICAgICAqIFdlIGdpdmUgdGhlIGNhbnZhcyB0aGUgdXNlciBkZWZpbmVkIHBpeGVsIHNpemUgdGhyb3VnaCBlbGVtZW50IGF0dHJpYnV0ZXMsXG4gICAgICogYnV0IG1ha2Ugc3VyZSBpdCBmaWxscyBpdCdzIGNvbnRhaW5lciB0aHJvdWdoIENTUy5cbiAgICAgKi9cbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIChzaXplLndpZHRoKS50b1N0cmluZygpKTtcbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAoc2l6ZS5oZWlnaHQpLnRvU3RyaW5nKCkpO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGNhbnZhcy5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCBhbiBpbmxpbmUgZWxlbWVudCwgdGhlIGNhbnZhcyBjYW4gaGF2ZSBzb21lIHN0cmF5IHNwYWNpbmcuXG4gICAgICogV2UgY2hhbmdlIGl0cyBkaXNwbGF5IHZhbHVlIHRvIGJsb2NrIHRvIHByZXZlbnQgdGhvc2UuXG4gICAgICovXG4gICAgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIC8qKlxuICAgICAqIFdlIG1ha2Ugc3VyZSB0aGF0IHJlbmRlcmluZyBpcyBjcmlzcCBpbiBkaWZmZXJlbnQgYnJvd3NlcnMuXG4gICAgICovXG4gICAgY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nID0gJy1tb3otY3Jpc3AtZWRnZXMnO1xuICAgIGNhbnZhcy5zdHlsZS5pbWFnZVJlbmRlcmluZyA9ICctd2Via2l0LWNyaXNwLWVkZ2VzJztcbiAgICBjYW52YXMuc3R5bGUuaW1hZ2VSZW5kZXJpbmcgPSAncGl4ZWxhdGVkJztcbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjYW52YXMsXG4gICAgfTtcbn1cbiIsImltcG9ydCBhcnJheVdpdGhvdXQgZnJvbSAnQGJha2tlcmpvZXJpL2FycmF5LXdpdGhvdXQnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5Ym9hcmQge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50RW1pdHRlcikge1xuICAgICAgICB0aGlzLnByZXNzZWRLZXlzID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLnJlbGVhc2VkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IGV2ZW50RW1pdHRlcjtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzS2V5UHJlc3NlZChrZXkpICYmICF0aGlzLmlzS2V5RG93bihrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cyA9IFsuLi50aGlzLnByZXNzZWRLZXlzLCBrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzS2V5RG93bihrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVLZXlzID0gWy4uLnRoaXMuYWN0aXZlS2V5cywga2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0tleURvd24oa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IGFycmF5V2l0aG91dCh0aGlzLmFjdGl2ZUtleXMsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNLZXlSZWxlYXNlZChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlZEtleXMgPSBbLi4udGhpcy5yZWxlYXNlZEtleXMsIGtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMucmVzZXRBbGxLZXlzLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbigndXBkYXRlJywgKHN0YXRlLCB7fSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5mb3JFYWNoKChhY3RpdmVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2tleVByZXNzZWQnLCBzdGF0ZSwgeyBrZXk6IGFjdGl2ZUtleSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVLZXlzLmZvckVhY2goKGFjdGl2ZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgna2V5RG93bicsIHN0YXRlLCB7IGtleTogYWN0aXZlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VkS2V5cy5mb3JFYWNoKChhY3RpdmVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2tleVVwJywgc3RhdGUsIHsga2V5OiBhY3RpdmVLZXkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKCdhZnRlclVwZGF0ZScsIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNldFByZXNzZWRLZXlzKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UmVsZWFzZWRLZXlzKCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpc0tleVByZXNzZWQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXNzZWRLZXlzLmluY2x1ZGVzKGtleSk7XG4gICAgfVxuICAgIGlzS2V5RG93bihrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlS2V5cy5pbmNsdWRlcyhrZXkpO1xuICAgIH1cbiAgICBpc0tleVJlbGVhc2VkKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWxlYXNlZEtleXMuaW5jbHVkZXMoa2V5KTtcbiAgICB9XG4gICAgcmVzZXRQcmVzc2VkS2V5cygpIHtcbiAgICAgICAgdGhpcy5wcmVzc2VkS2V5cyA9IFtdO1xuICAgIH1cbiAgICByZXNldEFjdGl2ZUtleXMoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IFtdO1xuICAgIH1cbiAgICByZXNldFJlbGVhc2VkS2V5cygpIHtcbiAgICAgICAgdGhpcy5yZWxlYXNlZEtleXMgPSBbXTtcbiAgICB9XG4gICAgcmVzZXRBbGxLZXlzKCkge1xuICAgICAgICB0aGlzLnJlc2V0UHJlc3NlZEtleXMoKTtcbiAgICAgICAgdGhpcy5yZXNldEFjdGl2ZUtleXMoKTtcbiAgICAgICAgdGhpcy5yZXNldFJlbGVhc2VkS2V5cygpO1xuICAgIH1cbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwaXBlKC4uLmZ1bmN0aW9ucykge1xuICAgIHJldHVybiBmdW5jdGlvbnMucmVkdWNlKChwaXBlZEZ1bmN0aW9uLCBjdXJyZW50RnVuY3Rpb24pID0+IHtcbiAgICAgICAgcmV0dXJuICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRGdW5jdGlvbihwaXBlZEZ1bmN0aW9uKHZhbHVlKSk7XG4gICAgICAgIH07XG4gICAgfSwgKHZhbHVlKSA9PiB2YWx1ZSk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9