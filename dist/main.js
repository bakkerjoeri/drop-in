!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){window.requestAnimationFrame(t=>{!function(e,t){e(t),r(e)}(e,t)})}n.r(t);const s={entities:{},sprites:{}};function i(e,...t){return e.filter(e=>!t.includes(e))}function o(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}const a=e=>t=>Object.assign(Object.assign({},t),{sprites:Object.assign(Object.assign({},t.sprites),{[e.name]:e})});function c(e,t){if(!e.sprites.hasOwnProperty(t))throw new Error(`No sprite with name ${t} found.`);return e.sprites[t]}function d(e,t,n,r=0){if(!e.frames[r])throw new Error(`Sprite ${e.name} does not have frame with index ${r}`);const s=e.frames[r],i=u(s.file);t.drawImage(i,s.origin.x,s.origin.y,s.size.width,s.size.height,n.x+e.offset.x,n.y+e.offset.y,s.size.width,s.size.height)}const h={};function u(e,t=!0){if(t&&h[e])return h[e];const n=new Image;return n.src=e,h[e]=n,n.onerror=()=>{throw delete h[e],new Error(`No image found at ${e}.`)},n}function l(e,t){for(let n=0;n<e;n+=1)t(n)}function f(e,t){const n=[];return l(e,e=>{n[e]=[],l(t,t=>{n[e][t]=null})}),n}var y=[{name:"arrow-left",frames:[{file:"src/assets/sprites/arrows.png",origin:{x:0,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"arrow-right",frames:[{file:"src/assets/sprites/arrows.png",origin:{x:8,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"coin-red",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:0},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-blue",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:16},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-yellow",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:32},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-green",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:48},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-purple",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:64},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-white",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:80},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-black",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:96},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-position-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:40},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-column-top-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:32},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-column-bottom-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:56},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-row-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:40},size:{width:8,height:16}}],offset:{x:0,y:0}},{name:"board-row-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:40},size:{width:8,height:16}}],offset:{x:0,y:0}},{name:"board-corner-top-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:32},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:32},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-bottom-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:56},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-bottom-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:56},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-position-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:8},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-column-top-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:0},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-left-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-right-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}}];function p(e){if(0===e.length)throw new Error("Cannot choose from 0 choices.");return e[(t=0,n=e.length-1,Math.floor(Math.random()*(n+1+t)))];var t,n}function g(e,t,n=!1){if(!n&&t>e.length)throw new Error(`Can't randomly pick ${t} items without putting them back from an array that's only ${e.length} long.`);const r=[];for(let s=0;s<t;s+=1){const t=p(e);r.push(t),n||(e=e.filter(e=>e!==t))}return r}function m(e,t,n,r,s,{color:i="#000000",align:o="start",baseline:a="alphabetic",direction:c="ltr"}={}){const d=function(e,t){b.hasOwnProperty(e)||(b[e]={});if(!b[e].hasOwnProperty(t)){b[e][t]=document.createElement("canvas");const n=b[e][t],r=n.getContext("2d");if(!r)throw new Error("Could not create context for font canvas. Perhaps this browser does not support the Canvas API.");const s=u(e);s.addEventListener("load",()=>{r.drawImage(s,0,0),r.globalCompositeOperation="source-in",r.fillStyle=t,r.fillRect(0,0,n.width,n.height)})}return b[e][t]}(r,i),h=s.size,l=function(e,t,n,r){const s={ltr:1,rtl:-1}[n];return e.split("\n").map(e=>{let n=0;return Array.from(e).reduce((e,i)=>{const o=i.charCodeAt(0),a=t.chars.indexOf(o),c=t.advance[a];if(32===o)return n=n+c*s+1*s,Object.assign(Object.assign({},e),{width:e.width+c+1});const d={x:t.pack_x[a],y:t.pack_y[a]},h={width:t.width[a],height:t.height[a]},u=t.offset_x[a],l=t.offset_y[a],f={x:n+u*s,y:l+x(t,r)};return n=n+c*s+1*s,Object.assign(Object.assign({},e),{width:e.width+c+1,characters:[...e.characters,{positionInAtlas:d,sizeInAtlas:h,positionInLine:f}]})},{width:0,characters:[]})})}(t,s,c,a),f=Math.max(...l.map(e=>e.width));l.forEach((t,r)=>{const s=function(e,t,n,r){if("center"===n)return(t-e)/2-t/2;if("right"===n||"start"===n&&"rtl"===r||"end"===n&&"ltr"===r)return-e;return 0}(t.width,f,o,c),i=r*h;t.characters.forEach(({positionInAtlas:t,positionInLine:r,sizeInAtlas:o})=>{e.drawImage(d,t.x,t.y,o.width,o.height,Math.round(n.x+s+r.x),Math.round(n.y+i+r.y),o.width,o.height)})})}const b={};function x(e,t){return"top"===t?e.ascent:"hanging"===t?e.ascent+e.descent:"middle"===t?(e.ascent+e.descent)/2:"bottom"===t?e.descent:0}var w={name:"ChevyRay - Bird Seed",size:10,ascent:7,descent:-2,char_count:95,kerning_count:60,chars:[32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126],advance:[2,1,3,5,5,6,6,1,2,2,3,5,2,5,1,6,5,5,5,5,5,5,5,5,5,5,1,2,6,5,6,5,6,6,6,6,6,6,6,7,6,5,6,6,5,7,6,6,6,6,6,7,7,6,7,7,7,7,7,2,6,2,5,5,2,5,5,5,5,5,5,5,5,3,2,5,3,7,5,5,5,5,5,5,5,5,5,7,5,5,5,3,1,3,6],offset_x:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],offset_y:[0,-7,-7,-6,-7,-6,-7,-7,-7,-7,-7,-6,-1,-4,-1,-6,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-5,-5,-6,-5,-6,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-6,-7,-7,-1,-7,-5,-7,-5,-8,-5,-7,-5,-7,-7,-7,-7,-7,-5,-5,-5,-5,-5,-5,-5,-7,-5,-5,-5,-5,-5,-5,-7,-7,-7,-4],width:[0,1,3,5,5,6,6,1,2,2,3,5,2,5,1,6,5,5,5,5,5,5,5,5,5,5,1,2,6,5,6,5,6,6,6,6,6,6,6,7,6,5,6,6,5,7,6,6,6,6,6,7,7,6,7,7,7,7,7,2,6,2,5,5,2,5,5,5,5,5,4,5,5,3,2,5,3,7,5,5,5,6,5,5,4,5,5,7,5,5,5,3,1,3,6],height:[0,7,2,6,7,6,7,2,7,7,4,6,2,2,1,6,7,7,7,7,7,7,7,7,7,7,5,6,6,4,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,7,7,7,7,7,7,7,7,6,7,4,1,2,5,7,5,8,5,7,7,7,7,10,7,7,5,5,5,7,7,5,5,7,5,5,5,5,7,5,7,7,7,3],pack_x:[0,0,0,2,0,0,6,4,0,0,8,12,6,0,8,3,7,3,6,0,9,13,13,13,0,0,10,18,0,6,6,6,12,15,19,19,19,0,0,0,7,12,13,19,22,7,14,18,20,26,26,26,33,26,28,33,34,41,0,0,7,0,28,20,9,3,3,3,8,8,9,9,14,15,14,19,14,17,20,21,25,27,21,25,33,36,36,41,42,48,49,27,15,15,27],pack_y:[0,0,8,0,11,19,7,7,26,34,0,0,15,42,5,26,18,33,41,45,33,7,15,23,53,61,26,0,69,49,54,61,41,31,7,15,23,76,84,92,69,61,49,39,31,77,69,57,47,0,39,9,0,17,25,17,8,0,100,108,85,116,33,55,15,108,114,122,92,101,107,115,85,77,93,77,104,93,85,65,57,47,71,77,38,25,31,16,8,8,0,65,112,120,73],kerning:[76,84,-1,76,89,-1,84,97,-1,84,99,-1,84,100,-1,84,101,-1,84,103,-1,84,109,-1,84,110,-1,84,111,-1,84,112,-1,84,113,-1,84,114,-1,84,115,-1,84,117,-1,84,118,-1,84,119,-1,84,120,-1,84,121,-1,84,122,-1,89,97,-1,89,99,-1,89,100,-1,89,101,-1,89,103,-1,89,109,-1,89,111,-1,89,113,-1,89,115,-1,97,84,-1,97,89,-1,98,84,-1,98,89,-1,99,84,-1,99,89,-1,101,84,-1,101,89,-1,103,84,-1,104,84,-1,104,89,-1,107,84,-1,109,84,-1,109,89,-1,110,84,-1,110,89,-1,111,84,-1,111,89,-1,112,84,-1,112,89,-1,113,84,-1,114,84,-1,114,89,-1,115,84,-1,115,89,-1,117,84,-1,118,84,-1,119,84,-1,120,84,-1,121,84,-1,122,84,-1]};const v={width:320,height:180},P=16,O=16,S={width:8,height:6},j=["boardHeight","boardWidth","amountOfPlayers","connectToWin","startRound"],z=["red","blue","yellow","green","purple","white","black"],k=new class{constructor(){this.eventHandlers={},this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.remove=this.remove.bind(this),this.removeAll=this.removeAll.bind(this)}on(e,t){this.eventHandlers=Object.assign(Object.assign({},this.eventHandlers),{[e]:[...this.eventHandlers[e]||[],t]})}remove(e,t){this.eventHandlers=Object.assign(Object.assign({},this.eventHandlers),{[e]:i(this.eventHandlers[e],t)})}removeAll(e){this.eventHandlers=function(e,...t){return Object.entries(e).reduce((e,[n,r])=>t.includes(n)?e:Object.assign(Object.assign({},e),{[n]:r}),{})}(this.eventHandlers,e)}emit(e,t,n){if(!this.eventHandlers.hasOwnProperty(e))return t;return this.eventHandlers[e].reduce((e,t)=>t(e,n,{on:this.on,emit:this.emit,remove:this.remove,removeAll:this.removeAll}),t)}},E=new class{constructor(e,t,{initialState:n=s,containerSelector:r="body"}={}){this.eventEmitter=t;const{canvas:i,context:o}=function(e,t){const n=document.createElement("canvas"),r=n.getContext("2d",{alpha:!1});if(!r)throw new Error("Couldn't create context from canvas");const s=document.documentElement.querySelector(e);if(!s)throw new Error(`Couldn't find element with selector ${e} to mount canvas on.`);return s.appendChild(n),n.setAttribute("width",t.width.toString()),n.setAttribute("height",t.height.toString()),n.style.width="100%",n.style.height="100%",n.style.objectFit="contain",n.style.display="block",n.style.imageRendering="-moz-crisp-edges",n.style.imageRendering="-webkit-crisp-edges",n.style.imageRendering="pixelated",{context:r,canvas:n}}(r,e);this.canvas=i,this.context=o,this.state=Object.assign({},n)}start(){this.state=this.eventEmitter.emit("start",this.state,{}),r(e=>{this.state=this.eventEmitter.emit("beforeUpdate",this.state,{time:e}),this.state=this.eventEmitter.emit("update",this.state,{time:e}),this.state=this.eventEmitter.emit("afterUpdate",this.state,{time:e}),this.state=this.eventEmitter.emit("beforeDraw",this.state,{time:e,context:this.context}),this.state=this.eventEmitter.emit("draw",this.state,{time:e,context:this.context}),this.state=this.eventEmitter.emit("afterDraw",this.state,{time:e,context:this.context})})}}(v,k,{initialState:Object.assign(Object.assign({},s),{game:{isPhaseNew:!0,phase:null,nextPhase:"settingUpGame"},setup:{boardWidth:S.width,boardHeight:S.height,amountOfPlayers:2,connectToWin:4,currentlySelectedStep:j[0]},round:{isPhaseNew:!0,phase:null,nextPhase:"start",gameBoard:null,boardSize:S,connectToWin:4,players:[],currentPlayer:null,positionToPlacePiece:0,winner:null}}),containerSelector:".game"});function K(e,t,n=1){return((e+n)%t+t)%t}function T(e){return{x:v.width/2-e.width/2*P,y:40}}function W(e,t,n,r="left",s){m(n,e,t,"/src/assets/fonts/BirdSeed/atlas.png",w,{align:r,baseline:"top",color:s})}new class{constructor(e){this.pressedKeys=[],this.activeKeys=[],this.releasedKeys=[],this.eventEmitter=e,window.addEventListener("keydown",e=>{const t=e.key.toLowerCase();this.isKeyPressed(t)||this.isKeyDown(t)||(this.pressedKeys=[...this.pressedKeys,t]),this.isKeyDown(t)||(this.activeKeys=[...this.activeKeys,t])}),window.addEventListener("keyup",e=>{const t=e.key.toLowerCase();this.isKeyDown(t)&&(this.activeKeys=i(this.activeKeys,t)),this.isKeyReleased(t)||(this.releasedKeys=[...this.releasedKeys,t])}),window.addEventListener("blur",this.resetAllKeys.bind(this)),this.eventEmitter.on("update",(e,{})=>(this.pressedKeys.forEach(t=>{e=this.eventEmitter.emit("keyPressed",e,{key:t})}),this.activeKeys.forEach(t=>{e=this.eventEmitter.emit("keyDown",e,{key:t})}),this.releasedKeys.forEach(t=>{e=this.eventEmitter.emit("keyUp",e,{key:t})}),e)),this.eventEmitter.on("afterUpdate",e=>(this.resetPressedKeys(),this.resetReleasedKeys(),e))}isKeyPressed(e){return this.pressedKeys.includes(e)}isKeyDown(e){return this.activeKeys.includes(e)}isKeyReleased(e){return this.releasedKeys.includes(e)}resetPressedKeys(){this.pressedKeys=[]}resetActiveKeys(){this.activeKeys=[]}resetReleasedKeys(){this.releasedKeys=[]}resetAllKeys(){this.resetPressedKeys(),this.resetActiveKeys(),this.resetReleasedKeys()}}(k),k.on("start",e=>{return(t=y,e=>o(...t.map(a))(e))(e);var t}),k.on("beforeUpdate",e=>(null!==e.game.nextPhase?(e.game.phase=e.game.nextPhase,e.game.nextPhase=null,e.game.isPhaseNew=!0):e.game.isPhaseNew=!1,null!==e.round.nextPhase?(e.round.phase=e.round.nextPhase,e.round.nextPhase=null,e.round.isPhaseNew=!0):e.round.isPhaseNew=!1,e)),k.on("update",e=>"settingUpGame"===e.game.phase?function(e){if(e.game.isPhaseNew)return e.setup.currentlySelectedStep=j[0],e;return e}(e):"playingRound"===e.game.phase?function(e){if("start"===e.round.phase)return function(e){return e.round.gameBoard=function(e,t){return{isGameBoard:!0,tiles:f(e,t)}}(e.round.boardSize.width,e.round.boardSize.height),e.round.currentPlayer=p(e.round.players),e.round.positionToPlacePiece=Math.floor((e.round.boardSize.width-1)/2),e.round.nextPhase="startTurn",e}(e);if("startTurn"===e.round.phase)return function(e){return e.round.nextPhase="decideMove",e}(e);if("endTurn"===e.round.phase)return function(e){const t=e.round.gameBoard,n=function(e,t=4){for(let n=0;n<e.length;n+=1)for(let r=0;r<e[n].length;r+=1){const s=e[n][r];if(null===s)continue;const i=[...new Array(t).keys()];if(i.every(t=>e[n]&&e[n][r+t]===s))return s;if(i.every(t=>e[n+t]&&e[n+t][r]===s))return s;if(i.every(t=>e[n+t]&&e[n+t][r+t]===s))return s;if(i.every(t=>e[n+t]&&e[n+t][r-t]===s))return s}return null}(t.tiles,e.round.connectToWin);if(n)return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{winner:n,nextPhase:"end"})});if(r=t.tiles,r.every(e=>e.every(e=>null!==e)))return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{nextPhase:"end"})});var r;const s=e.round.currentPlayer,i=K(e.round.players.indexOf(s),e.round.players.length),o=e.round.players[i];return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{currentPlayer:o,nextPhase:"startTurn"})})}(e);return e}(e):e),k.on("keyPressed",(e,{key:t},{emit:n})=>{if("playingRound"!==e.game.phase||"decideMove"!==e.round.phase)return e;const r=parseInt(t);if(!("number"==typeof r&&!isNaN(r))||!(r>=1&&r<=e.round.boardSize.width))return e;const s=e.round.gameBoard,i=r-1,o=s.tiles[i];let a=0,c=o[a];for(;null===c&&a<=o.length-1;)a+=1,c=o[a];return 0===a?e:(s.tiles[i][a-1]=e.round.currentPlayer,Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{gameBoard:s,nextPhase:"endTurn"})}))}),k.on("keyPressed",(e,{key:t},{emit:n})=>("playingRound"!==e.game.phase||"decideMove"!==e.round.phase||("arrowright"!==t&&"d"!==t||(e.round.positionToPlacePiece=Math.min(e.round.boardSize.width-1,e.round.positionToPlacePiece+1)),"arrowleft"!==t&&"a"!==t||(e.round.positionToPlacePiece=Math.max(0,e.round.positionToPlacePiece-1))),e)),k.on("keyPressed",(e,{key:t},{emit:n})=>{if("playingRound"!==e.game.phase||"decideMove"!==e.round.phase)return e;if("arrowdown"===t||"s"===t){const t=e.round.gameBoard,n=e.round.positionToPlacePiece,r=t.tiles[e.round.positionToPlacePiece];let s=0,i=r[s];for(;null===i&&s<=r.length-1;)s+=1,i=r[s];return 0===s?e:(t.tiles[n][s-1]=e.round.currentPlayer,Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{gameBoard:t,nextPhase:"endTurn"})}))}return e}),k.on("keyPressed",(e,{key:t})=>{if("settingUpGame"!==e.game.phase)return e;const n=j.indexOf(e.setup.currentlySelectedStep);if("arrowup"===t||"w"===t){const t=K(n,j.length,-1);e.setup.currentlySelectedStep=j[t]}if("arrowright"!==t&&"d"!==t||("amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers=Math.min(7,e.setup.amountOfPlayers+1)),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth=Math.min(18,e.setup.boardWidth+1)),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight=Math.min(8,e.setup.boardHeight+1)),"connectToWin"===e.setup.currentlySelectedStep&&(e.setup.connectToWin=Math.min(8,e.setup.connectToWin+1))),"arrowdown"===t||"s"===t){const t=K(n,j.length,1);e.setup.currentlySelectedStep=j[t]}return"arrowleft"!==t&&"a"!==t||("amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers=Math.max(2,e.setup.amountOfPlayers-1)),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth=Math.max(2,e.setup.boardWidth-1)),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight=Math.max(4,e.setup.boardHeight-1)),"connectToWin"===e.setup.currentlySelectedStep&&(e.setup.connectToWin=Math.max(3,e.setup.connectToWin-1))),"enter"===t&&"startRound"===e.setup.currentlySelectedStep?(e.game.nextPhase="playingRound",e.round.nextPhase="start",e.round=Object.assign(Object.assign({},e.round),{boardSize:{width:e.setup.boardWidth,height:e.setup.boardHeight},players:g(z,e.setup.amountOfPlayers),connectToWin:e.setup.connectToWin}),e):e}),k.on("keyPressed",(e,{key:t})=>"playingRound"!==e.game.phase||"end"!==e.round.phase?e:"r"===t?(e.round.nextPhase="start",e):"q"===t?(e.game.nextPhase="settingUpGame",e):e),k.on("draw",(e,{context:t})=>(t.clearRect(0,0,v.width,v.height),t.fillStyle="#D7D0FF",t.fillRect(0,0,v.width,v.height),e)),k.on("draw",(e,t)=>("settingUpGame"===e.game.phase&&function(e,{context:t}){W("Set up\na new game",{x:v.width/2,y:28},t,"center"),W("Board",{x:150,y:68},t,"right"),W(e.setup.boardHeight+" rows",{x:172,y:68},t),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight>4&&d(c(e,"arrow-left"),t,{x:160,y:68}),e.setup.boardHeight<8&&d(c(e,"arrow-right"),t,{x:230,y:68}));W(e.setup.boardWidth+" columns",{x:172,y:78},t),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth>2&&d(c(e,"arrow-left"),t,{x:160,y:78}),e.setup.boardWidth<18&&d(c(e,"arrow-right"),t,{x:230,y:78}));W("Who's playing?",{x:150,y:98},t,"right"),W(e.setup.amountOfPlayers+" players",{x:172,y:98},t),"amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers>2&&d(c(e,"arrow-left"),t,{x:160,y:98}),e.setup.amountOfPlayers<7&&d(c(e,"arrow-right"),t,{x:230,y:98}));W("How many to win?",{x:150,y:118},t,"right"),W("connect "+e.setup.connectToWin,{x:172,y:118},t),"connectToWin"===e.setup.currentlySelectedStep&&(e.setup.connectToWin>3&&d(c(e,"arrow-left"),t,{x:160,y:118}),e.setup.connectToWin<8&&d(c(e,"arrow-right"),t,{x:230,y:118}));W("start",{x:172,y:138},t),"startRound"===e.setup.currentlySelectedStep&&d(c(e,"arrow-right"),t,{x:160,y:138})}(e,t),"playingRound"===e.game.phase&&function(e,t){const n=e.round.gameBoard;(function(e,t,n){const r=T(n.round.boardSize);e.tiles.forEach((s,i)=>{s.forEach((o,a)=>{const h={x:r.x+i*P,y:r.y+a*O};d(c(n,"board-position-back"),t,h),0===a&&d(c(n,"board-column-top-front"),t,{x:h.x,y:h.y-8}),a===s.length-1&&d(c(n,"board-column-bottom-front"),t,{x:h.x,y:h.y+O}),0===i&&d(c(n,"board-row-left-front"),t,{x:h.x-8,y:h.y}),i===e.tiles.length-1&&d(c(n,"board-row-right-front"),t,{x:h.x+P,y:h.y}),0===i&&0===a&&d(c(n,"board-corner-top-left-front"),t,{x:h.x-8,y:h.y-8}),i===e.tiles.length-1&&0===a&&d(c(n,"board-corner-top-right-front"),t,{x:h.x+P,y:h.y-8}),i===e.tiles.length-1&&a===s.length-1&&d(c(n,"board-corner-bottom-right-front"),t,{x:h.x+P,y:h.y+O}),0===i&&a===s.length-1&&d(c(n,"board-corner-bottom-left-front"),t,{x:h.x-8,y:h.y+O})})})})(n,t.context,e),function(e,t,n){const r=T(n.round.boardSize);e.tiles.forEach((e,s)=>{e.forEach((e,i)=>{const o={x:r.x+s*P,y:r.y+i*O};null!==e&&d(c(n,"coin-"+e),t,o)})})}(n,t.context,e),function(e,t,n){const r=T(n.round.boardSize);e.tiles.forEach((s,i)=>{s.forEach((s,o)=>{const a={x:r.x+i*P,y:r.y+o*O};d(c(n,"board-position-front"),t,a),0===o&&d(c(n,"board-column-top-back"),t,{x:a.x,y:a.y-8}),0===i&&0===o&&d(c(n,"board-corner-top-left-back"),t,{x:a.x-8,y:a.y-8}),i===e.tiles.length-1&&0===o&&d(c(n,"board-corner-top-right-back"),t,{x:a.x+P,y:a.y-8})})})}(n,t.context,e),"decideMove"===e.round.phase&&function(e,{context:t}){const n=T(e.round.boardSize);d(c(e,"coin-"+e.round.currentPlayer),t,{x:n.x+e.round.positionToPlacePiece*P,y:n.y-Math.floor(1.5*O)})}(e,t);"end"===e.round.phase&&function(e,{context:t}){e.round.winner?(d(c(e,"coin-"+e.round.winner),t,{x:v.width/2-P/2-12,y:4}),W("wins!",{x:v.width/2-2,y:8},t)):W("tie...",{x:v.width/2+.5,y:8},t,"center");W("q: set up new game | r: rematch",{x:v.width/2+.5,y:24},t,"center")}(e,t)}(e,t),e)),E.start()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC90aWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oZWtzL2Rpc3QvR2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJha2tlcmpvZXJpL2FycmF5LXdpdGhvdXQvZGlzdC9hcnJheVdpdGhvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWtrZXJqb2VyaS9mcC9kaXN0L3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9zcHJpdGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFra2Vyam9lcmkvcmVwZWF0L2Rpc3QvcmVwZWF0LmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dhbWVib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3Nwcml0ZXMvc3ByaXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9sbC10aGUtYm9uZXMvZGlzdC9jaG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvbGwtdGhlLWJvbmVzL2Rpc3QvZ2V0UmFuZG9tTnVtYmVySW5SYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9sbC10aGUtYm9uZXMvZGlzdC9waWNrLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3RleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb250cy9CaXJkU2VlZC9tZXRyaWNzLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9FdmVudEVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWtrZXJqb2VyaS9vYmplY3Qtd2l0aG91dC9kaXN0L29iamVjdFdpdGhvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9zZXR1cEdhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMva2V5Ym9hcmQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzY2hlZHVsZU5leHRUaWNrIiwiY2FsbGJhY2siLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwidGljayIsImRlZmF1bHRTdGF0ZSIsImVudGl0aWVzIiwic3ByaXRlcyIsImFycmF5V2l0aG91dCIsImFycmF5IiwidmFsdWVzVG9FeGNsdWRlIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJwaXBlIiwiZnVuY3Rpb25zIiwicmVkdWNlIiwicGlwZWRGdW5jdGlvbiIsImN1cnJlbnRGdW5jdGlvbiIsInNldFNwcml0ZSIsInNwcml0ZSIsInN0YXRlIiwiYXNzaWduIiwiZ2V0U3ByaXRlIiwiRXJyb3IiLCJkcmF3U3ByaXRlIiwiY29udGV4dCIsInBvc2l0aW9uIiwiZnJhbWVJbmRleCIsImZyYW1lcyIsImZyYW1lIiwiaW1hZ2UiLCJnZXRJbWFnZUZvckZpbGVQYXRoIiwiZmlsZSIsImRyYXdJbWFnZSIsIm9yaWdpbiIsIngiLCJ5Iiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0IiwiaW1hZ2VDYWNoZSIsImZpbGVQYXRoIiwiY2FjaGVkIiwiSW1hZ2UiLCJzcmMiLCJvbmVycm9yIiwicmVwZWF0IiwiaXRlcmF0aW9ucyIsImNyZWF0ZVRpbGVNYXAiLCJ0aWxlTWFwIiwiY2hvb3NlIiwiY2hvaWNlcyIsImxlbmd0aCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicGljayIsIml0ZW1zIiwiYW1vdW50IiwicHV0QmFjayIsInBpY2tzIiwiY2hvaWNlIiwicHVzaCIsIml0ZW0iLCJkcmF3VGV4dFdpdGhDdXN0b21Gb250IiwidGV4dCIsImZvbnRBdGxhc1BhdGgiLCJtZXRyaWNzIiwiY29sb3IiLCJhbGlnbiIsImJhc2VsaW5lIiwiZGlyZWN0aW9uIiwiZm9udEltYWdlIiwiZm9udENvbG9yQ2FjaGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZ2V0Rm9udFdpdGhDb2xvciIsImxpbmVIZWlnaHQiLCJsaW5lcyIsImRpcmVjdGlvbkZhY3RvciIsImx0ciIsInJ0bCIsInNwbGl0IiwibWFwIiwibGluZVBhcnQiLCJob3Jpem9udGFsT2Zmc2V0IiwiQXJyYXkiLCJmcm9tIiwibGluZSIsImNoYXJhY3RlciIsImFzY2lpQ29kZSIsImNoYXJDb2RlQXQiLCJpbmRleEluQXRsYXMiLCJjaGFycyIsImluZGV4T2YiLCJhZHZhbmNlIiwicG9zaXRpb25JbkF0bGFzIiwicGFja194IiwicGFja195Iiwic2l6ZUluQXRsYXMiLCJvZmZzZXRJbkF0bGFzIiwib2Zmc2V0X3giLCJvZmZzZXRfeSIsInBvc2l0aW9uSW5MaW5lIiwiZ2V0VmVydGljYWxPZmZzZXRGb3JCYXNlbGluZSIsImNoYXJhY3RlcnMiLCJtYWtlUmVuZGVyTGluZXMiLCJiaWdnZXN0V2lkdGgiLCJtYXgiLCJmb3JFYWNoIiwibGluZUluZGV4IiwibGluZU9mZnNldCIsImxpbmVXaWR0aCIsImdldEhvcml6b250YWxMaW5lT2Zmc2V0Iiwicm91bmQiLCJhc2NlbnQiLCJkZXNjZW50IiwiY2hhcl9jb3VudCIsImtlcm5pbmdfY291bnQiLCJrZXJuaW5nIiwiZ2FtZVNpemUiLCJ0aWxlU2l6ZSIsImRlZmF1bHRCb2FyZFNpemUiLCJzZXR1cFN0ZXBzIiwiYWxsUGxheWVycyIsInRoaXMiLCJldmVudEhhbmRsZXJzIiwib24iLCJlbWl0IiwicmVtb3ZlIiwicmVtb3ZlQWxsIiwiZXZlbnRUeXBlIiwiaGFuZGxlciIsImtleXNUb1JlbW92ZSIsImVudHJpZXMiLCJuZXdPYmplY3QiLCJjdXJyZW50S2V5IiwiY3VycmVudFZhbHVlIiwib2JqZWN0V2l0aG91dCIsImluaXRpYWxTdGF0ZSIsImV2ZW50IiwibmV3U3RhdGUiLCJjdXJyZW50SGFuZGxlciIsImdhbWUiLCJldmVudEVtaXR0ZXIiLCJjb250YWluZXJTZWxlY3RvciIsImFscGhhIiwiZ2FtZUNvbnRhaW5lciIsImRvY3VtZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwic3R5bGUiLCJvYmplY3RGaXQiLCJkaXNwbGF5IiwiaW1hZ2VSZW5kZXJpbmciLCJzZXR1cEdhbWUiLCJpc1BoYXNlTmV3IiwicGhhc2UiLCJuZXh0UGhhc2UiLCJzZXR1cCIsImJvYXJkV2lkdGgiLCJib2FyZEhlaWdodCIsImFtb3VudE9mUGxheWVycyIsImNvbm5lY3RUb1dpbiIsImN1cnJlbnRseVNlbGVjdGVkU3RlcCIsImdhbWVCb2FyZCIsImJvYXJkU2l6ZSIsInBsYXllcnMiLCJjdXJyZW50UGxheWVyIiwicG9zaXRpb25Ub1BsYWNlUGllY2UiLCJ3aW5uZXIiLCJtb3ZlVGhyb3VnaExvb3AiLCJjdXJyZW50IiwidG90YWwiLCJzdGVwIiwiZ2V0Qm9hcmRPcmlnaW4iLCJkcmF3VGV4dCIsInByZXNzZWRLZXlzIiwiYWN0aXZlS2V5cyIsInJlbGVhc2VkS2V5cyIsInRvTG93ZXJDYXNlIiwiaXNLZXlQcmVzc2VkIiwiaXNLZXlEb3duIiwiaXNLZXlSZWxlYXNlZCIsInJlc2V0QWxsS2V5cyIsImFjdGl2ZUtleSIsInJlc2V0UHJlc3NlZEtleXMiLCJyZXNldFJlbGVhc2VkS2V5cyIsInJlc2V0QWN0aXZlS2V5cyIsInVwZGF0ZVNldHVwR2FtZSIsImlzR2FtZUJvYXJkIiwidGlsZXMiLCJjcmVhdGVHYW1lQm9hcmQiLCJ1cGRhdGVSb3VuZFN0YXJ0IiwidXBkYXRlUm91bmRTdGFydFR1cm4iLCJjaGFpbkxlbmd0aCIsImNvbHVtbkluZGV4Iiwicm93SW5kZXgiLCJwbGF5ZXJPY2N1cHlpbmdDZWxsIiwiY2hhaW4iLCJrZXlzIiwiZXZlcnkiLCJjaGFpbkluZGV4IiwiZmluZFdpbm5lciIsImNvbHVtbiIsImNlbGwiLCJuZXh0UGxheWVySW5kZXgiLCJuZXh0UGxheWVyIiwidXBkYXRlUm91bmRFbmRUdXJuIiwidXBkYXRlUGxheWluZ1JvdW5kIiwia2V5QXNJbnRlZ2VyIiwicGFyc2VJbnQiLCJpc05hTiIsImluZGV4T2ZGaXJzdEZ1bGxDZWxsIiwiY2VsbFRvSW5zcGVjdCIsIm1pbiIsImN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4IiwibmV4dFNlbGVjdGVkU3RlcEluZGV4IiwiY2xlYXJSZWN0IiwiZHJhd0V2ZW50IiwiZHJhd1NldHRpbmdVcEdhbWUiLCJib2FyZE9yaWdpbiIsInJvdyIsImNlbGxPcmlnaW4iLCJkcmF3Qm9hcmRCYWNrIiwiY29pbk9yaWdpbiIsImRyYXdDb2luc0luQm9hcmQiLCJkcmF3Qm9hcmRGcm9udCIsImRyYXdSb3VuZERlY2lkaW5nTW92ZSIsImRyYXdSb3VuZEVuZCIsImRyYXdQbGF5aW5nUm91bmQiLCJzdGFydCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMs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SUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQzFaRSxRQUFTLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNwU00sU0FBVSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDclNDLFNBQVUsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQ25ZekUsTUFBTyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDbFNDLE9BQVEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3BTbUUsT0FBUSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDdFZDLE9BQVEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLElBQUssSUFBSyxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksSUFBSyxJQUFLLElBQUssR0FBSSxJQUFLLElBQUssSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFBSyxJQUFLLElBQ3pYcUIsUUFBUyxDQUFDLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxJQ1Izd0IsTUFBTUMsRUFBVyxDQUNiM0YsTUFBTyxJQUNQQyxPQUFRLEtBRU4yRixFQUNLLEdBRExBLEVBRU0sR0FFTkMsRUFBbUIs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QUNaN0osRUFBV0YsRUFBVUYsRUFBTyxRQUFRQSxFQUFNdUcsTUFBTTBELFFBQVc1SixFQUFTLENBQ2hFVSxFQUFJOEYsRUFBUzNGLE1BQVEsRUFBTTRGLEVBQWlCLEVBQUssR0FDakQ5RixFQUFHLElBRVB1SixFQUFTLFFBQVMsQ0FBRXhKLEVBQUk4RixFQUFTM0YsTUFBUSxFQUFLLEVBQUdGLEVBQUcsR0FBS1gsSUFHekRrSyxFQUFTLFNBQVUsQ0FBRXhKLEVBQUk4RixFQUFTM0YsTUFBUSxFQUFLLEdBQUtGLEVBQUcsR0FBS1gsRUFBUyxVQUV6RWtLLEVBQVMsa0NBQW1DLENBQUV4SixFQUFJOEYsRUFBUzNGLE1BQVEsRUFBSyxHQUFLRixFQUFHLElBQU1YLEVBQVMsVUFyQjNGdU4sQ0FBYTVOLEVBQU9rTixHQTNEcEJXLENBQWlCN04sRUFBT2tOLEdBRXJCbE4sSUFvS1hvSSxFQUFLMEYiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsImV4cG9ydCBmdW5jdGlvbiBzdGFydChjYWxsYmFjaykge1xuICAgIHNjaGVkdWxlTmV4dFRpY2soY2FsbGJhY2spO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlTmV4dFRpY2soY2FsbGJhY2spIHtcbiAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCh0aW1lKSA9PiB7XG4gICAgICAgIHRpY2soY2FsbGJhY2ssIHRpbWUpO1xuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpY2soY2FsbGJhY2ssIHRpbWUpIHtcbiAgICBjYWxsYmFjayh0aW1lKTtcbiAgICBzY2hlZHVsZU5leHRUaWNrKGNhbGxiYWNrKTtcbn1cbiIsImltcG9ydCB7IHN0YXJ0IH0gZnJvbSAnLi90aWNrLmpzJztcbmltcG9ydCB7IHNldHVwR2FtZSB9IGZyb20gJy4vc2V0dXBHYW1lLmpzJztcbmV4cG9ydCBjb25zdCBkZWZhdWx0U3RhdGUgPSB7XG4gICAgZW50aXRpZXM6IHt9LFxuICAgIHNwcml0ZXM6IHt9LFxufTtcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWUge1xuICAgIGNvbnN0cnVjdG9yKHNpemUsIGV2ZW50RW1pdHRlciwgeyBpbml0aWFsU3RhdGUgPSBkZWZhdWx0U3RhdGUsIGNvbnRhaW5lclNlbGVjdG9yID0gJ2JvZHknIH0gPSB7fSkge1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IGV2ZW50RW1pdHRlcjtcbiAgICAgICAgY29uc3QgeyBjYW52YXMsIGNvbnRleHQgfSA9IHNldHVwR2FtZShjb250YWluZXJTZWxlY3Rvciwgc2l6ZSk7XG4gICAgICAgIHRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICB0aGlzLmNvbnRleHQgPSBjb250ZXh0O1xuICAgICAgICB0aGlzLnN0YXRlID0gT2JqZWN0LmFzc2lnbih7fSwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG4gICAgc3RhcnQoKSB7XG4gICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdzdGFydCcsIHRoaXMuc3RhdGUsIHt9KTtcbiAgICAgICAgc3RhcnQoKHRpbWUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdiZWZvcmVVcGRhdGUnLCB0aGlzLnN0YXRlLCB7IHRpbWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgndXBkYXRlJywgdGhpcy5zdGF0ZSwgeyB0aW1lIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2FmdGVyVXBkYXRlJywgdGhpcy5zdGF0ZSwgeyB0aW1lIH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2JlZm9yZURyYXcnLCB0aGlzLnN0YXRlLCB7IHRpbWUsIGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdkcmF3JywgdGhpcy5zdGF0ZSwgeyB0aW1lLCBjb250ZXh0OiB0aGlzLmNvbnRleHQgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgnYWZ0ZXJEcmF3JywgdGhpcy5zdGF0ZSwgeyB0aW1lLCBjb250ZXh0OiB0aGlzLmNvbnRleHQgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGFycmF5V2l0aG91dChhcnJheSwgLi4udmFsdWVzVG9FeGNsdWRlKSB7XG4gICAgcmV0dXJuIGFycmF5LmZpbHRlcigodmFsdWUpID0+IHtcbiAgICAgICAgcmV0dXJuICF2YWx1ZXNUb0V4Y2x1ZGUuaW5jbHVkZXModmFsdWUpO1xuICAgIH0pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHBpcGUoLi4uZnVuY3Rpb25zKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9ucy5yZWR1Y2UoKHBpcGVkRnVuY3Rpb24sIGN1cnJlbnRGdW5jdGlvbikgPT4ge1xuICAgICAgICByZXR1cm4gKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudEZ1bmN0aW9uKHBpcGVkRnVuY3Rpb24odmFsdWUpKTtcbiAgICAgICAgfTtcbiAgICB9LCAodmFsdWUpID0+IHZhbHVlKTtcbn1cbiIsImltcG9ydCB7IHBpcGUgfSBmcm9tICdAYmFra2Vyam9lcmkvZnAnO1xuaW1wb3J0IHsgc2V0Q29tcG9uZW50LCBzZXRFbnRpdGllcywgZmluZEVudGl0aWVzLCBnZXRFbnRpdGllcyB9IGZyb20gJy4vZW50aXRpZXMnO1xuZXhwb3J0IGNvbnN0IHNldFNwcml0ZSA9IChzcHJpdGUpID0+IChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyBzcHJpdGVzOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnNwcml0ZXMpLCB7IFtzcHJpdGUubmFtZV06IHNwcml0ZSB9KSB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2V0U3ByaXRlcyA9IChzcHJpdGVzKSA9PiAoc3RhdGUpID0+IHtcbiAgICByZXR1cm4gcGlwZSguLi5zcHJpdGVzLm1hcChzZXRTcHJpdGUpKShzdGF0ZSk7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNwcml0ZShzdGF0ZSwgbmFtZSkge1xuICAgIGlmICghc3RhdGUuc3ByaXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHNwcml0ZSB3aXRoIG5hbWUgJHtuYW1lfSBmb3VuZC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLnNwcml0ZXNbbmFtZV07XG59XG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlU3ByaXRlQ29tcG9uZW50KG5hbWUsIHsgc3RhcnRpbmdGcmFtZSA9IDAsIGZyYW1lc1BlclNlY29uZCA9IDEsIGlzTG9vcGluZyA9IHRydWUsIGlzQW5pbWF0aW5nID0gdHJ1ZSB9ID0ge30pIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBuYW1lLFxuICAgICAgICBhbmltYXRpb25TdGFydFRpbWU6IG51bGwsXG4gICAgICAgIGN1cnJlbnRGcmFtZUluZGV4OiBzdGFydGluZ0ZyYW1lLFxuICAgICAgICBmcmFtZXNQZXJTZWNvbmQsXG4gICAgICAgIGlzTG9vcGluZyxcbiAgICAgICAgaXNBbmltYXRpbmcsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkcmF3U3ByaXRlKHNwcml0ZSwgY29udGV4dCwgcG9zaXRpb24sIGZyYW1lSW5kZXggPSAwKSB7XG4gICAgaWYgKCFzcHJpdGUuZnJhbWVzW2ZyYW1lSW5kZXhdKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgU3ByaXRlICR7c3ByaXRlLm5hbWV9IGRvZXMgbm90IGhhdmUgZnJhbWUgd2l0aCBpbmRleCAke2ZyYW1lSW5kZXh9YCk7XG4gICAgfVxuICAgIGNvbnN0IGZyYW1lID0gc3ByaXRlLmZyYW1lc1tmcmFtZUluZGV4XTtcbiAgICBjb25zdCBpbWFnZSA9IGdldEltYWdlRm9yRmlsZVBhdGgoZnJhbWUuZmlsZSk7XG4gICAgY29udGV4dC5kcmF3SW1hZ2UoaW1hZ2UsIGZyYW1lLm9yaWdpbi54LCBmcmFtZS5vcmlnaW4ueSwgZnJhbWUuc2l6ZS53aWR0aCwgZnJhbWUuc2l6ZS5oZWlnaHQsIChwb3NpdGlvbi54ICsgc3ByaXRlLm9mZnNldC54KSwgKHBvc2l0aW9uLnkgKyBzcHJpdGUub2Zmc2V0LnkpLCBmcmFtZS5zaXplLndpZHRoLCBmcmFtZS5zaXplLmhlaWdodCk7XG59XG5jb25zdCBpbWFnZUNhY2hlID0ge307XG5leHBvcnQgZnVuY3Rpb24gZ2V0SW1hZ2VGb3JGaWxlUGF0aChmaWxlUGF0aCwgY2FjaGVkID0gdHJ1ZSkge1xuICAgIGlmIChjYWNoZWQgJiYgaW1hZ2VDYWNoZVtmaWxlUGF0aF0pIHtcbiAgICAgICAgcmV0dXJuIGltYWdlQ2FjaGVbZmlsZVBhdGhdO1xuICAgIH1cbiAgICBjb25zdCBpbWFnZSA9IG5ldyBJbWFnZSgpO1xuICAgIGltYWdlLnNyYyA9IGZpbGVQYXRoO1xuICAgIGltYWdlQ2FjaGVbZmlsZVBhdGhdID0gaW1hZ2U7XG4gICAgaW1hZ2Uub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgZGVsZXRlIGltYWdlQ2FjaGVbZmlsZVBhdGhdO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIGltYWdlIGZvdW5kIGF0ICR7ZmlsZVBhdGh9LmApO1xuICAgIH07XG4gICAgcmV0dXJuIGltYWdlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUFuaW1hdGVkU3ByaXRlcyhzdGF0ZSwgeyB0aW1lIH0pIHtcbiAgICBjb25zdCBlbnRpdGllc1dpdGhTcHJpdGVzID0gZmluZEVudGl0aWVzKGdldEVudGl0aWVzKHN0YXRlKSwge1xuICAgICAgICBzcHJpdGU6IHRydWUsXG4gICAgfSk7XG4gICAgY29uc3QgdXBkYXRlZEVudGl0aWVzID0gZW50aXRpZXNXaXRoU3ByaXRlcy5tYXAoZW50aXR5ID0+IHtcbiAgICAgICAgY29uc3Qgc3ByaXRlQ29tcG9uZW50ID0gZW50aXR5LnNwcml0ZTtcbiAgICAgICAgY29uc3Qgc3ByaXRlT2ZFbnRpdHkgPSBnZXRTcHJpdGUoc3RhdGUsIGVudGl0eS5zcHJpdGUubmFtZSk7XG4gICAgICAgIGlmIChzcHJpdGVDb21wb25lbnQuZnJhbWVzUGVyU2Vjb25kID09PSAwXG4gICAgICAgICAgICB8fCBzcHJpdGVPZkVudGl0eS5mcmFtZXMubGVuZ3RoIDw9IDFcbiAgICAgICAgICAgIHx8ICFzcHJpdGVDb21wb25lbnQuaXNBbmltYXRpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbnRpdHk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlbnRpdHkuc3ByaXRlLmFuaW1hdGlvblN0YXJ0VGltZSkge1xuICAgICAgICAgICAgZW50aXR5LnNwcml0ZS5hbmltYXRpb25TdGFydFRpbWUgPSB0aW1lO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0ZyYW1lSW5kZXggPSBjYWxjdWxhdGVOZXdGcmFtZUluZGV4KHNwcml0ZU9mRW50aXR5LmZyYW1lcy5sZW5ndGgsIHNwcml0ZUNvbXBvbmVudC5mcmFtZXNQZXJTZWNvbmQsIHRpbWUgLSBlbnRpdHkuc3ByaXRlLmFuaW1hdGlvblN0YXJ0VGltZSwgc3ByaXRlQ29tcG9uZW50LmlzTG9vcGluZyk7XG4gICAgICAgIHJldHVybiBzZXRDb21wb25lbnQoJ3Nwcml0ZScpKE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3ByaXRlQ29tcG9uZW50KSwgeyBjdXJyZW50RnJhbWVJbmRleDogbmV3RnJhbWVJbmRleCB9KSkoZW50aXR5KTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2V0RW50aXRpZXMoLi4udXBkYXRlZEVudGl0aWVzKShzdGF0ZSk7XG59XG5leHBvcnQgZnVuY3Rpb24gY2FsY3VsYXRlTmV3RnJhbWVJbmRleChhbW91bnRPZkZyYW1lcywgZnJhbWVzUGVyU2Vjb25kLCBlbGFwc2VkVGltZSwgaXNMb29waW5nKSB7XG4gICAgaWYgKGlzTG9vcGluZykge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZChlbGFwc2VkVGltZSAvICgxMDAwIC8gZnJhbWVzUGVyU2Vjb25kKSkgJSBhbW91bnRPZkZyYW1lcztcbiAgICB9XG4gICAgcmV0dXJuIE1hdGgubWluKChNYXRoLnJvdW5kKGVsYXBzZWRUaW1lIC8gMTAwMCkgLyBmcmFtZXNQZXJTZWNvbmQpLCBhbW91bnRPZkZyYW1lcyAtIDEpO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcmVwZWF0KGl0ZXJhdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpdGVyYXRpb25zOyBpICs9IDEpIHtcbiAgICAgICAgY2FsbGJhY2soaSk7XG4gICAgfVxufVxuIiwiaW1wb3J0IHJlcGVhdCBmcm9tICdAYmFra2Vyam9lcmkvcmVwZWF0JztcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVHYW1lQm9hcmQod2lkdGgsIGhlaWdodCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIGlzR2FtZUJvYXJkOiB0cnVlLFxuICAgICAgICB0aWxlczogY3JlYXRlVGlsZU1hcCh3aWR0aCwgaGVpZ2h0KSxcbiAgICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlVGlsZU1hcCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgY29uc3QgdGlsZU1hcCA9IFtdO1xuICAgIHJlcGVhdCh3aWR0aCwgKHgpID0+IHtcbiAgICAgICAgdGlsZU1hcFt4XSA9IFtdO1xuICAgICAgICByZXBlYXQoaGVpZ2h0LCAoeSkgPT4ge1xuICAgICAgICAgICAgdGlsZU1hcFt4XVt5XSA9IG51bGw7XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0aWxlTWFwO1xufVxuIiwiY29uc3Qgc3ByaXRlU2hlZXQgPSBbXG4gICAge1xuICAgICAgICBuYW1lOiAnYXJyb3ctbGVmdCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYXJyb3dzLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2Fycm93LXJpZ2h0JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9hcnJvd3MucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogOCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi1yZWQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2NvaW5zLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi1ibHVlJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9jb2lucy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiAxNiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLXllbGxvdycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMzIgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi1ncmVlbicsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogNDggfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi1wdXJwbGUnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2NvaW5zLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDY0IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvaW4td2hpdGUnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2NvaW5zLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDgwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvaW4tYmxhY2snLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2NvaW5zLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDk2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLXBvc2l0aW9uLWZyb250JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiA4LCB5OiA0MCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb2x1bW4tdG9wLWZyb250JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiA4LCB5OiAzMiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvbHVtbi1ib3R0b20tZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDgsIHk6IDU2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtcm93LWxlZnQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDQwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtcm93LXJpZ2h0LWZyb250JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAyNCwgeTogNDAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItdG9wLWxlZnQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDMyIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItdG9wLXJpZ2h0LWZyb250JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAyNCwgeTogMzIgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci1ib3R0b20tcmlnaHQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiA1NiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtY29ybmVyLWJvdHRvbS1sZWZ0LWZyb250JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiA1NiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtcG9zaXRpb24tYmFjaycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogOCwgeTogOCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb2x1bW4tdG9wLWJhY2snLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDgsIHk6IDAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItdG9wLWxlZnQtYmFjaycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtY29ybmVyLXRvcC1yaWdodC1iYWNrJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAyNCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG5dO1xuZXhwb3J0IGRlZmF1bHQgc3ByaXRlU2hlZXQ7XG4iLCJpbXBvcnQgeyBnZXRSYW5kb21OdW1iZXJJblJhbmdlIH0gZnJvbSAnLi9nZXRSYW5kb21OdW1iZXJJblJhbmdlJztcbmV4cG9ydCBmdW5jdGlvbiBjaG9vc2UoY2hvaWNlcykge1xuICAgIGlmIChjaG9pY2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjaG9vc2UgZnJvbSAwIGNob2ljZXMuJyk7XG4gICAgfVxuICAgIHJldHVybiBjaG9pY2VzW2dldFJhbmRvbU51bWJlckluUmFuZ2UoMCwgY2hvaWNlcy5sZW5ndGggLSAxKV07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0UmFuZG9tTnVtYmVySW5SYW5nZShsb3dlckJvdW5kLCB1cHBlckJvdW5kKSB7XG4gICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh1cHBlckJvdW5kICsgMSArIGxvd2VyQm91bmQpKTtcbn1cbiIsImltcG9ydCB7IGNob29zZSB9IGZyb20gXCIuL2Nob29zZVwiO1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2soaXRlbXMsIGFtb3VudCwgcHV0QmFjayA9IGZhbHNlKSB7XG4gICAgaWYgKCFwdXRCYWNrICYmIGFtb3VudCA+IGl0ZW1zLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHJhbmRvbWx5IHBpY2sgJHthbW91bnR9IGl0ZW1zIHdpdGhvdXQgcHV0dGluZyB0aGVtIGJhY2sgZnJvbSBhbiBhcnJheSB0aGF0J3Mgb25seSAke2l0ZW1zLmxlbmd0aH0gbG9uZy5gKTtcbiAgICB9XG4gICAgY29uc3QgcGlja3MgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFtb3VudDsgaSArPSAxKSB7XG4gICAgICAgIGNvbnN0IGNob2ljZSA9IGNob29zZShpdGVtcyk7XG4gICAgICAgIHBpY2tzLnB1c2goY2hvaWNlKTtcbiAgICAgICAgaWYgKCFwdXRCYWNrKSB7XG4gICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLmZpbHRlcihpdGVtID0+IGl0ZW0gIT09IGNob2ljZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBpY2tzO1xufVxuIiwiaW1wb3J0IHsgZ2V0SW1hZ2VGb3JGaWxlUGF0aCB9IGZyb20gJ2hla3MnO1xuZXhwb3J0IGZ1bmN0aW9uIGRyYXdUZXh0V2l0aEN1c3RvbUZvbnQoY29udGV4dCwgdGV4dCwgcG9zaXRpb24sIGZvbnRBdGxhc1BhdGgsIG1ldHJpY3MsIHsgY29sb3IgPSAnIzAwMDAwMCcsIGFsaWduID0gJ3N0YXJ0JywgYmFzZWxpbmUgPSAnYWxwaGFiZXRpYycsIGRpcmVjdGlvbiA9ICdsdHInLCB9ID0ge30pIHtcbiAgICBjb25zdCBmb250SW1hZ2UgPSBnZXRGb250V2l0aENvbG9yKGZvbnRBdGxhc1BhdGgsIGNvbG9yKTtcbiAgICBjb25zdCBsaW5lSGVpZ2h0ID0gbWV0cmljcy5zaXplO1xuICAgIGNvbnN0IGxpbmVzID0gbWFrZVJlbmRlckxpbmVzKHRleHQsIG1ldHJpY3MsIGRpcmVjdGlvbiwgYmFzZWxpbmUpO1xuICAgIGNvbnN0IGJpZ2dlc3RXaWR0aCA9IE1hdGgubWF4KC4uLmxpbmVzLm1hcChsaW5lID0+IGxpbmUud2lkdGgpKTtcbiAgICBsaW5lcy5mb3JFYWNoKChsaW5lLCBsaW5lSW5kZXgpID0+IHtcbiAgICAgICAgY29uc3QgbGluZU9mZnNldCA9IHtcbiAgICAgICAgICAgIHg6IGdldEhvcml6b250YWxMaW5lT2Zmc2V0KGxpbmUud2lkdGgsIGJpZ2dlc3RXaWR0aCwgYWxpZ24sIGRpcmVjdGlvbiksXG4gICAgICAgICAgICB5OiBsaW5lSW5kZXggKiBsaW5lSGVpZ2h0LFxuICAgICAgICB9O1xuICAgICAgICBsaW5lLmNoYXJhY3RlcnMuZm9yRWFjaCgoeyBwb3NpdGlvbkluQXRsYXMsIHBvc2l0aW9uSW5MaW5lLCBzaXplSW5BdGxhcyB9KSA9PiB7XG4gICAgICAgICAgICBjb250ZXh0LmRyYXdJbWFnZShmb250SW1hZ2UsIHBvc2l0aW9uSW5BdGxhcy54LCBwb3NpdGlvbkluQXRsYXMueSwgc2l6ZUluQXRsYXMud2lkdGgsIHNpemVJbkF0bGFzLmhlaWdodCwgTWF0aC5yb3VuZChwb3NpdGlvbi54ICsgbGluZU9mZnNldC54ICsgcG9zaXRpb25JbkxpbmUueCksIE1hdGgucm91bmQocG9zaXRpb24ueSArIGxpbmVPZmZzZXQueSArIHBvc2l0aW9uSW5MaW5lLnkpLCBzaXplSW5BdGxhcy53aWR0aCwgc2l6ZUluQXRsYXMuaGVpZ2h0KTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5jb25zdCBmb250Q29sb3JDYWNoZSA9IHt9O1xuZnVuY3Rpb24gZ2V0Rm9udFdpdGhDb2xvcihmb250QXRsYXNQYXRoLCBjb2xvcikge1xuICAgIGlmICghZm9udENvbG9yQ2FjaGUuaGFzT3duUHJvcGVydHkoZm9udEF0bGFzUGF0aCkpIHtcbiAgICAgICAgZm9udENvbG9yQ2FjaGVbZm9udEF0bGFzUGF0aF0gPSB7fTtcbiAgICB9XG4gICAgaWYgKCFmb250Q29sb3JDYWNoZVtmb250QXRsYXNQYXRoXS5oYXNPd25Qcm9wZXJ0eShjb2xvcikpIHtcbiAgICAgICAgZm9udENvbG9yQ2FjaGVbZm9udEF0bGFzUGF0aF1bY29sb3JdID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGZvbnRDb2xvckNhY2hlW2ZvbnRBdGxhc1BhdGhdW2NvbG9yXTtcbiAgICAgICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAoIWNvbnRleHQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGQgbm90IGNyZWF0ZSBjb250ZXh0IGZvciBmb250IGNhbnZhcy4gUGVyaGFwcyB0aGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCB0aGUgQ2FudmFzIEFQSS4nKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmb250SW1hZ2UgPSBnZXRJbWFnZUZvckZpbGVQYXRoKGZvbnRBdGxhc1BhdGgpO1xuICAgICAgICBmb250SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGZvbnRJbWFnZSwgMCwgMCk7XG4gICAgICAgICAgICBjb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2UtaW4nO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSBjb2xvcjtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBmb250Q29sb3JDYWNoZVtmb250QXRsYXNQYXRoXVtjb2xvcl07XG59XG47XG4vKipcbiAqIFRvIGZpZ3VyZSBvdXQgdGhlIGhvcml6b250YWwgc3RhcnRpbmcgcG9zaXRpb24gb2YgZWFjaCBsaW5lXG4gKiB3ZSBmaXJzdCBuZWVkIHRvIGZpbmQgdGhlIHdpZHRoIG9mIGVhY2ggbGluZS5cbiAqXG4gKiBUaGVuLCB3aGVuIHJlbmRlcmluZyBhIHNwZWNpZmljIGxpbmUsIGl0cyB3aWR0aCBpcyBjb21wYXJlZCB0byB0aGUgYmlnZ2VzdCB3aWR0aDpcbiAqXG4gKiBhbGlnbiA9PT0gJ2xlZnQnXG4gKiBhbGlnbiA9PT0gJ3N0YXJ0JyAmJiBkaXJlY3Rpb24gPT09ICdsdHInXG4gKiBhbGlnbiA9PT0gJ2VuZCcgJiYgZGlyZWN0aW9uID09PSAncnRsJ1xuICogTGVmdCBvZmZzZXQgZnJvbSB0aGUgb3JpZ2luIGlzIGFsd2F5cyB6ZXJvLlxuICpcbiAqICAgICAgIC0tLS0tLVxuICogICAgICAgLS0tLS0tLS0tXG4gKiAgICAgICAtLS0tXG4gKlxuICogYWxpZ24gPT09ICdjZW50ZXInXG4gKiBIYWxmIHRoZSBkaWZmZXJlbmNlIGJldHdlZW4gbGluZSB3aWR0aCBhbmQgYmlnZ2VzdCBsaW5lIHdpZHRoIGRldGVybWluZXMgdGhlIGxlZnQgb2Zmc2V0LFxuICogYW5kIG5lZ2F0aXZlbHkgb2Zmc2V0IGVhY2ggbGluZSBieSBoYWxmIG9mIHRoZSBiaWdnZXN0IHdpZHRoLlxuICpcbiAqICAgICAtLS0tXG4gKiAgIC0tLS0tLS0tXG4gKiAgICAgIC0tXG4gKlxuICogYWxpZ24gPT09ICdyaWdodCdcbiAqIGFsaWduID09PSAnc3RhcnQnICYmIGRpcmVjdGlvbiA9PT0gJ3J0bCdcbiAqIGFsaWduID09PSAnZW5kJyAmJiBkaXJlY3Rpb24gPT09ICdsdHInXG4gKiBCZWNhdXNlIHRoZSBsaW5lIG9yaWdpbiBzdGFydHMgb24gdGhlIHJpZ2h0LCBlYWNoIGxpbmUgbmVlZHMgdG8gYmUgb2Zmc2V0IGJ5IGl0cyBvd24gd2lkdGguXG4gKlxuICogLS0tLS0tXG4gKiAgIC0tLS1cbiAqICAtLS0tLVxuICpcbiAqIFNvIHdlIG5lZWQgdG8gcHJlY2FsY3VsYXRlIGVhY2ggbGluZSdzIHdpZHRoLCBhbmQgc3RvcmUgaXQgdG8gZGV0ZXJtaW5lIHRoZSByZWxhdGl2ZSBzdGFydGluZyBwb3NpdGlvblxuICogb2YgZWFjaCBsaW5lIGR1cmluZyB0aGUgYWN0dWFsIHJlbmRlcmluZy5cbiAqIFdlIGNhbiB1c2UgdGhhdCBwcmVjYWxjdWxhdGlvbiB0byBhbHNvIGRldGVybWluZSBlYWNoIGNoYXJhY3RlcidzIGhvcml6b250YWwgcG9zaXRpb24gb24gaXRzIGxpbmUuXG4gKi9cbmZ1bmN0aW9uIG1ha2VSZW5kZXJMaW5lcyh0ZXh0LCBtZXRyaWNzLCBkaXJlY3Rpb24sIGJhc2VsaW5lKSB7XG4gICAgY29uc3QgZGlyZWN0aW9uRmFjdG9yTWFwID0ge1xuICAgICAgICBsdHI6IDEsXG4gICAgICAgIHJ0bDogLTEsXG4gICAgfTtcbiAgICBjb25zdCBkaXJlY3Rpb25GYWN0b3IgPSBkaXJlY3Rpb25GYWN0b3JNYXBbZGlyZWN0aW9uXTtcbiAgICBjb25zdCBsaW5lUGFydHMgPSB0ZXh0LnNwbGl0KFwiXFxuXCIpO1xuICAgIHJldHVybiBsaW5lUGFydHMubWFwKGxpbmVQYXJ0ID0+IHtcbiAgICAgICAgbGV0IGhvcml6b250YWxPZmZzZXQgPSAwO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShsaW5lUGFydCkucmVkdWNlKChsaW5lLCBjaGFyYWN0ZXIpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGFzY2lpQ29kZSA9IGNoYXJhY3Rlci5jaGFyQ29kZUF0KDApO1xuICAgICAgICAgICAgY29uc3QgaW5kZXhJbkF0bGFzID0gbWV0cmljcy5jaGFycy5pbmRleE9mKGFzY2lpQ29kZSk7XG4gICAgICAgICAgICBjb25zdCBhZHZhbmNlID0gbWV0cmljcy5hZHZhbmNlW2luZGV4SW5BdGxhc107XG4gICAgICAgICAgICBpZiAoYXNjaWlDb2RlID09PSAzMikge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQgPSBob3Jpem9udGFsT2Zmc2V0ICsgKGFkdmFuY2UgKiBkaXJlY3Rpb25GYWN0b3IpICsgKDEgKiBkaXJlY3Rpb25GYWN0b3IpO1xuICAgICAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxpbmUpLCB7IHdpZHRoOiBsaW5lLndpZHRoICsgYWR2YW5jZSArIDEgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbkluQXRsYXMgPSB7XG4gICAgICAgICAgICAgICAgeDogbWV0cmljcy5wYWNrX3hbaW5kZXhJbkF0bGFzXSxcbiAgICAgICAgICAgICAgICB5OiBtZXRyaWNzLnBhY2tfeVtpbmRleEluQXRsYXNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHNpemVJbkF0bGFzID0ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBtZXRyaWNzLndpZHRoW2luZGV4SW5BdGxhc10sXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBtZXRyaWNzLmhlaWdodFtpbmRleEluQXRsYXNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IG9mZnNldEluQXRsYXMgPSB7XG4gICAgICAgICAgICAgICAgeDogbWV0cmljcy5vZmZzZXRfeFtpbmRleEluQXRsYXNdLFxuICAgICAgICAgICAgICAgIHk6IG1ldHJpY3Mub2Zmc2V0X3lbaW5kZXhJbkF0bGFzXSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCBwb3NpdGlvbkluTGluZSA9IHtcbiAgICAgICAgICAgICAgICB4OiBob3Jpem9udGFsT2Zmc2V0ICsgKG9mZnNldEluQXRsYXMueCAqIGRpcmVjdGlvbkZhY3RvciksXG4gICAgICAgICAgICAgICAgeTogb2Zmc2V0SW5BdGxhcy55ICsgZ2V0VmVydGljYWxPZmZzZXRGb3JCYXNlbGluZShtZXRyaWNzLCBiYXNlbGluZSksXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldCA9IGhvcml6b250YWxPZmZzZXQgKyAoYWR2YW5jZSAqIGRpcmVjdGlvbkZhY3RvcikgKyAoMSAqIGRpcmVjdGlvbkZhY3Rvcik7XG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBsaW5lKSwgeyB3aWR0aDogbGluZS53aWR0aCArIGFkdmFuY2UgKyAxLCBjaGFyYWN0ZXJzOiBbXG4gICAgICAgICAgICAgICAgICAgIC4uLmxpbmUuY2hhcmFjdGVycyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb25JbkF0bGFzLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZUluQXRsYXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkluTGluZSxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0gfSk7XG4gICAgICAgIH0sIHsgd2lkdGg6IDAsIGNoYXJhY3RlcnM6IFtdIH0pO1xuICAgIH0pO1xufVxuZnVuY3Rpb24gZ2V0SG9yaXpvbnRhbExpbmVPZmZzZXQobGluZVdpZHRoLCBiaWdnZXN0V2lkdGgsIGFsaWduLCBkaXJlY3Rpb24pIHtcbiAgICBpZiAoYWxpZ24gPT09ICdjZW50ZXInKSB7XG4gICAgICAgIHJldHVybiAoKGJpZ2dlc3RXaWR0aCAtIGxpbmVXaWR0aCkgLyAyKSAtIChiaWdnZXN0V2lkdGggLyAyKTtcbiAgICB9XG4gICAgaWYgKGFsaWduID09PSAncmlnaHQnIHx8XG4gICAgICAgIChhbGlnbiA9PT0gJ3N0YXJ0JyAmJiBkaXJlY3Rpb24gPT09ICdydGwnKSB8fFxuICAgICAgICAoYWxpZ24gPT09ICdlbmQnICYmIGRpcmVjdGlvbiA9PT0gJ2x0cicpKSB7XG4gICAgICAgIHJldHVybiAtbGluZVdpZHRoO1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbmZ1bmN0aW9uIGdldFZlcnRpY2FsT2Zmc2V0Rm9yQmFzZWxpbmUobWV0cmljcywgYmFzZWxpbmUpIHtcbiAgICBpZiAoYmFzZWxpbmUgPT09ICd0b3AnKSB7XG4gICAgICAgIHJldHVybiBtZXRyaWNzLmFzY2VudDtcbiAgICB9XG4gICAgaWYgKGJhc2VsaW5lID09PSAnaGFuZ2luZycpIHtcbiAgICAgICAgcmV0dXJuIG1ldHJpY3MuYXNjZW50ICsgbWV0cmljcy5kZXNjZW50O1xuICAgIH1cbiAgICBpZiAoYmFzZWxpbmUgPT09ICdtaWRkbGUnKSB7XG4gICAgICAgIHJldHVybiAobWV0cmljcy5hc2NlbnQgKyBtZXRyaWNzLmRlc2NlbnQpIC8gMjtcbiAgICB9XG4gICAgaWYgKGJhc2VsaW5lID09PSAnYm90dG9tJykge1xuICAgICAgICByZXR1cm4gbWV0cmljcy5kZXNjZW50O1xuICAgIH1cbiAgICByZXR1cm4gMDtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IHtcbiAgICBuYW1lOiBcIkNoZXZ5UmF5IC0gQmlyZCBTZWVkXCIsXG4gICAgc2l6ZTogMTAsXG4gICAgYXNjZW50OiA3LFxuICAgIGRlc2NlbnQ6IC0yLFxuICAgIGNoYXJfY291bnQ6IDk1LFxuICAgIGtlcm5pbmdfY291bnQ6IDYwLFxuICAgIGNoYXJzOiBbMzIsIDMzLCAzNCwgMzUsIDM2LCAzNywgMzgsIDM5LCA0MCwgNDEsIDQyLCA0MywgNDQsIDQ1LCA0NiwgNDcsIDQ4LCA0OSwgNTAsIDUxLCA1MiwgNTMsIDU0LCA1NSwgNTYsIDU3LCA1OCwgNTksIDYwLCA2MSwgNjIsIDYzLCA2NCwgNjUsIDY2LCA2NywgNjgsIDY5LCA3MCwgNzEsIDcyLCA3MywgNzQsIDc1LCA3NiwgNzcsIDc4LCA3OSwgODAsIDgxLCA4MiwgODMsIDg0LCA4NSwgODYsIDg3LCA4OCwgODksIDkwLCA5MSwgOTIsIDkzLCA5NCwgOTUsIDk2LCA5NywgOTgsIDk5LCAxMDAsIDEwMSwgMTAyLCAxMDMsIDEwNCwgMTA1LCAxMDYsIDEwNywgMTA4LCAxMDksIDExMCwgMTExLCAxMTIsIDExMywgMTE0LCAxMTUsIDExNiwgMTE3LCAxMTgsIDExOSwgMTIwLCAxMjEsIDEyMiwgMTIzLCAxMjQsIDEyNSwgMTI2XSxcbiAgICBhZHZhbmNlOiBbMiwgMSwgMywgNSwgNSwgNiwgNiwgMSwgMiwgMiwgMywgNSwgMiwgNSwgMSwgNiwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgMSwgMiwgNiwgNSwgNiwgNSwgNiwgNiwgNiwgNiwgNiwgNiwgNiwgNywgNiwgNSwgNiwgNiwgNSwgNywgNiwgNiwgNiwgNiwgNiwgNywgNywgNiwgNywgNywgNywgNywgNywgMiwgNiwgMiwgNSwgNSwgMiwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgMywgMiwgNSwgMywgNywgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNywgNSwgNSwgNSwgMywgMSwgMywgNl0sXG4gICAgb2Zmc2V0X3g6IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICBvZmZzZXRfeTogWzAsIC03LCAtNywgLTYsIC03LCAtNiwgLTcsIC03LCAtNywgLTcsIC03LCAtNiwgLTEsIC00LCAtMSwgLTYsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNSwgLTUsIC02LCAtNSwgLTYsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTYsIC03LCAtNywgLTEsIC03LCAtNSwgLTcsIC01LCAtOCwgLTUsIC03LCAtNSwgLTcsIC03LCAtNywgLTcsIC03LCAtNSwgLTUsIC01LCAtNSwgLTUsIC01LCAtNSwgLTcsIC01LCAtNSwgLTUsIC01LCAtNSwgLTUsIC03LCAtNywgLTcsIC00XSxcbiAgICB3aWR0aDogWzAsIDEsIDMsIDUsIDUsIDYsIDYsIDEsIDIsIDIsIDMsIDUsIDIsIDUsIDEsIDYsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDUsIDEsIDIsIDYsIDUsIDYsIDUsIDYsIDYsIDYsIDYsIDYsIDYsIDYsIDcsIDYsIDUsIDYsIDYsIDUsIDcsIDYsIDYsIDYsIDYsIDYsIDcsIDcsIDYsIDcsIDcsIDcsIDcsIDcsIDIsIDYsIDIsIDUsIDUsIDIsIDUsIDUsIDUsIDUsIDUsIDQsIDUsIDUsIDMsIDIsIDUsIDMsIDcsIDUsIDUsIDUsIDYsIDUsIDUsIDQsIDUsIDUsIDcsIDUsIDUsIDUsIDMsIDEsIDMsIDZdLFxuICAgIGhlaWdodDogWzAsIDcsIDIsIDYsIDcsIDYsIDcsIDIsIDcsIDcsIDQsIDYsIDIsIDIsIDEsIDYsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDUsIDYsIDYsIDQsIDYsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDgsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDcsIDYsIDcsIDQsIDEsIDIsIDUsIDcsIDUsIDgsIDUsIDcsIDcsIDcsIDcsIDEwLCA3LCA3LCA1LCA1LCA1LCA3LCA3LCA1LCA1LCA3LCA1LCA1LCA1LCA1LCA3LCA1LCA3LCA3LCA3LCAzXSxcbiAgICBwYWNrX3g6IFswLCAwLCAwLCAyLCAwLCAwLCA2LCA0LCAwLCAwLCA4LCAxMiwgNiwgMCwgOCwgMywgNywgMywgNiwgMCwgOSwgMTMsIDEzLCAxMywgMCwgMCwgMTAsIDE4LCAwLCA2LCA2LCA2LCAxMiwgMTUsIDE5LCAxOSwgMTksIDAsIDAsIDAsIDcsIDEyLCAxMywgMTksIDIyLCA3LCAxNCwgMTgsIDIwLCAyNiwgMjYsIDI2LCAzMywgMjYsIDI4LCAzMywgMzQsIDQxLCAwLCAwLCA3LCAwLCAyOCwgMjAsIDksIDMsIDMsIDMsIDgsIDgsIDksIDksIDE0LCAxNSwgMTQsIDE5LCAxNCwgMTcsIDIwLCAyMSwgMjUsIDI3LCAyMSwgMjUsIDMzLCAzNiwgMzYsIDQxLCA0MiwgNDgsIDQ5LCAyNywgMTUsIDE1LCAyN10sXG4gICAgcGFja195OiBbMCwgMCwgOCwgMCwgMTEsIDE5LCA3LCA3LCAyNiwgMzQsIDAsIDAsIDE1LCA0MiwgNSwgMjYsIDE4LCAzMywgNDEsIDQ1LCAzMywgNywgMTUsIDIzLCA1MywgNjEsIDI2LCAwLCA2OSwgNDksIDU0LCA2MSwgNDEsIDMxLCA3LCAxNSwgMjMsIDc2LCA4NCwgOTIsIDY5LCA2MSwgNDksIDM5LCAzMSwgNzcsIDY5LCA1NywgNDcsIDAsIDM5LCA5LCAwLCAxNywgMjUsIDE3LCA4LCAwLCAxMDAsIDEwOCwgODUsIDExNiwgMzMsIDU1LCAxNSwgMTA4LCAxMTQsIDEyMiwgOTIsIDEwMSwgMTA3LCAxMTUsIDg1LCA3NywgOTMsIDc3LCAxMDQsIDkzLCA4NSwgNjUsIDU3LCA0NywgNzEsIDc3LCAzOCwgMjUsIDMxLCAxNiwgOCwgOCwgMCwgNjUsIDExMiwgMTIwLCA3M10sXG4gICAga2VybmluZzogWzc2LCA4NCwgLTEsIDc2LCA4OSwgLTEsIDg0LCA5NywgLTEsIDg0LCA5OSwgLTEsIDg0LCAxMDAsIC0xLCA4NCwgMTAxLCAtMSwgODQsIDEwMywgLTEsIDg0LCAxMDksIC0xLCA4NCwgMTEwLCAtMSwgODQsIDExMSwgLTEsIDg0LCAxMTIsIC0xLCA4NCwgMTEzLCAtMSwgODQsIDExNCwgLTEsIDg0LCAxMTUsIC0xLCA4NCwgMTE3LCAtMSwgODQsIDExOCwgLTEsIDg0LCAxMTksIC0xLCA4NCwgMTIwLCAtMSwgODQsIDEyMSwgLTEsIDg0LCAxMjIsIC0xLCA4OSwgOTcsIC0xLCA4OSwgOTksIC0xLCA4OSwgMTAwLCAtMSwgODksIDEwMSwgLTEsIDg5LCAxMDMsIC0xLCA4OSwgMTA5LCAtMSwgODksIDExMSwgLTEsIDg5LCAxMTMsIC0xLCA4OSwgMTE1LCAtMSwgOTcsIDg0LCAtMSwgOTcsIDg5LCAtMSwgOTgsIDg0LCAtMSwgOTgsIDg5LCAtMSwgOTksIDg0LCAtMSwgOTksIDg5LCAtMSwgMTAxLCA4NCwgLTEsIDEwMSwgODksIC0xLCAxMDMsIDg0LCAtMSwgMTA0LCA4NCwgLTEsIDEwNCwgODksIC0xLCAxMDcsIDg0LCAtMSwgMTA5LCA4NCwgLTEsIDEwOSwgODksIC0xLCAxMTAsIDg0LCAtMSwgMTEwLCA4OSwgLTEsIDExMSwgODQsIC0xLCAxMTEsIDg5LCAtMSwgMTEyLCA4NCwgLTEsIDExMiwgODksIC0xLCAxMTMsIDg0LCAtMSwgMTE0LCA4NCwgLTEsIDExNCwgODksIC0xLCAxMTUsIDg0LCAtMSwgMTE1LCA4OSwgLTEsIDExNywgODQsIC0xLCAxMTgsIDg0LCAtMSwgMTE5LCA4NCwgLTEsIDEyMCwgODQsIC0xLCAxMjEsIDg0LCAtMSwgMTIyLCA4NCwgLTFdXG59O1xuIiwiaW1wb3J0IHsgR2FtZSwgRXZlbnRFbWl0dGVyLCBzZXRTcHJpdGVzLCBkcmF3U3ByaXRlLCBnZXRTcHJpdGUsIGRlZmF1bHRTdGF0ZSB9IGZyb20gJ2hla3MnO1xuaW1wb3J0IHsgY3JlYXRlR2FtZUJvYXJkIH0gZnJvbSAnLi9nYW1lYm9hcmQnO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gJy4va2V5Ym9hcmQnO1xuaW1wb3J0IHNwcml0ZVNoZWV0IGZyb20gJy4uL2Fzc2V0cy9zcHJpdGVzL3Nwcml0ZXMnO1xuaW1wb3J0IHsgY2hvb3NlLCBwaWNrIH0gZnJvbSAncm9sbC10aGUtYm9uZXMnO1xuaW1wb3J0IHsgZHJhd1RleHRXaXRoQ3VzdG9tRm9udCB9IGZyb20gJy4vdGV4dCc7XG5pbXBvcnQgbWV0cmljcyBmcm9tICcuLi9hc3NldHMvZm9udHMvQmlyZFNlZWQvbWV0cmljcyc7XG5jb25zdCBnYW1lU2l6ZSA9IHtcbiAgICB3aWR0aDogMzIwLFxuICAgIGhlaWdodDogMTgwLFxufTtcbmNvbnN0IHRpbGVTaXplID0ge1xuICAgIHdpZHRoOiAxNixcbiAgICBoZWlnaHQ6IDE2LFxufTtcbmNvbnN0IGRlZmF1bHRCb2FyZFNpemUgPSB7XG4gICAgd2lkdGg6IDgsXG4gICAgaGVpZ2h0OiA2LFxufTtcbmNvbnN0IGRlZmF1bHRDb25uZWN0VG9XaW4gPSA0O1xuY29uc3Qgc2V0dXBTdGVwcyA9IFtcbiAgICAnYm9hcmRIZWlnaHQnLFxuICAgICdib2FyZFdpZHRoJyxcbiAgICAnYW1vdW50T2ZQbGF5ZXJzJyxcbiAgICAnY29ubmVjdFRvV2luJyxcbiAgICAnc3RhcnRSb3VuZCcsXG5dO1xuY29uc3QgYWxsUGxheWVycyA9IFtcbiAgICAncmVkJyxcbiAgICAnYmx1ZScsXG4gICAgJ3llbGxvdycsXG4gICAgJ2dyZWVuJyxcbiAgICAncHVycGxlJyxcbiAgICAnd2hpdGUnLFxuICAgICdibGFjaycsXG5dO1xuY29uc3QgYm9hcmRIZWlnaHRNaW4gPSA0O1xuY29uc3QgYm9hcmRIZWlnaHRNYXggPSA4O1xuY29uc3QgYm9hcmRXaWR0aE1pbiA9IDI7XG5jb25zdCBib2FyZFdpZHRoTWF4ID0gMTg7XG5jb25zdCBhbW91bnRPZlBsYXllcnNNaW4gPSAyO1xuY29uc3QgYW1vdW50T2ZQbGF5ZXJzTWF4ID0gNztcbmNvbnN0IGNvbm5lY3RUb1dpbk1pbiA9IDM7XG5jb25zdCBjb25uZWN0VG9XaW5NYXggPSA4O1xuY29uc3QgZXZlbnRFbWl0dGVyID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuY29uc3QgZ2FtZSA9IG5ldyBHYW1lKGdhbWVTaXplLCBldmVudEVtaXR0ZXIsIHtcbiAgICBpbml0aWFsU3RhdGU6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdFN0YXRlKSwgeyBnYW1lOiB7XG4gICAgICAgICAgICBpc1BoYXNlTmV3OiB0cnVlLFxuICAgICAgICAgICAgcGhhc2U6IG51bGwsXG4gICAgICAgICAgICBuZXh0UGhhc2U6ICdzZXR0aW5nVXBHYW1lJyxcbiAgICAgICAgfSwgc2V0dXA6IHtcbiAgICAgICAgICAgIGJvYXJkV2lkdGg6IGRlZmF1bHRCb2FyZFNpemUud2lkdGgsXG4gICAgICAgICAgICBib2FyZEhlaWdodDogZGVmYXVsdEJvYXJkU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICBhbW91bnRPZlBsYXllcnM6IDIsXG4gICAgICAgICAgICBjb25uZWN0VG9XaW46IDQsXG4gICAgICAgICAgICBjdXJyZW50bHlTZWxlY3RlZFN0ZXA6IHNldHVwU3RlcHNbMF0sXG4gICAgICAgIH0sIHJvdW5kOiB7XG4gICAgICAgICAgICBpc1BoYXNlTmV3OiB0cnVlLFxuICAgICAgICAgICAgcGhhc2U6IG51bGwsXG4gICAgICAgICAgICBuZXh0UGhhc2U6ICdzdGFydCcsXG4gICAgICAgICAgICBnYW1lQm9hcmQ6IG51bGwsXG4gICAgICAgICAgICBib2FyZFNpemU6IGRlZmF1bHRCb2FyZFNpemUsXG4gICAgICAgICAgICBjb25uZWN0VG9XaW46IGRlZmF1bHRDb25uZWN0VG9XaW4sXG4gICAgICAgICAgICBwbGF5ZXJzOiBbXSxcbiAgICAgICAgICAgIGN1cnJlbnRQbGF5ZXI6IG51bGwsXG4gICAgICAgICAgICBwb3NpdGlvblRvUGxhY2VQaWVjZTogMCxcbiAgICAgICAgICAgIHdpbm5lcjogbnVsbCxcbiAgICAgICAgfSB9KSxcbiAgICBjb250YWluZXJTZWxlY3RvcjogJy5nYW1lJyxcbn0pO1xubmV3IEtleWJvYXJkKGV2ZW50RW1pdHRlcik7XG5ldmVudEVtaXR0ZXIub24oJ3N0YXJ0JywgKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIHNldFNwcml0ZXMoc3ByaXRlU2hlZXQpKHN0YXRlKTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdiZWZvcmVVcGRhdGUnLCAoc3RhdGUpID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5uZXh0UGhhc2UgIT09IG51bGwpIHtcbiAgICAgICAgc3RhdGUuZ2FtZS5waGFzZSA9IHN0YXRlLmdhbWUubmV4dFBoYXNlO1xuICAgICAgICBzdGF0ZS5nYW1lLm5leHRQaGFzZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLmdhbWUuaXNQaGFzZU5ldyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5nYW1lLmlzUGhhc2VOZXcgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnJvdW5kLm5leHRQaGFzZSAhPT0gbnVsbCkge1xuICAgICAgICBzdGF0ZS5yb3VuZC5waGFzZSA9IHN0YXRlLnJvdW5kLm5leHRQaGFzZTtcbiAgICAgICAgc3RhdGUucm91bmQubmV4dFBoYXNlID0gbnVsbDtcbiAgICAgICAgc3RhdGUucm91bmQuaXNQaGFzZU5ldyA9IHRydWU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBzdGF0ZS5yb3VuZC5pc1BoYXNlTmV3ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCd1cGRhdGUnLCAoc3RhdGUpID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSA9PT0gJ3NldHRpbmdVcEdhbWUnKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVTZXR1cEdhbWUoc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSA9PT0gJ3BsYXlpbmdSb3VuZCcpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVBsYXlpbmdSb3VuZChzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZnVuY3Rpb24gdXBkYXRlU2V0dXBHYW1lKHN0YXRlKSB7XG4gICAgaWYgKHN0YXRlLmdhbWUuaXNQaGFzZU5ldykge1xuICAgICAgICBzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPSBzZXR1cFN0ZXBzWzBdO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVBsYXlpbmdSb3VuZChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5yb3VuZC5waGFzZSA9PT0gJ3N0YXJ0Jykge1xuICAgICAgICByZXR1cm4gdXBkYXRlUm91bmRTdGFydChzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5yb3VuZC5waGFzZSA9PT0gJ3N0YXJ0VHVybicpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVJvdW5kU3RhcnRUdXJuKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnJvdW5kLnBoYXNlID09PSAnZW5kVHVybicpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVJvdW5kRW5kVHVybihzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn1cbmZ1bmN0aW9uIHVwZGF0ZVJvdW5kU3RhcnQoc3RhdGUpIHtcbiAgICBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQgPSBjcmVhdGVHYW1lQm9hcmQoc3RhdGUucm91bmQuYm9hcmRTaXplLndpZHRoLCBzdGF0ZS5yb3VuZC5ib2FyZFNpemUuaGVpZ2h0KTtcbiAgICBzdGF0ZS5yb3VuZC5jdXJyZW50UGxheWVyID0gY2hvb3NlKHN0YXRlLnJvdW5kLnBsYXllcnMpO1xuICAgIHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlID0gTWF0aC5mbG9vcigoc3RhdGUucm91bmQuYm9hcmRTaXplLndpZHRoIC0gMSkgLyAyKTtcbiAgICBzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgPSAnc3RhcnRUdXJuJztcbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1cGRhdGVSb3VuZFN0YXJ0VHVybihzdGF0ZSkge1xuICAgIHN0YXRlLnJvdW5kLm5leHRQaGFzZSA9ICdkZWNpZGVNb3ZlJztcbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1cGRhdGVSb3VuZEVuZFR1cm4oc3RhdGUpIHtcbiAgICBjb25zdCBnYW1lQm9hcmQgPSBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQ7XG4gICAgY29uc3Qgd2lubmVyID0gZmluZFdpbm5lcihnYW1lQm9hcmQudGlsZXMsIHN0YXRlLnJvdW5kLmNvbm5lY3RUb1dpbik7XG4gICAgaWYgKHdpbm5lcikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgcm91bmQ6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUucm91bmQpLCB7IHdpbm5lcjogd2lubmVyLCBuZXh0UGhhc2U6ICdlbmQnIH0pIH0pO1xuICAgIH1cbiAgICBpZiAoaXNHYW1lQm9hcmRGdWxsKGdhbWVCb2FyZC50aWxlcykpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHJvdW5kOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJvdW5kKSwgeyBuZXh0UGhhc2U6ICdlbmQnIH0pIH0pO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50UGxheWVyID0gc3RhdGUucm91bmQuY3VycmVudFBsYXllcjtcbiAgICBjb25zdCBjdXJyZW50UGxheWVySW5kZXggPSBzdGF0ZS5yb3VuZC5wbGF5ZXJzLmluZGV4T2YoY3VycmVudFBsYXllcik7XG4gICAgY29uc3QgbmV4dFBsYXllckluZGV4ID0gbW92ZVRocm91Z2hMb29wKGN1cnJlbnRQbGF5ZXJJbmRleCwgc3RhdGUucm91bmQucGxheWVycy5sZW5ndGgpO1xuICAgIGNvbnN0IG5leHRQbGF5ZXIgPSBzdGF0ZS5yb3VuZC5wbGF5ZXJzW25leHRQbGF5ZXJJbmRleF07XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHJvdW5kOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJvdW5kKSwgeyBjdXJyZW50UGxheWVyOiBuZXh0UGxheWVyLCBuZXh0UGhhc2U6ICdzdGFydFR1cm4nIH0pIH0pO1xufVxuZnVuY3Rpb24gZmluZFdpbm5lcih0aWxlcywgY2hhaW5MZW5ndGggPSA0KSB7XG4gICAgZm9yIChsZXQgY29sdW1uSW5kZXggPSAwOyBjb2x1bW5JbmRleCA8IHRpbGVzLmxlbmd0aDsgY29sdW1uSW5kZXggKz0gMSkgeyAvLyBpdGVyYXRlIGNvbHVtbnMsIGxlZnQgdG8gcmlnaHRcbiAgICAgICAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IHRpbGVzW2NvbHVtbkluZGV4XS5sZW5ndGg7IHJvd0luZGV4ICs9IDEpIHsgLy8gaXRlcmF0ZSByb3dzLCB0b3AgdG8gYm90dG9tXG4gICAgICAgICAgICBjb25zdCBwbGF5ZXJPY2N1cHlpbmdDZWxsID0gdGlsZXNbY29sdW1uSW5kZXhdW3Jvd0luZGV4XTtcbiAgICAgICAgICAgIGlmIChwbGF5ZXJPY2N1cHlpbmdDZWxsID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIGRvbid0IGNoZWNrIGVtcHR5IHNsb3RzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjaGFpbiA9IFsuLi5uZXcgQXJyYXkoY2hhaW5MZW5ndGgpLmtleXMoKV07XG4gICAgICAgICAgICAvLyBMb29rIGVhc3RcbiAgICAgICAgICAgIGlmIChjaGFpbi5ldmVyeShjaGFpbkluZGV4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZXNbY29sdW1uSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICYmIHRpbGVzW2NvbHVtbkluZGV4XVtyb3dJbmRleCArIGNoYWluSW5kZXhdID09PSBwbGF5ZXJPY2N1cHlpbmdDZWxsO1xuICAgICAgICAgICAgfSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIExvb2sgbm9ydGhcbiAgICAgICAgICAgIGlmIChjaGFpbi5ldmVyeShjaGFpbkluZGV4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZXNbY29sdW1uSW5kZXggKyBjaGFpbkluZGV4XVxuICAgICAgICAgICAgICAgICAgICAmJiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdW3Jvd0luZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMb29rIG5vcnRoZWFzdFxuICAgICAgICAgICAgaWYgKGNoYWluLmV2ZXJ5KGNoYWluSW5kZXggPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICYmIHRpbGVzW2NvbHVtbkluZGV4ICsgY2hhaW5JbmRleF1bcm93SW5kZXggKyBjaGFpbkluZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMb29rIHNvdXRoZWFzdFxuICAgICAgICAgICAgaWYgKGNoYWluLmV2ZXJ5KGNoYWluSW5kZXggPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdXG4gICAgICAgICAgICAgICAgICAgICYmIHRpbGVzW2NvbHVtbkluZGV4ICsgY2hhaW5JbmRleF1bcm93SW5kZXggLSBjaGFpbkluZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG59XG5mdW5jdGlvbiBpc0dhbWVCb2FyZEZ1bGwodGlsZXMpIHtcbiAgICByZXR1cm4gdGlsZXMuZXZlcnkoY29sdW1uID0+IHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbi5ldmVyeShjZWxsID0+IGNlbGwgIT09IG51bGwpO1xuICAgIH0pO1xufVxuZXZlbnRFbWl0dGVyLm9uKCdrZXlQcmVzc2VkJywgKHN0YXRlLCB7IGtleSB9LCB7IGVtaXQgfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlICE9PSAncGxheWluZ1JvdW5kJyB8fCBzdGF0ZS5yb3VuZC5waGFzZSAhPT0gJ2RlY2lkZU1vdmUnKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3Qga2V5QXNJbnRlZ2VyID0gcGFyc2VJbnQoa2V5KTtcbiAgICBjb25zdCBpc051bWVyaWNLZXkgPSB0eXBlb2Yga2V5QXNJbnRlZ2VyID09PSAnbnVtYmVyJyAmJiAhaXNOYU4oa2V5QXNJbnRlZ2VyKTtcbiAgICBpZiAoIWlzTnVtZXJpY0tleSB8fCAhKGtleUFzSW50ZWdlciA+PSAxICYmIGtleUFzSW50ZWdlciA8PSBzdGF0ZS5yb3VuZC5ib2FyZFNpemUud2lkdGgpKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgY29uc3QgZ2FtZUJvYXJkID0gc3RhdGUucm91bmQuZ2FtZUJvYXJkO1xuICAgIGNvbnN0IGNvbHVtbkluZGV4ID0ga2V5QXNJbnRlZ2VyIC0gMTtcbiAgICBjb25zdCBjb2x1bW4gPSBnYW1lQm9hcmQudGlsZXNbY29sdW1uSW5kZXhdO1xuICAgIC8vIFRoZSBjZWxsIHRoYXQgd2lsbCByZWNlaXZlIHRoZSB0aWxlIGlzIHRoZSBvbmUgYmVmb3JlIHRoZSBmaXJzdCBmaWxsZWQgY2VsbFxuICAgIGxldCBpbmRleE9mRmlyc3RGdWxsQ2VsbCA9IDA7XG4gICAgbGV0IGNlbGxUb0luc3BlY3QgPSBjb2x1bW5baW5kZXhPZkZpcnN0RnVsbENlbGxdO1xuICAgIHdoaWxlIChjZWxsVG9JbnNwZWN0ID09PSBudWxsICYmIGluZGV4T2ZGaXJzdEZ1bGxDZWxsIDw9IGNvbHVtbi5sZW5ndGggLSAxKSB7XG4gICAgICAgIGluZGV4T2ZGaXJzdEZ1bGxDZWxsICs9IDE7XG4gICAgICAgIGNlbGxUb0luc3BlY3QgPSBjb2x1bW5baW5kZXhPZkZpcnN0RnVsbENlbGxdO1xuICAgIH1cbiAgICBpZiAoaW5kZXhPZkZpcnN0RnVsbENlbGwgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBnYW1lQm9hcmQudGlsZXNbY29sdW1uSW5kZXhdW2luZGV4T2ZGaXJzdEZ1bGxDZWxsIC0gMV0gPSBzdGF0ZS5yb3VuZC5jdXJyZW50UGxheWVyO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyByb3VuZDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgZ2FtZUJvYXJkLCBuZXh0UGhhc2U6ICdlbmRUdXJuJyB9KSB9KTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdrZXlQcmVzc2VkJywgKHN0YXRlLCB7IGtleSB9LCB7IGVtaXQgfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlICE9PSAncGxheWluZ1JvdW5kJyB8fCBzdGF0ZS5yb3VuZC5waGFzZSAhPT0gJ2RlY2lkZU1vdmUnKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93cmlnaHQnIHx8IGtleSA9PT0gJ2QnKSB7XG4gICAgICAgIHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlID0gTWF0aC5taW4oc3RhdGUucm91bmQuYm9hcmRTaXplLndpZHRoIC0gMSwgc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2UgKyAxKTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93bGVmdCcgfHwga2V5ID09PSAnYScpIHtcbiAgICAgICAgc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2UgPSBNYXRoLm1heCgwLCBzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZSAtIDEpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmV2ZW50RW1pdHRlci5vbigna2V5UHJlc3NlZCcsIChzdGF0ZSwgeyBrZXkgfSwgeyBlbWl0IH0pID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSAhPT0gJ3BsYXlpbmdSb3VuZCcgfHwgc3RhdGUucm91bmQucGhhc2UgIT09ICdkZWNpZGVNb3ZlJykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdhcnJvd2Rvd24nIHx8IGtleSA9PT0gJ3MnKSB7XG4gICAgICAgIGNvbnN0IGdhbWVCb2FyZCA9IHN0YXRlLnJvdW5kLmdhbWVCb2FyZDtcbiAgICAgICAgY29uc3QgY29sdW1uSW5kZXggPSBzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZTtcbiAgICAgICAgY29uc3QgY29sdW1uID0gZ2FtZUJvYXJkLnRpbGVzW3N0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlXTtcbiAgICAgICAgLy8gVGhlIGNlbGwgdGhhdCB3aWxsIHJlY2VpdmUgdGhlIHRpbGUgaXMgdGhlIG9uZSBiZWZvcmUgdGhlIGZpcnN0IGZpbGxlZCBjZWxsXG4gICAgICAgIGxldCBpbmRleE9mRmlyc3RGdWxsQ2VsbCA9IDA7XG4gICAgICAgIGxldCBjZWxsVG9JbnNwZWN0ID0gY29sdW1uW2luZGV4T2ZGaXJzdEZ1bGxDZWxsXTtcbiAgICAgICAgd2hpbGUgKGNlbGxUb0luc3BlY3QgPT09IG51bGwgJiYgaW5kZXhPZkZpcnN0RnVsbENlbGwgPD0gY29sdW1uLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGluZGV4T2ZGaXJzdEZ1bGxDZWxsICs9IDE7XG4gICAgICAgICAgICBjZWxsVG9JbnNwZWN0ID0gY29sdW1uW2luZGV4T2ZGaXJzdEZ1bGxDZWxsXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5kZXhPZkZpcnN0RnVsbENlbGwgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBnYW1lQm9hcmQudGlsZXNbY29sdW1uSW5kZXhdW2luZGV4T2ZGaXJzdEZ1bGxDZWxsIC0gMV0gPSBzdGF0ZS5yb3VuZC5jdXJyZW50UGxheWVyO1xuICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgcm91bmQ6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUucm91bmQpLCB7IGdhbWVCb2FyZCwgbmV4dFBoYXNlOiAnZW5kVHVybicgfSkgfSk7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdrZXlQcmVzc2VkJywgKHN0YXRlLCB7IGtleSB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgIT09ICdzZXR0aW5nVXBHYW1lJykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IGN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4ID0gc2V0dXBTdGVwcy5pbmRleE9mKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCk7XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93dXAnIHx8IGtleSA9PT0gJ3cnKSB7XG4gICAgICAgIGNvbnN0IG5leHRTZWxlY3RlZFN0ZXBJbmRleCA9IG1vdmVUaHJvdWdoTG9vcChjdXJyZW50bHlTZWxlY3RlZFN0ZXBJbmRleCwgc2V0dXBTdGVwcy5sZW5ndGgsIC0xKTtcbiAgICAgICAgc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID0gc2V0dXBTdGVwc1tuZXh0U2VsZWN0ZWRTdGVwSW5kZXhdO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnYXJyb3dyaWdodCcgfHwga2V5ID09PSAnZCcpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudE9mUGxheWVycycpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyA9IE1hdGgubWluKGFtb3VudE9mUGxheWVyc01heCwgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2JvYXJkV2lkdGgnKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXR1cC5ib2FyZFdpZHRoID0gTWF0aC5taW4oYm9hcmRXaWR0aE1heCwgc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZEhlaWdodCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmJvYXJkSGVpZ2h0ID0gTWF0aC5taW4oYm9hcmRIZWlnaHRNYXgsIHN0YXRlLnNldHVwLmJvYXJkSGVpZ2h0ICsgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Nvbm5lY3RUb1dpbicpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmNvbm5lY3RUb1dpbiA9IE1hdGgubWluKGNvbm5lY3RUb1dpbk1heCwgc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93ZG93bicgfHwga2V5ID09PSAncycpIHtcbiAgICAgICAgY29uc3QgbmV4dFNlbGVjdGVkU3RlcEluZGV4ID0gbW92ZVRocm91Z2hMb29wKGN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4LCBzZXR1cFN0ZXBzLmxlbmd0aCwgMSk7XG4gICAgICAgIHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9IHNldHVwU3RlcHNbbmV4dFNlbGVjdGVkU3RlcEluZGV4XTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93bGVmdCcgfHwga2V5ID09PSAnYScpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudE9mUGxheWVycycpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyA9IE1hdGgubWF4KGFtb3VudE9mUGxheWVyc01pbiwgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2JvYXJkV2lkdGgnKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXR1cC5ib2FyZFdpZHRoID0gTWF0aC5tYXgoYm9hcmRXaWR0aE1pbiwgc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZEhlaWdodCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmJvYXJkSGVpZ2h0ID0gTWF0aC5tYXgoYm9hcmRIZWlnaHRNaW4sIHN0YXRlLnNldHVwLmJvYXJkSGVpZ2h0IC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Nvbm5lY3RUb1dpbicpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmNvbm5lY3RUb1dpbiA9IE1hdGgubWF4KGNvbm5lY3RUb1dpbk1pbiwgc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luIC0gMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2VudGVyJyAmJiBzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdzdGFydFJvdW5kJykge1xuICAgICAgICBzdGF0ZS5nYW1lLm5leHRQaGFzZSA9ICdwbGF5aW5nUm91bmQnO1xuICAgICAgICBzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgPSAnc3RhcnQnO1xuICAgICAgICBzdGF0ZS5yb3VuZCA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUucm91bmQpLCB7IGJvYXJkU2l6ZToge1xuICAgICAgICAgICAgICAgIHdpZHRoOiBzdGF0ZS5zZXR1cC5ib2FyZFdpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogc3RhdGUuc2V0dXAuYm9hcmRIZWlnaHQsXG4gICAgICAgICAgICB9LCBwbGF5ZXJzOiBwaWNrKGFsbFBsYXllcnMsIHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyksIGNvbm5lY3RUb1dpbjogc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luIH0pO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdrZXlQcmVzc2VkJywgKHN0YXRlLCB7IGtleSB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgIT09ICdwbGF5aW5nUm91bmQnIHx8IHN0YXRlLnJvdW5kLnBoYXNlICE9PSAnZW5kJykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdyJykge1xuICAgICAgICBzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgPSAnc3RhcnQnO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdxJykge1xuICAgICAgICBzdGF0ZS5nYW1lLm5leHRQaGFzZSA9ICdzZXR0aW5nVXBHYW1lJztcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmZ1bmN0aW9uIG1vdmVUaHJvdWdoTG9vcChjdXJyZW50LCB0b3RhbCwgc3RlcCA9IDEpIHtcbiAgICByZXR1cm4gKChjdXJyZW50ICsgc3RlcCkgJSB0b3RhbCArIHRvdGFsKSAlIHRvdGFsO1xufVxuZXZlbnRFbWl0dGVyLm9uKCdkcmF3JywgKHN0YXRlLCB7IGNvbnRleHQgfSkgPT4ge1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGdhbWVTaXplLndpZHRoLCBnYW1lU2l6ZS5oZWlnaHQpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNEN0QwRkYnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgZ2FtZVNpemUud2lkdGgsIGdhbWVTaXplLmhlaWdodCk7XG4gICAgcmV0dXJuIHN0YXRlO1xufSk7XG5ldmVudEVtaXR0ZXIub24oJ2RyYXcnLCAoc3RhdGUsIGRyYXdFdmVudCkgPT4ge1xuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlID09PSAnc2V0dGluZ1VwR2FtZScpIHtcbiAgICAgICAgZHJhd1NldHRpbmdVcEdhbWUoc3RhdGUsIGRyYXdFdmVudCk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlID09PSAncGxheWluZ1JvdW5kJykge1xuICAgICAgICBkcmF3UGxheWluZ1JvdW5kKHN0YXRlLCBkcmF3RXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmZ1bmN0aW9uIGRyYXdTZXR0aW5nVXBHYW1lKHN0YXRlLCB7IGNvbnRleHQgfSkge1xuICAgIGRyYXdUZXh0KCdTZXQgdXBcXG5hIG5ldyBnYW1lJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSwgeTogMjggfSwgY29udGV4dCwgJ2NlbnRlcicpO1xuICAgIGRyYXdUZXh0KCdCb2FyZCcsIHsgeDogMTUwLCB5OiA2OCB9LCBjb250ZXh0LCAncmlnaHQnKTtcbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodH0gcm93c2AsIHsgeDogMTcyLCB5OiA2OCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYm9hcmRIZWlnaHQnKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA+IGJvYXJkSGVpZ2h0TWluKSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LWxlZnQnKSwgY29udGV4dCwgeyB4OiAxNjAsIHk6IDY4IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA8IGJvYXJkSGVpZ2h0TWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA2OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5ib2FyZFdpZHRofSBjb2x1bW5zYCwgeyB4OiAxNzIsIHk6IDc4IH0sIGNvbnRleHQpO1xuICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZFdpZHRoJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCA+IGJvYXJkV2lkdGhNaW4pIHtcbiAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYXJyb3ctbGVmdCcpLCBjb250ZXh0LCB7IHg6IDE2MCwgeTogNzggfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmJvYXJkV2lkdGggPCBib2FyZFdpZHRoTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA3OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dCgnV2hvXFwncyBwbGF5aW5nPycsIHsgeDogMTUwLCB5OiA5OCB9LCBjb250ZXh0LCAncmlnaHQnKTtcbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5hbW91bnRPZlBsYXllcnN9IHBsYXllcnNgLCB7IHg6IDE3MiwgeTogOTggfSwgY29udGV4dCk7XG4gICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudE9mUGxheWVycycpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyA+IGFtb3VudE9mUGxheWVyc01pbikge1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1sZWZ0JyksIGNvbnRleHQsIHsgeDogMTYwLCB5OiA5OCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzIDwgYW1vdW50T2ZQbGF5ZXJzTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA5OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dCgnSG93IG1hbnkgdG8gd2luPycsIHsgeDogMTUwLCB5OiAxMTggfSwgY29udGV4dCwgJ3JpZ2h0Jyk7XG4gICAgZHJhd1RleHQoYGNvbm5lY3QgJHtzdGF0ZS5zZXR1cC5jb25uZWN0VG9XaW59YCwgeyB4OiAxNzIsIHk6IDExOCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnY29ubmVjdFRvV2luJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luID4gY29ubmVjdFRvV2luTWluKSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LWxlZnQnKSwgY29udGV4dCwgeyB4OiAxNjAsIHk6IDExOCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY29ubmVjdFRvV2luIDwgY29ubmVjdFRvV2luTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiAxMTggfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZHJhd1RleHQoJ3N0YXJ0JywgeyB4OiAxNzIsIHk6IDEzOCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnc3RhcnRSb3VuZCcpIHtcbiAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1yaWdodCcpLCBjb250ZXh0LCB7IHg6IDE2MCwgeTogMTM4IH0pO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRyYXdQbGF5aW5nUm91bmQoc3RhdGUsIGRyYXdFdmVudCkge1xuICAgIGNvbnN0IGdhbWVCb2FyZCA9IHN0YXRlLnJvdW5kLmdhbWVCb2FyZDtcbiAgICBkcmF3Qm9hcmRCYWNrKGdhbWVCb2FyZCwgZHJhd0V2ZW50LmNvbnRleHQsIHN0YXRlKTtcbiAgICBkcmF3Q29pbnNJbkJvYXJkKGdhbWVCb2FyZCwgZHJhd0V2ZW50LmNvbnRleHQsIHN0YXRlKTtcbiAgICBkcmF3Qm9hcmRGcm9udChnYW1lQm9hcmQsIGRyYXdFdmVudC5jb250ZXh0LCBzdGF0ZSk7XG4gICAgaWYgKHN0YXRlLnJvdW5kLnBoYXNlID09PSAnZGVjaWRlTW92ZScpIHtcbiAgICAgICAgZHJhd1JvdW5kRGVjaWRpbmdNb3ZlKHN0YXRlLCBkcmF3RXZlbnQpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUucm91bmQucGhhc2UgPT09ICdlbmQnKSB7XG4gICAgICAgIGRyYXdSb3VuZEVuZChzdGF0ZSwgZHJhd0V2ZW50KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkcmF3Um91bmREZWNpZGluZ01vdmUoc3RhdGUsIHsgY29udGV4dCB9KSB7XG4gICAgY29uc3QgYm9hcmRPcmlnaW4gPSBnZXRCb2FyZE9yaWdpbihzdGF0ZS5yb3VuZC5ib2FyZFNpemUpO1xuICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCBgY29pbi0ke3N0YXRlLnJvdW5kLmN1cnJlbnRQbGF5ZXJ9YCksIGNvbnRleHQsIHtcbiAgICAgICAgeDogYm9hcmRPcmlnaW4ueCArIChzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZSAqIHRpbGVTaXplLndpZHRoKSxcbiAgICAgICAgeTogYm9hcmRPcmlnaW4ueSAtIE1hdGguZmxvb3IoMS41ICogdGlsZVNpemUuaGVpZ2h0KSxcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRyYXdSb3VuZEVuZChzdGF0ZSwgeyBjb250ZXh0IH0pIHtcbiAgICBpZiAoc3RhdGUucm91bmQud2lubmVyKSB7XG4gICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCBgY29pbi0ke3N0YXRlLnJvdW5kLndpbm5lcn1gKSwgY29udGV4dCwge1xuICAgICAgICAgICAgeDogKGdhbWVTaXplLndpZHRoIC8gMikgLSAodGlsZVNpemUud2lkdGggLyAyKSAtIDEyLFxuICAgICAgICAgICAgeTogNFxuICAgICAgICB9KTtcbiAgICAgICAgZHJhd1RleHQoJ3dpbnMhJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSAtIDIsIHk6IDggfSwgY29udGV4dCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBkcmF3VGV4dCgndGllLi4uJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSArIDAuNSwgeTogOCB9LCBjb250ZXh0LCAnY2VudGVyJyk7XG4gICAgfVxuICAgIGRyYXdUZXh0KCdxOiBzZXQgdXAgbmV3IGdhbWUgfCByOiByZW1hdGNoJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSArIDAuNSwgeTogMjQgfSwgY29udGV4dCwgJ2NlbnRlcicpO1xufVxuZnVuY3Rpb24gZHJhd0NvaW5zSW5Cb2FyZChnYW1lQm9hcmQsIGNvbnRleHQsIHN0YXRlKSB7XG4gICAgY29uc3QgYm9hcmRPcmlnaW4gPSBnZXRCb2FyZE9yaWdpbihzdGF0ZS5yb3VuZC5ib2FyZFNpemUpO1xuICAgIGdhbWVCb2FyZC50aWxlcy5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBjb2x1bW5JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29pbk9yaWdpbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBib2FyZE9yaWdpbi54ICsgcm93SW5kZXggKiB0aWxlU2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiBib2FyZE9yaWdpbi55ICsgY29sdW1uSW5kZXggKiB0aWxlU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGNlbGwgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgYGNvaW4tJHtjZWxsfWApLCBjb250ZXh0LCBjb2luT3JpZ2luKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3Qm9hcmRCYWNrKGdhbWVCb2FyZCwgY29udGV4dCwgc3RhdGUpIHtcbiAgICBjb25zdCBib2FyZE9yaWdpbiA9IGdldEJvYXJkT3JpZ2luKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZSk7XG4gICAgZ2FtZUJvYXJkLnRpbGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjZWxsT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgIHg6IGJvYXJkT3JpZ2luLnggKyByb3dJbmRleCAqIHRpbGVTaXplLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IGJvYXJkT3JpZ2luLnkgKyBjb2x1bW5JbmRleCAqIHRpbGVTaXplLmhlaWdodCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLXBvc2l0aW9uLWJhY2snKSwgY29udGV4dCwgY2VsbE9yaWdpbik7XG4gICAgICAgICAgICBpZiAoY29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvbHVtbi10b3AtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLngsIHk6IGNlbGxPcmlnaW4ueSAtIDggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29sdW1uSW5kZXggPT09IHJvdy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb2x1bW4tYm90dG9tLWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54LCB5OiBjZWxsT3JpZ2luLnkgKyB0aWxlU2l6ZS5oZWlnaHQgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLXJvdy1sZWZ0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54IC0gOCwgeTogY2VsbE9yaWdpbi55IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSBnYW1lQm9hcmQudGlsZXMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtcm93LXJpZ2h0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54ICsgdGlsZVNpemUud2lkdGgsIHk6IGNlbGxPcmlnaW4ueSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMCAmJiBjb2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29ybmVyLXRvcC1sZWZ0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54IC0gOCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gZ2FtZUJvYXJkLnRpbGVzLmxlbmd0aCAtIDEgJiYgY29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci10b3AtcmlnaHQtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggKyB0aWxlU2l6ZS53aWR0aCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gZ2FtZUJvYXJkLnRpbGVzLmxlbmd0aCAtIDEgJiYgY29sdW1uSW5kZXggPT09IHJvdy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItYm90dG9tLXJpZ2h0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54ICsgdGlsZVNpemUud2lkdGgsIHk6IGNlbGxPcmlnaW4ueSArIHRpbGVTaXplLmhlaWdodCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMCAmJiBjb2x1bW5JbmRleCA9PT0gcm93Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci1ib3R0b20tbGVmdC1mcm9udCcpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCAtIDgsIHk6IGNlbGxPcmlnaW4ueSArIHRpbGVTaXplLmhlaWdodCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3Qm9hcmRGcm9udChnYW1lQm9hcmQsIGNvbnRleHQsIHN0YXRlKSB7XG4gICAgY29uc3QgYm9hcmRPcmlnaW4gPSBnZXRCb2FyZE9yaWdpbihzdGF0ZS5yb3VuZC5ib2FyZFNpemUpO1xuICAgIGdhbWVCb2FyZC50aWxlcy5mb3JFYWNoKChyb3csIHJvd0luZGV4KSA9PiB7XG4gICAgICAgIHJvdy5mb3JFYWNoKChjZWxsLCBjb2x1bW5JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2VsbE9yaWdpbiA9IHtcbiAgICAgICAgICAgICAgICB4OiBib2FyZE9yaWdpbi54ICsgcm93SW5kZXggKiB0aWxlU2l6ZS53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiBib2FyZE9yaWdpbi55ICsgY29sdW1uSW5kZXggKiB0aWxlU2l6ZS5oZWlnaHQsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1wb3NpdGlvbi1mcm9udCcpLCBjb250ZXh0LCBjZWxsT3JpZ2luKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29sdW1uLXRvcC1iYWNrJyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54LCB5OiBjZWxsT3JpZ2luLnkgLSA4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSAwICYmIGNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItdG9wLWxlZnQtYmFjaycpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCAtIDgsIHk6IGNlbGxPcmlnaW4ueSAtIDggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGdhbWVCb2FyZC50aWxlcy5sZW5ndGggLSAxICYmIGNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItdG9wLXJpZ2h0LWJhY2snKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggKyB0aWxlU2l6ZS53aWR0aCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRCb2FyZE9yaWdpbihib2FyZFNpemUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSAtICgoYm9hcmRTaXplLndpZHRoIC8gMikgKiB0aWxlU2l6ZS53aWR0aCksXG4gICAgICAgIHk6IDQwLFxuICAgIH07XG59XG5mdW5jdGlvbiBkcmF3VGV4dCh0ZXh0LCBwb3NpdGlvbiwgY29udGV4dCwgYWxpZ24gPSAnbGVmdCcsIGNvbG9yKSB7XG4gICAgZHJhd1RleHRXaXRoQ3VzdG9tRm9udChjb250ZXh0LCB0ZXh0LCBwb3NpdGlvbiwgJy9zcmMvYXNzZXRzL2ZvbnRzL0JpcmRTZWVkL2F0bGFzLnBuZycsIG1ldHJpY3MsIHtcbiAgICAgICAgYWxpZ24sXG4gICAgICAgIGJhc2VsaW5lOiAndG9wJyxcbiAgICAgICAgY29sb3IsXG4gICAgfSk7XG59XG5nYW1lLnN0YXJ0KCk7XG4iLCJpbXBvcnQgYXJyYXlXaXRob3V0IGZyb20gJ0BiYWtrZXJqb2VyaS9hcnJheS13aXRob3V0JztcbmltcG9ydCBvYmplY3RXaXRob3V0IGZyb20gJ0BiYWtrZXJqb2VyaS9vYmplY3Qtd2l0aG91dCc7XG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFdmVudEVtaXR0ZXIge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSB7fTtcbiAgICAgICAgdGhpcy5vbiA9IHRoaXMub24uYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5lbWl0ID0gdGhpcy5lbWl0LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlID0gdGhpcy5yZW1vdmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwgPSB0aGlzLnJlbW92ZUFsbC5iaW5kKHRoaXMpO1xuICAgIH1cbiAgICBvbihldmVudFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmV2ZW50SGFuZGxlcnMpLCB7IFtldmVudFR5cGVdOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0gfHwgW10sXG4gICAgICAgICAgICAgICAgaGFuZGxlcixcbiAgICAgICAgICAgIF0gfSk7XG4gICAgfVxuICAgIHJlbW92ZShldmVudFR5cGUsIGhhbmRsZXIpIHtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCB0aGlzLmV2ZW50SGFuZGxlcnMpLCB7IFtldmVudFR5cGVdOiBhcnJheVdpdGhvdXQodGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV0sIGhhbmRsZXIpIH0pO1xuICAgIH1cbiAgICByZW1vdmVBbGwoZXZlbnRUeXBlKSB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IG9iamVjdFdpdGhvdXQodGhpcy5ldmVudEhhbmRsZXJzLCBldmVudFR5cGUpO1xuICAgIH1cbiAgICBlbWl0KGV2ZW50VHlwZSwgaW5pdGlhbFN0YXRlLCBldmVudCkge1xuICAgICAgICBpZiAoIXRoaXMuZXZlbnRIYW5kbGVycy5oYXNPd25Qcm9wZXJ0eShldmVudFR5cGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gaW5pdGlhbFN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhbmRsZXJzID0gdGhpcy5ldmVudEhhbmRsZXJzW2V2ZW50VHlwZV07XG4gICAgICAgIHJldHVybiBoYW5kbGVycy5yZWR1Y2UoKG5ld1N0YXRlLCBjdXJyZW50SGFuZGxlcikgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRIYW5kbGVyKG5ld1N0YXRlLCBldmVudCwge1xuICAgICAgICAgICAgICAgIG9uOiB0aGlzLm9uLFxuICAgICAgICAgICAgICAgIGVtaXQ6IHRoaXMuZW1pdCxcbiAgICAgICAgICAgICAgICByZW1vdmU6IHRoaXMucmVtb3ZlLFxuICAgICAgICAgICAgICAgIHJlbW92ZUFsbDogdGhpcy5yZW1vdmVBbGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgaW5pdGlhbFN0YXRlKTtcbiAgICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBvYmplY3RXaXRob3V0KG9iamVjdCwgLi4ua2V5c1RvUmVtb3ZlKSB7XG4gICAgY29uc3QgZW50cmllcyA9IE9iamVjdC5lbnRyaWVzKG9iamVjdCk7XG4gICAgcmV0dXJuIGVudHJpZXMucmVkdWNlKChuZXdPYmplY3QsIFtjdXJyZW50S2V5LCBjdXJyZW50VmFsdWVdKSA9PiB7XG4gICAgICAgIGlmIChrZXlzVG9SZW1vdmUuaW5jbHVkZXMoY3VycmVudEtleSkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXdPYmplY3Q7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbmV3T2JqZWN0KSwgeyBbY3VycmVudEtleV06IGN1cnJlbnRWYWx1ZSB9KTtcbiAgICB9LCB7fSk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gc2V0dXBHYW1lKGNvbnRhaW5lclNlbGVjdG9yLCBzaXplKSB7XG4gICAgLyoqXG4gICAgICogRmlyc3QsIHdlIG1vdW50IHRoZSBnYW1lIGluIHRoZSBjb250YWluZXIgZWxlbWVudC5cbiAgICAgKi9cbiAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJywgeyBhbHBoYTogZmFsc2UgfSk7XG4gICAgaWYgKCFjb250ZXh0KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ291bGRuXFwndCBjcmVhdGUgY29udGV4dCBmcm9tIGNhbnZhcycpO1xuICAgIH1cbiAgICBjb25zdCBnYW1lQ29udGFpbmVyID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoY29udGFpbmVyU2VsZWN0b3IpO1xuICAgIGlmICghZ2FtZUNvbnRhaW5lcikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvdWxkbid0IGZpbmQgZWxlbWVudCB3aXRoIHNlbGVjdG9yICR7Y29udGFpbmVyU2VsZWN0b3J9IHRvIG1vdW50IGNhbnZhcyBvbi5gKTtcbiAgICB9XG4gICAgZ2FtZUNvbnRhaW5lci5hcHBlbmRDaGlsZChjYW52YXMpO1xuICAgIC8qKlxuICAgICAqIFdlIGdpdmUgdGhlIGNhbnZhcyB0aGUgdXNlciBkZWZpbmVkIHBpeGVsIHNpemUgdGhyb3VnaCBlbGVtZW50IGF0dHJpYnV0ZXMsXG4gICAgICogYnV0IG1ha2Ugc3VyZSBpdCBmaWxscyBpdCdzIGNvbnRhaW5lciB0aHJvdWdoIENTUy5cbiAgICAgKi9cbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKCd3aWR0aCcsIChzaXplLndpZHRoKS50b1N0cmluZygpKTtcbiAgICBjYW52YXMuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCAoc2l6ZS5oZWlnaHQpLnRvU3RyaW5nKCkpO1xuICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gJzEwMCUnO1xuICAgIGNhbnZhcy5zdHlsZS5vYmplY3RGaXQgPSAnY29udGFpbic7XG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCBhbiBpbmxpbmUgZWxlbWVudCwgdGhlIGNhbnZhcyBjYW4gaGF2ZSBzb21lIHN0cmF5IHNwYWNpbmcuXG4gICAgICogV2UgY2hhbmdlIGl0cyBkaXNwbGF5IHZhbHVlIHRvIGJsb2NrIHRvIHByZXZlbnQgdGhvc2UuXG4gICAgICovXG4gICAgY2FudmFzLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgIC8qKlxuICAgICAqIFdlIG1ha2Ugc3VyZSB0aGF0IHJlbmRlcmluZyBpcyBjcmlzcCBpbiBkaWZmZXJlbnQgYnJvd3NlcnMuXG4gICAgICovXG4gICAgY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nID0gJy1tb3otY3Jpc3AtZWRnZXMnO1xuICAgIGNhbnZhcy5zdHlsZS5pbWFnZVJlbmRlcmluZyA9ICctd2Via2l0LWNyaXNwLWVkZ2VzJztcbiAgICBjYW52YXMuc3R5bGUuaW1hZ2VSZW5kZXJpbmcgPSAncGl4ZWxhdGVkJztcbiAgICByZXR1cm4ge1xuICAgICAgICBjb250ZXh0LFxuICAgICAgICBjYW52YXMsXG4gICAgfTtcbn1cbiIsImltcG9ydCBhcnJheVdpdGhvdXQgZnJvbSAnQGJha2tlcmpvZXJpL2FycmF5LXdpdGhvdXQnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgS2V5Ym9hcmQge1xuICAgIGNvbnN0cnVjdG9yKGV2ZW50RW1pdHRlcikge1xuICAgICAgICB0aGlzLnByZXNzZWRLZXlzID0gW107XG4gICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLnJlbGVhc2VkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlciA9IGV2ZW50RW1pdHRlcjtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzS2V5UHJlc3NlZChrZXkpICYmICF0aGlzLmlzS2V5RG93bihrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cyA9IFsuLi50aGlzLnByZXNzZWRLZXlzLCBrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzS2V5RG93bihrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVLZXlzID0gWy4uLnRoaXMuYWN0aXZlS2V5cywga2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gZXZlbnQua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBpZiAodGhpcy5pc0tleURvd24oa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IGFycmF5V2l0aG91dCh0aGlzLmFjdGl2ZUtleXMsIGtleSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNLZXlSZWxlYXNlZChrZXkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxlYXNlZEtleXMgPSBbLi4udGhpcy5yZWxlYXNlZEtleXMsIGtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsIHRoaXMucmVzZXRBbGxLZXlzLmJpbmQodGhpcykpO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbigndXBkYXRlJywgKHN0YXRlLCB7fSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5wcmVzc2VkS2V5cy5mb3JFYWNoKChhY3RpdmVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2tleVByZXNzZWQnLCBzdGF0ZSwgeyBrZXk6IGFjdGl2ZUtleSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5hY3RpdmVLZXlzLmZvckVhY2goKGFjdGl2ZUtleSkgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgna2V5RG93bicsIHN0YXRlLCB7IGtleTogYWN0aXZlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJlbGVhc2VkS2V5cy5mb3JFYWNoKChhY3RpdmVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2tleVVwJywgc3RhdGUsIHsga2V5OiBhY3RpdmVLZXkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyLm9uKCdhZnRlclVwZGF0ZScsIChzdGF0ZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNldFByZXNzZWRLZXlzKCk7XG4gICAgICAgICAgICB0aGlzLnJlc2V0UmVsZWFzZWRLZXlzKCk7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpc0tleVByZXNzZWQoa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXNzZWRLZXlzLmluY2x1ZGVzKGtleSk7XG4gICAgfVxuICAgIGlzS2V5RG93bihrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWN0aXZlS2V5cy5pbmNsdWRlcyhrZXkpO1xuICAgIH1cbiAgICBpc0tleVJlbGVhc2VkKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWxlYXNlZEtleXMuaW5jbHVkZXMoa2V5KTtcbiAgICB9XG4gICAgcmVzZXRQcmVzc2VkS2V5cygpIHtcbiAgICAgICAgdGhpcy5wcmVzc2VkS2V5cyA9IFtdO1xuICAgIH1cbiAgICByZXNldEFjdGl2ZUtleXMoKSB7XG4gICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IFtdO1xuICAgIH1cbiAgICByZXNldFJlbGVhc2VkS2V5cygpIHtcbiAgICAgICAgdGhpcy5yZWxlYXNlZEtleXMgPSBbXTtcbiAgICB9XG4gICAgcmVzZXRBbGxLZXlzKCkge1xuICAgICAgICB0aGlzLnJlc2V0UHJlc3NlZEtleXMoKTtcbiAgICAgICAgdGhpcy5yZXNldEFjdGl2ZUtleXMoKTtcbiAgICAgICAgdGhpcy5yZXNldFJlbGVhc2VkS2V5cygpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=