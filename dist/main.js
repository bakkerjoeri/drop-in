!function(e){var t={};function n(r){if(t[r])return t[r].exports;var s=t[r]={i:r,l:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";function r(e){window.requestAnimationFrame(t=>{!function(e,t){e(t),r(e)}(e,t)})}n.r(t);const s={entities:{},sprites:{}};function i(e,...t){return e.filter(e=>!t.includes(e))}function o(...e){return e.reduce((e,t)=>n=>t(e(n)),e=>e)}const a=e=>t=>Object.assign(Object.assign({},t),{sprites:Object.assign(Object.assign({},t.sprites),{[e.name]:e})});function c(e,t){if(!e.sprites.hasOwnProperty(t))throw new Error(`No sprite with name ${t} found.`);return e.sprites[t]}function d(e,t,n,r=0){if(!e.frames[r])throw new Error(`Sprite ${e.name} does not have frame with index ${r}`);const s=e.frames[r],i=u(s.file);t.drawImage(i,s.origin.x,s.origin.y,s.size.width,s.size.height,n.x+e.offset.x,n.y+e.offset.y,s.size.width,s.size.height)}const h={};function u(e,t=!0){if(t&&h[e])return h[e];const n=new Image;return n.src=e,h[e]=n,n.onerror=()=>{throw delete h[e],new Error(`No image found at ${e}.`)},n}function l(e,t){for(let n=0;n<e;n+=1)t(n)}function f(e,t){const n=[];return l(e,e=>{n[e]=[],l(t,t=>{n[e][t]=null})}),n}var p=[{name:"arrow-left",frames:[{file:"src/assets/sprites/arrows.png",origin:{x:0,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"arrow-right",frames:[{file:"src/assets/sprites/arrows.png",origin:{x:8,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"coin-red",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:0},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-blue",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:16},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-yellow",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:32},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-green",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:48},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-purple",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:64},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-white",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:80},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"coin-black",frames:[{file:"src/assets/sprites/coins.png",origin:{x:0,y:96},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-position-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:40},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-column-top-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:32},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-column-bottom-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:56},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-row-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:40},size:{width:8,height:16}}],offset:{x:0,y:0}},{name:"board-row-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:40},size:{width:8,height:16}}],offset:{x:0,y:0}},{name:"board-corner-top-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:32},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:32},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-bottom-right-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:56},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-bottom-left-front",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:56},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-position-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:8},size:{width:16,height:16}}],offset:{x:0,y:0}},{name:"board-column-top-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:8,y:0},size:{width:16,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-left-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:0,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}},{name:"board-corner-top-right-back",frames:[{file:"src/assets/sprites/board.png",origin:{x:24,y:0},size:{width:8,height:8}}],offset:{x:0,y:0}}];function y(e){if(0===e.length)throw new Error("Cannot choose from 0 choices.");return e[(t=0,n=e.length-1,Math.floor(Math.random()*(n+1+t)))];var t,n}function g(e,t,n=!1){if(!n&&t>e.length)throw new Error(`Can't randomly pick ${t} items without putting them back from an array that's only ${e.length} long.`);const r=[];for(let s=0;s<t;s+=1){const t=y(e);r.push(t),n||(e=e.filter(e=>e!==t))}return r}function m(e,t,n,r,s,{color:i="#000000",align:o="start",baseline:a="alphabetic",direction:c="ltr"}={}){const d=function(e,t){b.hasOwnProperty(e)||(b[e]={});if(!b[e].hasOwnProperty(t)){b[e][t]=document.createElement("canvas");const n=b[e][t],r=n.getContext("2d");if(!r)throw new Error("Could not create context for font canvas. Perhaps this browser does not support the Canvas API.");const s=u(e);s.addEventListener("load",()=>{r.drawImage(s,0,0),r.globalCompositeOperation="source-in",r.fillStyle=t,r.fillRect(0,0,n.width,n.height)})}return b[e][t]}(r,i),h=s.size,l=function(e,t,n,r){const s={ltr:1,rtl:-1}[n];return e.split("\n").map(e=>{let n=0;return Array.from(e).reduce((e,i)=>{const o=i.charCodeAt(0),a=t.chars.indexOf(o),c=t.advance[a];if(32===o)return n=n+c*s+1*s,Object.assign(Object.assign({},e),{width:e.width+c+1});const d={x:t.pack_x[a],y:t.pack_y[a]},h={width:t.width[a],height:t.height[a]},u=t.offset_x[a],l=t.offset_y[a],f={x:n+u*s,y:l+w(t,r)};return n=n+c*s+1*s,Object.assign(Object.assign({},e),{width:e.width+c+1,characters:[...e.characters,{positionInAtlas:d,sizeInAtlas:h,positionInLine:f}]})},{width:0,characters:[]})})}(t,s,c,a),f=Math.max(...l.map(e=>e.width));l.forEach((t,r)=>{const s=function(e,t,n,r){if("center"===n)return(t-e)/2-t/2;if("right"===n||"start"===n&&"rtl"===r||"end"===n&&"ltr"===r)return-e;return 0}(t.width,f,o,c),i=r*h;t.characters.forEach(({positionInAtlas:t,positionInLine:r,sizeInAtlas:o})=>{e.drawImage(d,t.x,t.y,o.width,o.height,Math.round(n.x+s+r.x),Math.round(n.y+i+r.y),o.width,o.height)})})}const b={};function w(e,t){return"top"===t?e.ascent:"hanging"===t?e.ascent+e.descent:"middle"===t?(e.ascent+e.descent)/2:"bottom"===t?e.descent:0}var x={name:"ChevyRay - Bird Seed",size:10,ascent:7,descent:-2,char_count:95,kerning_count:60,chars:[32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126],advance:[2,1,3,5,5,6,6,1,2,2,3,5,2,5,1,6,5,5,5,5,5,5,5,5,5,5,1,2,6,5,6,5,6,6,6,6,6,6,6,7,6,5,6,6,5,7,6,6,6,6,6,7,7,6,7,7,7,7,7,2,6,2,5,5,2,5,5,5,5,5,5,5,5,3,2,5,3,7,5,5,5,5,5,5,5,5,5,7,5,5,5,3,1,3,6],offset_x:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],offset_y:[0,-7,-7,-6,-7,-6,-7,-7,-7,-7,-7,-6,-1,-4,-1,-6,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-5,-5,-6,-5,-6,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-7,-6,-7,-7,-1,-7,-5,-7,-5,-8,-5,-7,-5,-7,-7,-7,-7,-7,-5,-5,-5,-5,-5,-5,-5,-7,-5,-5,-5,-5,-5,-5,-7,-7,-7,-4],width:[0,1,3,5,5,6,6,1,2,2,3,5,2,5,1,6,5,5,5,5,5,5,5,5,5,5,1,2,6,5,6,5,6,6,6,6,6,6,6,7,6,5,6,6,5,7,6,6,6,6,6,7,7,6,7,7,7,7,7,2,6,2,5,5,2,5,5,5,5,5,4,5,5,3,2,5,3,7,5,5,5,6,5,5,4,5,5,7,5,5,5,3,1,3,6],height:[0,7,2,6,7,6,7,2,7,7,4,6,2,2,1,6,7,7,7,7,7,7,7,7,7,7,5,6,6,4,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,7,7,7,7,7,7,7,7,7,7,6,7,4,1,2,5,7,5,8,5,7,7,7,7,10,7,7,5,5,5,7,7,5,5,7,5,5,5,5,7,5,7,7,7,3],pack_x:[0,0,0,2,0,0,6,4,0,0,8,12,6,0,8,3,7,3,6,0,9,13,13,13,0,0,10,18,0,6,6,6,12,15,19,19,19,0,0,0,7,12,13,19,22,7,14,18,20,26,26,26,33,26,28,33,34,41,0,0,7,0,28,20,9,3,3,3,8,8,9,9,14,15,14,19,14,17,20,21,25,27,21,25,33,36,36,41,42,48,49,27,15,15,27],pack_y:[0,0,8,0,11,19,7,7,26,34,0,0,15,42,5,26,18,33,41,45,33,7,15,23,53,61,26,0,69,49,54,61,41,31,7,15,23,76,84,92,69,61,49,39,31,77,69,57,47,0,39,9,0,17,25,17,8,0,100,108,85,116,33,55,15,108,114,122,92,101,107,115,85,77,93,77,104,93,85,65,57,47,71,77,38,25,31,16,8,8,0,65,112,120,73],kerning:[76,84,-1,76,89,-1,84,97,-1,84,99,-1,84,100,-1,84,101,-1,84,103,-1,84,109,-1,84,110,-1,84,111,-1,84,112,-1,84,113,-1,84,114,-1,84,115,-1,84,117,-1,84,118,-1,84,119,-1,84,120,-1,84,121,-1,84,122,-1,89,97,-1,89,99,-1,89,100,-1,89,101,-1,89,103,-1,89,109,-1,89,111,-1,89,113,-1,89,115,-1,97,84,-1,97,89,-1,98,84,-1,98,89,-1,99,84,-1,99,89,-1,101,84,-1,101,89,-1,103,84,-1,104,84,-1,104,89,-1,107,84,-1,109,84,-1,109,89,-1,110,84,-1,110,89,-1,111,84,-1,111,89,-1,112,84,-1,112,89,-1,113,84,-1,114,84,-1,114,89,-1,115,84,-1,115,89,-1,117,84,-1,118,84,-1,119,84,-1,120,84,-1,121,84,-1,122,84,-1]};const v={width:320,height:180},P=16,S=16,O={width:8,height:6},j=["boardHeight","boardWidth","amountOfPlayers","amountToConnect","onConnect","startRound"],C=["red","blue","yellow","green","purple","white","black"],z=new class{constructor(){this.eventHandlers={},this.on=this.on.bind(this),this.emit=this.emit.bind(this),this.remove=this.remove.bind(this),this.removeAll=this.removeAll.bind(this)}on(e,t){this.eventHandlers=Object.assign(Object.assign({},this.eventHandlers),{[e]:[...this.eventHandlers[e]||[],t]})}remove(e,t){this.eventHandlers=Object.assign(Object.assign({},this.eventHandlers),{[e]:i(this.eventHandlers[e],t)})}removeAll(e){this.eventHandlers=function(e,...t){return Object.entries(e).reduce((e,[n,r])=>t.includes(n)?e:Object.assign(Object.assign({},e),{[n]:r}),{})}(this.eventHandlers,e)}emit(e,t,n){if(!this.eventHandlers.hasOwnProperty(e))return t;return this.eventHandlers[e].reduce((e,t)=>t(e,n,{on:this.on,emit:this.emit,remove:this.remove,removeAll:this.removeAll}),t)}},k=new class{constructor(e,t,{initialState:n=s,containerSelector:r="body"}={}){this.eventEmitter=t;const{canvas:i,context:o}=function(e,t){const n=document.createElement("canvas"),r=n.getContext("2d",{alpha:!1});if(!r)throw new Error("Couldn't create context from canvas");const s=document.documentElement.querySelector(e);if(!s)throw new Error(`Couldn't find element with selector ${e} to mount canvas on.`);return s.appendChild(n),n.setAttribute("width",t.width.toString()),n.setAttribute("height",t.height.toString()),n.style.width="100%",n.style.height="100%",n.style.objectFit="contain",n.style.display="block",n.style.imageRendering="-moz-crisp-edges",n.style.imageRendering="-webkit-crisp-edges",n.style.imageRendering="pixelated",{context:r,canvas:n}}(r,e);this.canvas=i,this.context=o,this.state=Object.assign({},n)}start(){this.state=this.eventEmitter.emit("start",this.state,{}),r(e=>{this.state=this.eventEmitter.emit("beforeUpdate",this.state,{time:e}),this.state=this.eventEmitter.emit("update",this.state,{time:e}),this.state=this.eventEmitter.emit("afterUpdate",this.state,{time:e}),this.state=this.eventEmitter.emit("beforeDraw",this.state,{time:e,context:this.context}),this.state=this.eventEmitter.emit("draw",this.state,{time:e,context:this.context}),this.state=this.eventEmitter.emit("afterDraw",this.state,{time:e,context:this.context})})}}(v,z,{initialState:Object.assign(Object.assign({},s),{game:{isPhaseNew:!0,phase:null,nextPhase:"settingUpGame"},setup:{boardWidth:O.width,boardHeight:O.height,amountOfPlayers:2,amountToConnect:4,currentlySelectedStep:j[0],onConnect:"win"},round:{isPhaseNew:!0,phase:null,nextPhase:"start",gameBoard:null,boardSize:O,amountToConnect:4,onConnect:"win",players:[],currentPlayer:null,positionToPlacePiece:0,winner:null}}),containerSelector:".game"});function E(e,t,n=1){return((e+n)%t+t)%t}function K(e){return{x:v.width/2-e.width/2*P,y:40}}function T(e,t,n,r="left",s){m(n,e,t,"src/assets/fonts/BirdSeed/atlas.png",x,{align:r,baseline:"top",color:s})}new class{constructor(e){this.pressedKeys=[],this.activeKeys=[],this.releasedKeys=[],this.eventEmitter=e,window.addEventListener("keydown",e=>{const t=e.key.toLowerCase();this.isKeyPressed(t)||this.isKeyDown(t)||(this.pressedKeys=[...this.pressedKeys,t]),this.isKeyDown(t)||(this.activeKeys=[...this.activeKeys,t])}),window.addEventListener("keyup",e=>{const t=e.key.toLowerCase();this.isKeyDown(t)&&(this.activeKeys=i(this.activeKeys,t)),this.isKeyReleased(t)||(this.releasedKeys=[...this.releasedKeys,t])}),window.addEventListener("blur",this.resetAllKeys.bind(this)),this.eventEmitter.on("update",(e,{})=>(this.pressedKeys.forEach(t=>{e=this.eventEmitter.emit("keyPressed",e,{key:t})}),this.activeKeys.forEach(t=>{e=this.eventEmitter.emit("keyDown",e,{key:t})}),this.releasedKeys.forEach(t=>{e=this.eventEmitter.emit("keyUp",e,{key:t})}),e)),this.eventEmitter.on("afterUpdate",e=>(this.resetPressedKeys(),this.resetReleasedKeys(),e))}isKeyPressed(e){return this.pressedKeys.includes(e)}isKeyDown(e){return this.activeKeys.includes(e)}isKeyReleased(e){return this.releasedKeys.includes(e)}resetPressedKeys(){this.pressedKeys=[]}resetActiveKeys(){this.activeKeys=[]}resetReleasedKeys(){this.releasedKeys=[]}resetAllKeys(){this.resetPressedKeys(),this.resetActiveKeys(),this.resetReleasedKeys()}}(z),z.on("start",e=>{return(t=p,e=>o(...t.map(a))(e))(e);var t}),z.on("beforeUpdate",e=>(null!==e.game.nextPhase?(e.game.phase=e.game.nextPhase,e.game.nextPhase=null,e.game.isPhaseNew=!0):e.game.isPhaseNew=!1,null!==e.round.nextPhase?(e.round.phase=e.round.nextPhase,e.round.nextPhase=null,e.round.isPhaseNew=!0):e.round.isPhaseNew=!1,e)),z.on("update",e=>"settingUpGame"===e.game.phase?function(e){if(e.game.isPhaseNew)return e.setup.currentlySelectedStep=j[0],e;return e}(e):"playingRound"===e.game.phase?function(e){if("start"===e.round.phase)return function(e){return e.round.gameBoard=function(e,t){return{isGameBoard:!0,tiles:f(e,t)}}(e.round.boardSize.width,e.round.boardSize.height),e.round.currentPlayer=y(e.round.players),e.round.positionToPlacePiece=Math.floor((e.round.boardSize.width-1)/2),e.round.nextPhase="startTurn",e}(e);if("startTurn"===e.round.phase)return function(e){return e.round.nextPhase="decideMove",e}(e);if("endTurn"===e.round.phase)return function(e){const t=e.round.gameBoard,n=function(e,t=4){for(let n=0;n<e.length;n+=1)for(let r=0;r<e[n].length;r+=1){const s=e[n][r];if(null===s)continue;const i=[...new Array(t).keys()];if(i.every(t=>e[n]&&e[n][r+t]===s))return s;if(i.every(t=>e[n+t]&&e[n+t][r]===s))return s;if(i.every(t=>e[n+t]&&e[n+t][r+t]===s))return s;if(i.every(t=>e[n+t]&&e[n+t][r-t]===s))return s}return null}(t.tiles,e.round.amountToConnect);if(n)return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{winner:n,nextPhase:"end"})});if(r=t.tiles,r.every(e=>e.every(e=>null!==e)))return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{nextPhase:"end"})});var r;const s=e.round.currentPlayer,i=E(e.round.players.indexOf(s),e.round.players.length),o=e.round.players[i];return Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{currentPlayer:o,nextPhase:"startTurn"})})}(e);return e}(e):e),z.on("keyPressed",(e,{key:t},{emit:n})=>{if("playingRound"!==e.game.phase||"decideMove"!==e.round.phase)return e;const r=parseInt(t);if(!("number"==typeof r&&!isNaN(r))||!(r>=1&&r<=e.round.boardSize.width))return e;const s=e.round.gameBoard,i=r-1,o=s.tiles[i];let a=0,c=o[a];for(;null===c&&a<=o.length-1;)a+=1,c=o[a];return 0===a?e:(s.tiles[i][a-1]=e.round.currentPlayer,Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{gameBoard:s,nextPhase:"endTurn"})}))}),z.on("keyPressed",(e,{key:t},{emit:n})=>("playingRound"!==e.game.phase||"decideMove"!==e.round.phase||("arrowright"!==t&&"d"!==t||(e.round.positionToPlacePiece=Math.min(e.round.boardSize.width-1,e.round.positionToPlacePiece+1)),"arrowleft"!==t&&"a"!==t||(e.round.positionToPlacePiece=Math.max(0,e.round.positionToPlacePiece-1))),e)),z.on("keyPressed",(e,{key:t},{emit:n})=>{if("playingRound"!==e.game.phase||"decideMove"!==e.round.phase)return e;if("arrowdown"===t||"s"===t){const t=e.round.gameBoard,n=e.round.positionToPlacePiece,r=t.tiles[e.round.positionToPlacePiece];let s=0,i=r[s];for(;null===i&&s<=r.length-1;)s+=1,i=r[s];return 0===s?e:(t.tiles[n][s-1]=e.round.currentPlayer,Object.assign(Object.assign({},e),{round:Object.assign(Object.assign({},e.round),{gameBoard:t,nextPhase:"endTurn"})}))}return e}),z.on("keyPressed",(e,{key:t})=>{if("settingUpGame"!==e.game.phase)return e;const n=j.indexOf(e.setup.currentlySelectedStep);if("arrowup"===t||"w"===t){const t=E(n,j.length,-1);e.setup.currentlySelectedStep=j[t]}if("arrowright"!==t&&"d"!==t||("amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers=Math.min(7,e.setup.amountOfPlayers+1)),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth=Math.min(18,e.setup.boardWidth+1)),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight=Math.min(8,e.setup.boardHeight+1)),"onConnect"===e.setup.currentlySelectedStep&&(e.setup.onConnect="win"===e.setup.onConnect?"lose":"win"),"amountToConnect"===e.setup.currentlySelectedStep&&(e.setup.amountToConnect=Math.min(8,e.setup.amountToConnect+1))),"arrowdown"===t||"s"===t){const t=E(n,j.length,1);e.setup.currentlySelectedStep=j[t]}return"arrowleft"!==t&&"a"!==t||("amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers=Math.max(2,e.setup.amountOfPlayers-1)),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth=Math.max(2,e.setup.boardWidth-1)),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight=Math.max(4,e.setup.boardHeight-1)),"onConnect"===e.setup.currentlySelectedStep&&(e.setup.onConnect="win"===e.setup.onConnect?"lose":"win"),"amountToConnect"===e.setup.currentlySelectedStep&&(e.setup.amountToConnect=Math.max(3,e.setup.amountToConnect-1))),"enter"===t&&"startRound"===e.setup.currentlySelectedStep?(e.game.nextPhase="playingRound",e.round.nextPhase="start",e.round=Object.assign(Object.assign({},e.round),{boardSize:{width:e.setup.boardWidth,height:e.setup.boardHeight},players:g(C,e.setup.amountOfPlayers),amountToConnect:e.setup.amountToConnect,onConnect:e.setup.onConnect}),e):e}),z.on("keyPressed",(e,{key:t})=>"playingRound"!==e.game.phase||"end"!==e.round.phase?e:"r"===t?(e.round.nextPhase="start",e):"q"===t?(e.game.nextPhase="settingUpGame",e):e),z.on("draw",(e,{context:t})=>(t.clearRect(0,0,v.width,v.height),t.fillStyle="#D7D0FF",t.fillRect(0,0,v.width,v.height),e)),z.on("draw",(e,t)=>("settingUpGame"===e.game.phase&&function(e,{context:t}){T("Set up\na new game",{x:v.width/2,y:28},t,"center"),T("Board",{x:150,y:68},t,"right"),T(e.setup.boardHeight+" rows",{x:172,y:68},t),"boardHeight"===e.setup.currentlySelectedStep&&(e.setup.boardHeight>4&&d(c(e,"arrow-left"),t,{x:160,y:68}),e.setup.boardHeight<8&&d(c(e,"arrow-right"),t,{x:230,y:68}));T(e.setup.boardWidth+" columns",{x:172,y:78},t),"boardWidth"===e.setup.currentlySelectedStep&&(e.setup.boardWidth>2&&d(c(e,"arrow-left"),t,{x:160,y:78}),e.setup.boardWidth<18&&d(c(e,"arrow-right"),t,{x:230,y:78}));T("Who's playing?",{x:150,y:98},t,"right"),T(e.setup.amountOfPlayers+" players",{x:172,y:98},t),"amountOfPlayers"===e.setup.currentlySelectedStep&&(e.setup.amountOfPlayers>2&&d(c(e,"arrow-left"),t,{x:160,y:98}),e.setup.amountOfPlayers<7&&d(c(e,"arrow-right"),t,{x:230,y:98}));T("Connect how many?",{x:150,y:118},t,"right"),T("connect "+e.setup.amountToConnect,{x:172,y:118},t),"amountToConnect"===e.setup.currentlySelectedStep&&(e.setup.amountToConnect>3&&d(c(e,"arrow-left"),t,{x:160,y:118}),e.setup.amountToConnect<8&&d(c(e,"arrow-right"),t,{x:230,y:118}));T(`Connect ${e.setup.amountToConnect} to`,{x:150,y:138},t,"right"),T(e.setup.onConnect,{x:172,y:138},t),"onConnect"===e.setup.currentlySelectedStep&&(d(c(e,"arrow-left"),t,{x:160,y:138}),d(c(e,"arrow-right"),t,{x:230,y:138}));T("start",{x:172,y:158},t),"startRound"===e.setup.currentlySelectedStep&&d(c(e,"arrow-right"),t,{x:160,y:158})}(e,t),"playingRound"===e.game.phase&&function(e,t){const n=e.round.gameBoard;(function(e,t,n){const r=K(n.round.boardSize);e.tiles.forEach((s,i)=>{s.forEach((o,a)=>{const h={x:r.x+i*P,y:r.y+a*S};d(c(n,"board-position-back"),t,h),0===a&&d(c(n,"board-column-top-front"),t,{x:h.x,y:h.y-8}),a===s.length-1&&d(c(n,"board-column-bottom-front"),t,{x:h.x,y:h.y+S}),0===i&&d(c(n,"board-row-left-front"),t,{x:h.x-8,y:h.y}),i===e.tiles.length-1&&d(c(n,"board-row-right-front"),t,{x:h.x+P,y:h.y}),0===i&&0===a&&d(c(n,"board-corner-top-left-front"),t,{x:h.x-8,y:h.y-8}),i===e.tiles.length-1&&0===a&&d(c(n,"board-corner-top-right-front"),t,{x:h.x+P,y:h.y-8}),i===e.tiles.length-1&&a===s.length-1&&d(c(n,"board-corner-bottom-right-front"),t,{x:h.x+P,y:h.y+S}),0===i&&a===s.length-1&&d(c(n,"board-corner-bottom-left-front"),t,{x:h.x-8,y:h.y+S})})})})(n,t.context,e),function(e,t,n){const r=K(n.round.boardSize);e.tiles.forEach((e,s)=>{e.forEach((e,i)=>{const o={x:r.x+s*P,y:r.y+i*S};null!==e&&d(c(n,"coin-"+e),t,o)})})}(n,t.context,e),function(e,t,n){const r=K(n.round.boardSize);e.tiles.forEach((s,i)=>{s.forEach((s,o)=>{const a={x:r.x+i*P,y:r.y+o*S};d(c(n,"board-position-front"),t,a),0===o&&d(c(n,"board-column-top-back"),t,{x:a.x,y:a.y-8}),0===i&&0===o&&d(c(n,"board-corner-top-left-back"),t,{x:a.x-8,y:a.y-8}),i===e.tiles.length-1&&0===o&&d(c(n,"board-corner-top-right-back"),t,{x:a.x+P,y:a.y-8})})})}(n,t.context,e),"decideMove"===e.round.phase&&function(e,{context:t}){const n=K(e.round.boardSize);d(c(e,"coin-"+e.round.currentPlayer),t,{x:n.x+e.round.positionToPlacePiece*P,y:n.y-Math.floor(1.5*S)})}(e,t);"end"===e.round.phase&&function(e,{context:t}){e.round.winner?(d(c(e,"coin-"+e.round.winner),t,{x:v.width/2-P/2-12,y:4}),"win"===e.round.onConnect?T("wins!",{x:v.width/2,y:8},t):T("has lost...",{x:v.width/2-2,y:8},t)):T("tie...",{x:v.width/2+.5,y:8},t,"center");T("q: set up new game | r: rematch",{x:v.width/2+.5,y:24},t,"center")}(e,t)}(e,t),e)),k.start()}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC90aWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9oZWtzL2Rpc3QvR2FtZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQGJha2tlcmpvZXJpL2FycmF5LXdpdGhvdXQvZGlzdC9hcnJheVdpdGhvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWtrZXJqb2VyaS9mcC9kaXN0L3BpcGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9zcHJpdGVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AYmFra2Vyam9lcmkvcmVwZWF0L2Rpc3QvcmVwZWF0LmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL2dhbWVib2FyZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvYXNzZXRzL3Nwcml0ZXMvc3ByaXRlcy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9sbC10aGUtYm9uZXMvZGlzdC9jaG9vc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JvbGwtdGhlLWJvbmVzL2Rpc3QvZ2V0UmFuZG9tTnVtYmVySW5SYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcm9sbC10aGUtYm9uZXMvZGlzdC9waWNrLmpzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL3RleHQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Fzc2V0cy9mb250cy9CaXJkU2VlZC9tZXRyaWNzLnRzIiwid2VicGFjazovLy8uL3NyYy9zY3JpcHRzL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9FdmVudEVtaXR0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0BiYWtrZXJqb2VyaS9vYmplY3Qtd2l0aG91dC9kaXN0L29iamVjdFdpdGhvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2hla3MvZGlzdC9zZXR1cEdhbWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3NjcmlwdHMva2V5Ym9hcmQudHMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJzY2hlZHVsZU5leHRUaWNrIiwiY2FsbGJhY2siLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ0aW1lIiwidGljayIsImRlZmF1bHRTdGF0ZSIsImVudGl0aWVzIiwic3ByaXRlcyIsImFycmF5V2l0aG91dCIsImFycmF5IiwidmFsdWVzVG9FeGNsdWRlIiwiZmlsdGVyIiwiaW5jbHVkZXMiLCJwaXBlIiwiZnVuY3Rpb25zIiwicmVkdWNlIiwicGlwZWRGdW5jdGlvbiIsImN1cnJlbnRGdW5jdGlvbiIsInNldFNwcml0ZSIsInNwcml0ZSIsInN0YXRlIiwiYXNzaWduIiwiZ2V0U3ByaXRlIiwiRXJyb3IiLCJkcmF3U3ByaXRlIiwiY29udGV4dCIsInBvc2l0aW9uIiwiZnJhbWVJbmRleCIsImZyYW1lcyIsImZyYW1lIiwiaW1hZ2UiLCJnZXRJbWFnZUZvckZpbGVQYXRoIiwiZmlsZSIsImRyYXdJbWFnZSIsIm9yaWdpbiIsIngiLCJ5Iiwic2l6ZSIsIndpZHRoIiwiaGVpZ2h0Iiwib2Zmc2V0IiwiaW1hZ2VDYWNoZSIsImZpbGVQYXRoIiwiY2FjaGVkIiwiSW1hZ2UiLCJzcmMiLCJvbmVycm9yIiwicmVwZWF0IiwiaXRlcmF0aW9ucyIsImNyZWF0ZVRpbGVNYXAiLCJ0aWxlTWFwIiwiY2hvb3NlIiwiY2hvaWNlcyIsImxlbmd0aCIsImxvd2VyQm91bmQiLCJ1cHBlckJvdW5kIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicGljayIsIml0ZW1zIiwiYW1vdW50IiwicHV0QmFjayIsInBpY2tzIiwiY2hvaWNlIiwicHVzaCIsIml0ZW0iLCJkcmF3VGV4dFdpdGhDdXN0b21Gb250IiwidGV4dCIsImZvbnRBdGxhc1BhdGgiLCJtZXRyaWNzIiwiY29sb3IiLCJhbGlnbiIsImJhc2VsaW5lIiwiZGlyZWN0aW9uIiwiZm9udEltYWdlIiwiZm9udENvbG9yQ2FjaGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiIsImZpbGxTdHlsZSIsImZpbGxSZWN0IiwiZ2V0Rm9udFdpdGhDb2xvciIsImxpbmVIZWlnaHQiLCJsaW5lcyIsImRpcmVjdGlvbkZhY3RvciIsImx0ciIsInJ0bCIsInNwbGl0IiwibWFwIiwibGluZVBhcnQiLCJob3Jpem9udGFsT2Zmc2V0IiwiQXJyYXkiLCJmcm9tIiwibGluZSIsImNoYXJhY3RlciIsImFzY2lpQ29kZSIsImNoYXJDb2RlQXQiLCJpbmRleEluQXRsYXMiLCJjaGFycyIsImluZGV4T2YiLCJhZHZhbmNlIiwicG9zaXRpb25JbkF0bGFzIiwicGFja194IiwicGFja195Iiwic2l6ZUluQXRsYXMiLCJvZmZzZXRJbkF0bGFzIiwib2Zmc2V0X3giLCJvZmZzZXRfeSIsInBvc2l0aW9uSW5MaW5lIiwiZ2V0VmVydGljYWxPZmZzZXRGb3JCYXNlbGluZSIsImNoYXJhY3RlcnMiLCJtYWtlUmVuZGVyTGluZXMiLCJiaWdnZXN0V2lkdGgiLCJtYXgiLCJmb3JFYWNoIiwibGluZUluZGV4IiwibGluZU9mZnNldCIsImxpbmVXaWR0aCIsImdldEhvcml6b250YWxMaW5lT2Zmc2V0Iiwicm91bmQiLCJhc2NlbnQiLCJkZXNjZW50IiwiY2hhcl9jb3VudCIsImtlcm5pbmdfY291bnQiLCJrZXJuaW5nIiwiZ2FtZVNpemUiLCJ0aWxlU2l6ZSIsImRlZmF1bHRCb2FyZFNpemUiLCJzZXR1cFN0ZXBzIiwiYWxsUGxheWVycyIsInRoaXMiLCJldmVudEhhbmRsZXJzIiwib24iLCJlbWl0IiwicmVtb3ZlIiwicmVtb3ZlQWxsIiwiZXZlbnRUeXBlIiwiaGFuZGxlciIsImtleXNUb1JlbW92ZSIsImVudHJpZXMiLCJuZXdPYmplY3QiLCJjdXJyZW50S2V5IiwiY3VycmVudFZhbHVlIiwib2JqZWN0V2l0aG91dCIsImluaXRpYWxTdGF0ZSIsImV2ZW50IiwibmV3U3RhdGUiLCJjdXJyZW50SGFuZGxlciIsImdhbWUiLCJldmVudEVtaXR0ZXIiLCJjb250YWluZXJTZWxlY3RvciIsImFscGhhIiwiZ2FtZUNvbnRhaW5lciIsImRvY3VtZW50RWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhcHBlbmRDaGlsZCIsInNldEF0dHJpYnV0ZSIsInRvU3RyaW5nIiwic3R5bGUiLCJvYmplY3RGaXQiLCJkaXNwbGF5IiwiaW1hZ2VSZW5kZXJpbmciLCJzZXR1cEdhbWUiLCJpc1BoYXNlTmV3IiwicGhhc2UiLCJuZXh0UGhhc2UiLCJzZXR1cCIsImJvYXJkV2lkdGgiLCJib2FyZEhlaWdodCIsImFtb3VudE9mUGxheWVycyIsImFtb3VudFRvQ29ubmVjdCIsImN1cnJlbnRseVNlbGVjdGVkU3RlcCIsIm9uQ29ubmVjdCIsImdhbWVCb2FyZCIsImJvYXJkU2l6ZSIsInBsYXllcnMiLCJjdXJyZW50UGxheWVyIiwicG9zaXRpb25Ub1BsYWNlUGllY2UiLCJ3aW5uZXIiLCJtb3ZlVGhyb3VnaExvb3AiLCJjdXJyZW50IiwidG90YWwiLCJzdGVwIiwiZ2V0Qm9hcmRPcmlnaW4iLCJkcmF3VGV4dCIsInByZXNzZWRLZXlzIiwiYWN0aXZlS2V5cyIsInJlbGVhc2VkS2V5cyIsInRvTG93ZXJDYXNlIiwiaXNLZXlQcmVzc2VkIiwiaXNLZXlEb3duIiwiaXNLZXlSZWxlYXNlZCIsInJlc2V0QWxsS2V5cyIsImFjdGl2ZUtleSIsInJlc2V0UHJlc3NlZEtleXMiLCJyZXNldFJlbGVhc2VkS2V5cyIsInJlc2V0QWN0aXZlS2V5cyIsInVwZGF0ZVNldHVwR2FtZSIsImlzR2FtZUJvYXJkIiwidGlsZXMiLCJjcmVhdGVHYW1lQm9hcmQiLCJ1cGRhdGVSb3VuZFN0YXJ0IiwidXBkYXRlUm91bmRTdGFydFR1cm4iLCJjaGFpbkxlbmd0aCIsImNvbHVtbkluZGV4Iiwicm93SW5kZXgiLCJwbGF5ZXJPY2N1cHlpbmdDZWxsIiwiY2hhaW4iLCJrZXlzIiwiZXZlcnkiLCJjaGFpbkluZGV4IiwiZmluZFdpbm5lciIsImNvbHVtbiIsImNlbGwiLCJuZXh0UGxheWVySW5kZXgiLCJuZXh0UGxheWVyIiwidXBkYXRlUm91bmRFbmRUdXJuIiwidXBkYXRlUGxheWluZ1JvdW5kIiwia2V5QXNJbnRlZ2VyIiwicGFyc2VJbnQiLCJpc05hTiIsImluZGV4T2ZGaXJzdEZ1bGxDZWxsIiwiY2VsbFRvSW5zcGVjdCIsIm1pbiIsImN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4IiwibmV4dFNlbGVjdGVkU3RlcEluZGV4IiwiY2xlYXJSZWN0IiwiZHJhd0V2ZW50IiwiZHJhd1NldHRpbmdVcEdhbWUiLCJib2FyZE9yaWdpbiIsInJvdyIsImNlbGxPcmlnaW4iLCJkcmF3Qm9hcmRCYWNrIiwiY29pbk9yaWdpbiIsImRyYXdDb2luc0luQm9hcmQiLCJkcmF3Qm9hcmRGcm9udCIsImRyYXdSb3VuZERlY2lkaW5nTW92ZSIsImRyYXdSb3VuZEVuZCIsImRyYXdQbGF5aW5nUm91bmQiLCJzdGFydCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFP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SUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLElBQUssSUFBSyxJQUFLLEtBQzFaRSxRQUFTLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUNwU00sU0FBVSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDclNDLFNBQVUsQ0FBQyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQ25ZekUsTUFBTyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FDbFNDLE9BQVEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsR0FBSSxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3BTbUUsT0FBUSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksSUFDdFZDLE9BQVEsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQUksR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEVBQUcsRUFBRyxHQUFJLEdBQUksRUFBRyxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxFQUFHLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsR0FBSSxFQUFHLEVBQUcsR0FBSSxHQUFJLEdBQUksRUFBRyxFQUFHLElBQUssSUFBSyxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksSUFBSyxJQUFLLElBQUssR0FBSSxJQUFLLElBQUssSUFBSyxHQUFJLEdBQUksR0FBSSxHQUFJLElBQUssR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEdBQUksR0FBSSxHQUFJLEVBQUcsRUFBRyxFQUFHLEdBQUksSUFBSyxJQUFLLElBQ3pYcUIsUUFBUyxDQUFDLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksS0FBTSxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLEdBQUksSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxFQUFHLElBQUssSUFBSyxJQ1Izd0IsTUFBTUMsRUFBVyxDQUNiM0YsTUFBTyxJQUNQQyxPQUFRLEtBRU4yRixFQUNLLEdBRExBLEVB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Q0FBRXpKLEVBQUk4RixFQUFTM0YsTUFBUSxFQUFLLEdBQUtGLEVBQUcsSUFBTVgsRUFBUyxVQTFCM0Z3TixDQUFhN04sRUFBT21OLEdBakVwQlcsQ0FBaUI5TixFQUFPbU4sR0FFckJuTixJQStLWG9JLEVBQUsyRiIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0KGNhbGxiYWNrKSB7XG4gICAgc2NoZWR1bGVOZXh0VGljayhjYWxsYmFjayk7XG59XG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVOZXh0VGljayhjYWxsYmFjaykge1xuICAgIHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUoKHRpbWUpID0+IHtcbiAgICAgICAgdGljayhjYWxsYmFjaywgdGltZSk7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gdGljayhjYWxsYmFjaywgdGltZSkge1xuICAgIGNhbGxiYWNrKHRpbWUpO1xuICAgIHNjaGVkdWxlTmV4dFRpY2soY2FsbGJhY2spO1xufVxuIiwiaW1wb3J0IHsgc3RhcnQgfSBmcm9tICcuL3RpY2suanMnO1xuaW1wb3J0IHsgc2V0dXBHYW1lIH0gZnJvbSAnLi9zZXR1cEdhbWUuanMnO1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTdGF0ZSA9IHtcbiAgICBlbnRpdGllczoge30sXG4gICAgc3ByaXRlczoge30sXG59O1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgR2FtZSB7XG4gICAgY29uc3RydWN0b3Ioc2l6ZSwgZXZlbnRFbWl0dGVyLCB7IGluaXRpYWxTdGF0ZSA9IGRlZmF1bHRTdGF0ZSwgY29udGFpbmVyU2VsZWN0b3IgPSAnYm9keScgfSA9IHt9KSB7XG4gICAgICAgIHRoaXMuZXZlbnRFbWl0dGVyID0gZXZlbnRFbWl0dGVyO1xuICAgICAgICBjb25zdCB7IGNhbnZhcywgY29udGV4dCB9ID0gc2V0dXBHYW1lKGNvbnRhaW5lclNlbGVjdG9yLCBzaXplKTtcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XG4gICAgICAgIHRoaXMuY29udGV4dCA9IGNvbnRleHQ7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBPYmplY3QuYXNzaWduKHt9LCBpbml0aWFsU3RhdGUpO1xuICAgIH1cbiAgICBzdGFydCgpIHtcbiAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ3N0YXJ0JywgdGhpcy5zdGF0ZSwge30pO1xuICAgICAgICBzdGFydCgodGltZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2JlZm9yZVVwZGF0ZScsIHRoaXMuc3RhdGUsIHsgdGltZSB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCd1cGRhdGUnLCB0aGlzLnN0YXRlLCB7IHRpbWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgnYWZ0ZXJVcGRhdGUnLCB0aGlzLnN0YXRlLCB7IHRpbWUgfSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gdGhpcy5ldmVudEVtaXR0ZXIuZW1pdCgnYmVmb3JlRHJhdycsIHRoaXMuc3RhdGUsIHsgdGltZSwgY29udGV4dDogdGhpcy5jb250ZXh0IH0pO1xuICAgICAgICAgICAgdGhpcy5zdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2RyYXcnLCB0aGlzLnN0YXRlLCB7IHRpbWUsIGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgICAgIHRoaXMuc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdhZnRlckRyYXcnLCB0aGlzLnN0YXRlLCB7IHRpbWUsIGNvbnRleHQ6IHRoaXMuY29udGV4dCB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYXJyYXlXaXRob3V0KGFycmF5LCAuLi52YWx1ZXNUb0V4Y2x1ZGUpIHtcbiAgICByZXR1cm4gYXJyYXkuZmlsdGVyKCh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gIXZhbHVlc1RvRXhjbHVkZS5pbmNsdWRlcyh2YWx1ZSk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGlwZSguLi5mdW5jdGlvbnMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb25zLnJlZHVjZSgocGlwZWRGdW5jdGlvbiwgY3VycmVudEZ1bmN0aW9uKSA9PiB7XG4gICAgICAgIHJldHVybiAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50RnVuY3Rpb24ocGlwZWRGdW5jdGlvbih2YWx1ZSkpO1xuICAgICAgICB9O1xuICAgIH0sICh2YWx1ZSkgPT4gdmFsdWUpO1xufVxuIiwiaW1wb3J0IHsgcGlwZSB9IGZyb20gJ0BiYWtrZXJqb2VyaS9mcCc7XG5pbXBvcnQgeyBzZXRDb21wb25lbnQsIHNldEVudGl0aWVzLCBmaW5kRW50aXRpZXMsIGdldEVudGl0aWVzIH0gZnJvbSAnLi9lbnRpdGllcyc7XG5leHBvcnQgY29uc3Qgc2V0U3ByaXRlID0gKHNwcml0ZSkgPT4gKHN0YXRlKSA9PiB7XG4gICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHNwcml0ZXM6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUuc3ByaXRlcyksIHsgW3Nwcml0ZS5uYW1lXTogc3ByaXRlIH0pIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzZXRTcHJpdGVzID0gKHNwcml0ZXMpID0+IChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiBwaXBlKC4uLnNwcml0ZXMubWFwKHNldFNwcml0ZSkpKHN0YXRlKTtcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2V0U3ByaXRlKHN0YXRlLCBuYW1lKSB7XG4gICAgaWYgKCFzdGF0ZS5zcHJpdGVzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gc3ByaXRlIHdpdGggbmFtZSAke25hbWV9IGZvdW5kLmApO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGUuc3ByaXRlc1tuYW1lXTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVTcHJpdGVDb21wb25lbnQobmFtZSwgeyBzdGFydGluZ0ZyYW1lID0gMCwgZnJhbWVzUGVyU2Vjb25kID0gMSwgaXNMb29waW5nID0gdHJ1ZSwgaXNBbmltYXRpbmcgPSB0cnVlIH0gPSB7fSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWUsXG4gICAgICAgIGFuaW1hdGlvblN0YXJ0VGltZTogbnVsbCxcbiAgICAgICAgY3VycmVudEZyYW1lSW5kZXg6IHN0YXJ0aW5nRnJhbWUsXG4gICAgICAgIGZyYW1lc1BlclNlY29uZCxcbiAgICAgICAgaXNMb29waW5nLFxuICAgICAgICBpc0FuaW1hdGluZyxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdTcHJpdGUoc3ByaXRlLCBjb250ZXh0LCBwb3NpdGlvbiwgZnJhbWVJbmRleCA9IDApIHtcbiAgICBpZiAoIXNwcml0ZS5mcmFtZXNbZnJhbWVJbmRleF0pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBTcHJpdGUgJHtzcHJpdGUubmFtZX0gZG9lcyBub3QgaGF2ZSBmcmFtZSB3aXRoIGluZGV4ICR7ZnJhbWVJbmRleH1gKTtcbiAgICB9XG4gICAgY29uc3QgZnJhbWUgPSBzcHJpdGUuZnJhbWVzW2ZyYW1lSW5kZXhdO1xuICAgIGNvbnN0IGltYWdlID0gZ2V0SW1hZ2VGb3JGaWxlUGF0aChmcmFtZS5maWxlKTtcbiAgICBjb250ZXh0LmRyYXdJbWFnZShpbWFnZSwgZnJhbWUub3JpZ2luLngsIGZyYW1lLm9yaWdpbi55LCBmcmFtZS5zaXplLndpZHRoLCBmcmFtZS5zaXplLmhlaWdodCwgKHBvc2l0aW9uLnggKyBzcHJpdGUub2Zmc2V0LngpLCAocG9zaXRpb24ueSArIHNwcml0ZS5vZmZzZXQueSksIGZyYW1lLnNpemUud2lkdGgsIGZyYW1lLnNpemUuaGVpZ2h0KTtcbn1cbmNvbnN0IGltYWdlQ2FjaGUgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWFnZUZvckZpbGVQYXRoKGZpbGVQYXRoLCBjYWNoZWQgPSB0cnVlKSB7XG4gICAgaWYgKGNhY2hlZCAmJiBpbWFnZUNhY2hlW2ZpbGVQYXRoXSkge1xuICAgICAgICByZXR1cm4gaW1hZ2VDYWNoZVtmaWxlUGF0aF07XG4gICAgfVxuICAgIGNvbnN0IGltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgaW1hZ2Uuc3JjID0gZmlsZVBhdGg7XG4gICAgaW1hZ2VDYWNoZVtmaWxlUGF0aF0gPSBpbWFnZTtcbiAgICBpbWFnZS5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICBkZWxldGUgaW1hZ2VDYWNoZVtmaWxlUGF0aF07XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gaW1hZ2UgZm91bmQgYXQgJHtmaWxlUGF0aH0uYCk7XG4gICAgfTtcbiAgICByZXR1cm4gaW1hZ2U7XG59XG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlQW5pbWF0ZWRTcHJpdGVzKHN0YXRlLCB7IHRpbWUgfSkge1xuICAgIGNvbnN0IGVudGl0aWVzV2l0aFNwcml0ZXMgPSBmaW5kRW50aXRpZXMoZ2V0RW50aXRpZXMoc3RhdGUpLCB7XG4gICAgICAgIHNwcml0ZTogdHJ1ZSxcbiAgICB9KTtcbiAgICBjb25zdCB1cGRhdGVkRW50aXRpZXMgPSBlbnRpdGllc1dpdGhTcHJpdGVzLm1hcChlbnRpdHkgPT4ge1xuICAgICAgICBjb25zdCBzcHJpdGVDb21wb25lbnQgPSBlbnRpdHkuc3ByaXRlO1xuICAgICAgICBjb25zdCBzcHJpdGVPZkVudGl0eSA9IGdldFNwcml0ZShzdGF0ZSwgZW50aXR5LnNwcml0ZS5uYW1lKTtcbiAgICAgICAgaWYgKHNwcml0ZUNvbXBvbmVudC5mcmFtZXNQZXJTZWNvbmQgPT09IDBcbiAgICAgICAgICAgIHx8IHNwcml0ZU9mRW50aXR5LmZyYW1lcy5sZW5ndGggPD0gMVxuICAgICAgICAgICAgfHwgIXNwcml0ZUNvbXBvbmVudC5pc0FuaW1hdGluZykge1xuICAgICAgICAgICAgcmV0dXJuIGVudGl0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWVudGl0eS5zcHJpdGUuYW5pbWF0aW9uU3RhcnRUaW1lKSB7XG4gICAgICAgICAgICBlbnRpdHkuc3ByaXRlLmFuaW1hdGlvblN0YXJ0VGltZSA9IHRpbWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3RnJhbWVJbmRleCA9IGNhbGN1bGF0ZU5ld0ZyYW1lSW5kZXgoc3ByaXRlT2ZFbnRpdHkuZnJhbWVzLmxlbmd0aCwgc3ByaXRlQ29tcG9uZW50LmZyYW1lc1BlclNlY29uZCwgdGltZSAtIGVudGl0eS5zcHJpdGUuYW5pbWF0aW9uU3RhcnRUaW1lLCBzcHJpdGVDb21wb25lbnQuaXNMb29waW5nKTtcbiAgICAgICAgcmV0dXJuIHNldENvbXBvbmVudCgnc3ByaXRlJykoT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzcHJpdGVDb21wb25lbnQpLCB7IGN1cnJlbnRGcmFtZUluZGV4OiBuZXdGcmFtZUluZGV4IH0pKShlbnRpdHkpO1xuICAgIH0pO1xuICAgIHJldHVybiBzZXRFbnRpdGllcyguLi51cGRhdGVkRW50aXRpZXMpKHN0YXRlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGVOZXdGcmFtZUluZGV4KGFtb3VudE9mRnJhbWVzLCBmcmFtZXNQZXJTZWNvbmQsIGVsYXBzZWRUaW1lLCBpc0xvb3BpbmcpIHtcbiAgICBpZiAoaXNMb29waW5nKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kKGVsYXBzZWRUaW1lIC8gKDEwMDAgLyBmcmFtZXNQZXJTZWNvbmQpKSAlIGFtb3VudE9mRnJhbWVzO1xuICAgIH1cbiAgICByZXR1cm4gTWF0aC5taW4oKE1hdGgucm91bmQoZWxhcHNlZFRpbWUgLyAxMDAwKSAvIGZyYW1lc1BlclNlY29uZCksIGFtb3VudE9mRnJhbWVzIC0gMSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbiByZXBlYXQoaXRlcmF0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGl0ZXJhdGlvbnM7IGkgKz0gMSkge1xuICAgICAgICBjYWxsYmFjayhpKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgcmVwZWF0IGZyb20gJ0BiYWtrZXJqb2VyaS9yZXBlYXQnO1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUdhbWVCb2FyZCh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaXNHYW1lQm9hcmQ6IHRydWUsXG4gICAgICAgIHRpbGVzOiBjcmVhdGVUaWxlTWFwKHdpZHRoLCBoZWlnaHQpLFxuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVUaWxlTWFwKHdpZHRoLCBoZWlnaHQpIHtcbiAgICBjb25zdCB0aWxlTWFwID0gW107XG4gICAgcmVwZWF0KHdpZHRoLCAoeCkgPT4ge1xuICAgICAgICB0aWxlTWFwW3hdID0gW107XG4gICAgICAgIHJlcGVhdChoZWlnaHQsICh5KSA9PiB7XG4gICAgICAgICAgICB0aWxlTWFwW3hdW3ldID0gbnVsbDtcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRpbGVNYXA7XG59XG4iLCJjb25zdCBzcHJpdGVTaGVldCA9IFtcbiAgICB7XG4gICAgICAgIG5hbWU6ICdhcnJvdy1sZWZ0JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9hcnJvd3MucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYXJyb3ctcmlnaHQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2Fycm93cy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiA4LCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLXJlZCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLWJsdWUnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2NvaW5zLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDE2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2NvaW4teWVsbG93JyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9jb2lucy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiAzMiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLWdyZWVuJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9jb2lucy5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiA0OCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdjb2luLXB1cnBsZScsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogNjQgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi13aGl0ZScsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogODAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnY29pbi1ibGFjaycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvY29pbnMucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogOTYgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiAxNiB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtcG9zaXRpb24tZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDgsIHk6IDQwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvbHVtbi10b3AtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDgsIHk6IDMyIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtY29sdW1uLWJvdHRvbS1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogOCwgeTogNTYgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiAxNiwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1yb3ctbGVmdC1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogNDAgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDE2IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1yb3ctcmlnaHQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiA0MCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci10b3AtbGVmdC1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMCwgeTogMzIgfSxcbiAgICAgICAgICAgICAgICBzaXplOiB7IHdpZHRoOiA4LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci10b3AtcmlnaHQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiAzMiB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDgsIGhlaWdodDogOCB9LFxuICAgICAgICAgICAgfVxuICAgICAgICBdLFxuICAgICAgICBvZmZzZXQ6IHsgeDogMCwgeTogMCB9LFxuICAgIH0sXG4gICAge1xuICAgICAgICBuYW1lOiAnYm9hcmQtY29ybmVyLWJvdHRvbS1yaWdodC1mcm9udCcsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogMjQsIHk6IDU2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItYm90dG9tLWxlZnQtZnJvbnQnLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDAsIHk6IDU2IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1wb3NpdGlvbi1iYWNrJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiA4LCB5OiA4IH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogMTYsIGhlaWdodDogMTYgfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvbHVtbi10b3AtYmFjaycsXG4gICAgICAgIGZyYW1lczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpbGU6ICdzcmMvYXNzZXRzL3Nwcml0ZXMvYm9hcmQucG5nJyxcbiAgICAgICAgICAgICAgICBvcmlnaW46IHsgeDogOCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHNpemU6IHsgd2lkdGg6IDE2LCBoZWlnaHQ6IDggfSxcbiAgICAgICAgICAgIH1cbiAgICAgICAgXSxcbiAgICAgICAgb2Zmc2V0OiB7IHg6IDAsIHk6IDAgfSxcbiAgICB9LFxuICAgIHtcbiAgICAgICAgbmFtZTogJ2JvYXJkLWNvcm5lci10b3AtbGVmdC1iYWNrJyxcbiAgICAgICAgZnJhbWVzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmlsZTogJ3NyYy9hc3NldHMvc3ByaXRlcy9ib2FyZC5wbmcnLFxuICAgICAgICAgICAgICAgIG9yaWdpbjogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbiAgICB7XG4gICAgICAgIG5hbWU6ICdib2FyZC1jb3JuZXItdG9wLXJpZ2h0LWJhY2snLFxuICAgICAgICBmcmFtZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWxlOiAnc3JjL2Fzc2V0cy9zcHJpdGVzL2JvYXJkLnBuZycsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiB7IHg6IDI0LCB5OiAwIH0sXG4gICAgICAgICAgICAgICAgc2l6ZTogeyB3aWR0aDogOCwgaGVpZ2h0OiA4IH0sXG4gICAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgIG9mZnNldDogeyB4OiAwLCB5OiAwIH0sXG4gICAgfSxcbl07XG5leHBvcnQgZGVmYXVsdCBzcHJpdGVTaGVldDtcbiIsImltcG9ydCB7IGdldFJhbmRvbU51bWJlckluUmFuZ2UgfSBmcm9tICcuL2dldFJhbmRvbU51bWJlckluUmFuZ2UnO1xuZXhwb3J0IGZ1bmN0aW9uIGNob29zZShjaG9pY2VzKSB7XG4gICAgaWYgKGNob2ljZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNob29zZSBmcm9tIDAgY2hvaWNlcy4nKTtcbiAgICB9XG4gICAgcmV0dXJuIGNob2ljZXNbZ2V0UmFuZG9tTnVtYmVySW5SYW5nZSgwLCBjaG9pY2VzLmxlbmd0aCAtIDEpXTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBnZXRSYW5kb21OdW1iZXJJblJhbmdlKGxvd2VyQm91bmQsIHVwcGVyQm91bmQpIHtcbiAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHVwcGVyQm91bmQgKyAxICsgbG93ZXJCb3VuZCkpO1xufVxuIiwiaW1wb3J0IHsgY2hvb3NlIH0gZnJvbSBcIi4vY2hvb3NlXCI7XG5leHBvcnQgZnVuY3Rpb24gcGljayhpdGVtcywgYW1vdW50LCBwdXRCYWNrID0gZmFsc2UpIHtcbiAgICBpZiAoIXB1dEJhY2sgJiYgYW1vdW50ID4gaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2FuJ3QgcmFuZG9tbHkgcGljayAke2Ftb3VudH0gaXRlbXMgd2l0aG91dCBwdXR0aW5nIHRoZW0gYmFjayBmcm9tIGFuIGFycmF5IHRoYXQncyBvbmx5ICR7aXRlbXMubGVuZ3RofSBsb25nLmApO1xuICAgIH1cbiAgICBjb25zdCBwaWNrcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpICs9IDEpIHtcbiAgICAgICAgY29uc3QgY2hvaWNlID0gY2hvb3NlKGl0ZW1zKTtcbiAgICAgICAgcGlja3MucHVzaChjaG9pY2UpO1xuICAgICAgICBpZiAoIXB1dEJhY2spIHtcbiAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMuZmlsdGVyKGl0ZW0gPT4gaXRlbSAhPT0gY2hvaWNlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcGlja3M7XG59XG4iLCJpbXBvcnQgeyBnZXRJbWFnZUZvckZpbGVQYXRoIH0gZnJvbSAnaGVrcyc7XG5leHBvcnQgZnVuY3Rpb24gZHJhd1RleHRXaXRoQ3VzdG9tRm9udChjb250ZXh0LCB0ZXh0LCBwb3NpdGlvbiwgZm9udEF0bGFzUGF0aCwgbWV0cmljcywgeyBjb2xvciA9ICcjMDAwMDAwJywgYWxpZ24gPSAnc3RhcnQnLCBiYXNlbGluZSA9ICdhbHBoYWJldGljJywgZGlyZWN0aW9uID0gJ2x0cicsIH0gPSB7fSkge1xuICAgIGNvbnN0IGZvbnRJbWFnZSA9IGdldEZvbnRXaXRoQ29sb3IoZm9udEF0bGFzUGF0aCwgY29sb3IpO1xuICAgIGNvbnN0IGxpbmVIZWlnaHQgPSBtZXRyaWNzLnNpemU7XG4gICAgY29uc3QgbGluZXMgPSBtYWtlUmVuZGVyTGluZXModGV4dCwgbWV0cmljcywgZGlyZWN0aW9uLCBiYXNlbGluZSk7XG4gICAgY29uc3QgYmlnZ2VzdFdpZHRoID0gTWF0aC5tYXgoLi4ubGluZXMubWFwKGxpbmUgPT4gbGluZS53aWR0aCkpO1xuICAgIGxpbmVzLmZvckVhY2goKGxpbmUsIGxpbmVJbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBsaW5lT2Zmc2V0ID0ge1xuICAgICAgICAgICAgeDogZ2V0SG9yaXpvbnRhbExpbmVPZmZzZXQobGluZS53aWR0aCwgYmlnZ2VzdFdpZHRoLCBhbGlnbiwgZGlyZWN0aW9uKSxcbiAgICAgICAgICAgIHk6IGxpbmVJbmRleCAqIGxpbmVIZWlnaHQsXG4gICAgICAgIH07XG4gICAgICAgIGxpbmUuY2hhcmFjdGVycy5mb3JFYWNoKCh7IHBvc2l0aW9uSW5BdGxhcywgcG9zaXRpb25JbkxpbmUsIHNpemVJbkF0bGFzIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnRleHQuZHJhd0ltYWdlKGZvbnRJbWFnZSwgcG9zaXRpb25JbkF0bGFzLngsIHBvc2l0aW9uSW5BdGxhcy55LCBzaXplSW5BdGxhcy53aWR0aCwgc2l6ZUluQXRsYXMuaGVpZ2h0LCBNYXRoLnJvdW5kKHBvc2l0aW9uLnggKyBsaW5lT2Zmc2V0LnggKyBwb3NpdGlvbkluTGluZS54KSwgTWF0aC5yb3VuZChwb3NpdGlvbi55ICsgbGluZU9mZnNldC55ICsgcG9zaXRpb25JbkxpbmUueSksIHNpemVJbkF0bGFzLndpZHRoLCBzaXplSW5BdGxhcy5oZWlnaHQpO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmNvbnN0IGZvbnRDb2xvckNhY2hlID0ge307XG5mdW5jdGlvbiBnZXRGb250V2l0aENvbG9yKGZvbnRBdGxhc1BhdGgsIGNvbG9yKSB7XG4gICAgaWYgKCFmb250Q29sb3JDYWNoZS5oYXNPd25Qcm9wZXJ0eShmb250QXRsYXNQYXRoKSkge1xuICAgICAgICBmb250Q29sb3JDYWNoZVtmb250QXRsYXNQYXRoXSA9IHt9O1xuICAgIH1cbiAgICBpZiAoIWZvbnRDb2xvckNhY2hlW2ZvbnRBdGxhc1BhdGhdLmhhc093blByb3BlcnR5KGNvbG9yKSkge1xuICAgICAgICBmb250Q29sb3JDYWNoZVtmb250QXRsYXNQYXRoXVtjb2xvcl0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgY29uc3QgY2FudmFzID0gZm9udENvbG9yQ2FjaGVbZm9udEF0bGFzUGF0aF1bY29sb3JdO1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgIGlmICghY29udGV4dCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb3VsZCBub3QgY3JlYXRlIGNvbnRleHQgZm9yIGZvbnQgY2FudmFzLiBQZXJoYXBzIHRoaXMgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHRoZSBDYW52YXMgQVBJLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZvbnRJbWFnZSA9IGdldEltYWdlRm9yRmlsZVBhdGgoZm9udEF0bGFzUGF0aCk7XG4gICAgICAgIGZvbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgICAgY29udGV4dC5kcmF3SW1hZ2UoZm9udEltYWdlLCAwLCAwKTtcbiAgICAgICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1pbic7XG4gICAgICAgICAgICBjb250ZXh0LmZpbGxTdHlsZSA9IGNvbG9yO1xuICAgICAgICAgICAgY29udGV4dC5maWxsUmVjdCgwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZvbnRDb2xvckNhY2hlW2ZvbnRBdGxhc1BhdGhdW2NvbG9yXTtcbn1cbjtcbi8qKlxuICogVG8gZmlndXJlIG91dCB0aGUgaG9yaXpvbnRhbCBzdGFydGluZyBwb3NpdGlvbiBvZiBlYWNoIGxpbmVcbiAqIHdlIGZpcnN0IG5lZWQgdG8gZmluZCB0aGUgd2lkdGggb2YgZWFjaCBsaW5lLlxuICpcbiAqIFRoZW4sIHdoZW4gcmVuZGVyaW5nIGEgc3BlY2lmaWMgbGluZSwgaXRzIHdpZHRoIGlzIGNvbXBhcmVkIHRvIHRoZSBiaWdnZXN0IHdpZHRoOlxuICpcbiAqIGFsaWduID09PSAnbGVmdCdcbiAqIGFsaWduID09PSAnc3RhcnQnICYmIGRpcmVjdGlvbiA9PT0gJ2x0cidcbiAqIGFsaWduID09PSAnZW5kJyAmJiBkaXJlY3Rpb24gPT09ICdydGwnXG4gKiBMZWZ0IG9mZnNldCBmcm9tIHRoZSBvcmlnaW4gaXMgYWx3YXlzIHplcm8uXG4gKlxuICogICAgICAgLS0tLS0tXG4gKiAgICAgICAtLS0tLS0tLS1cbiAqICAgICAgIC0tLS1cbiAqXG4gKiBhbGlnbiA9PT0gJ2NlbnRlcidcbiAqIEhhbGYgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBsaW5lIHdpZHRoIGFuZCBiaWdnZXN0IGxpbmUgd2lkdGggZGV0ZXJtaW5lcyB0aGUgbGVmdCBvZmZzZXQsXG4gKiBhbmQgbmVnYXRpdmVseSBvZmZzZXQgZWFjaCBsaW5lIGJ5IGhhbGYgb2YgdGhlIGJpZ2dlc3Qgd2lkdGguXG4gKlxuICogICAgIC0tLS1cbiAqICAgLS0tLS0tLS1cbiAqICAgICAgLS1cbiAqXG4gKiBhbGlnbiA9PT0gJ3JpZ2h0J1xuICogYWxpZ24gPT09ICdzdGFydCcgJiYgZGlyZWN0aW9uID09PSAncnRsJ1xuICogYWxpZ24gPT09ICdlbmQnICYmIGRpcmVjdGlvbiA9PT0gJ2x0cidcbiAqIEJlY2F1c2UgdGhlIGxpbmUgb3JpZ2luIHN0YXJ0cyBvbiB0aGUgcmlnaHQsIGVhY2ggbGluZSBuZWVkcyB0byBiZSBvZmZzZXQgYnkgaXRzIG93biB3aWR0aC5cbiAqXG4gKiAtLS0tLS1cbiAqICAgLS0tLVxuICogIC0tLS0tXG4gKlxuICogU28gd2UgbmVlZCB0byBwcmVjYWxjdWxhdGUgZWFjaCBsaW5lJ3Mgd2lkdGgsIGFuZCBzdG9yZSBpdCB0byBkZXRlcm1pbmUgdGhlIHJlbGF0aXZlIHN0YXJ0aW5nIHBvc2l0aW9uXG4gKiBvZiBlYWNoIGxpbmUgZHVyaW5nIHRoZSBhY3R1YWwgcmVuZGVyaW5nLlxuICogV2UgY2FuIHVzZSB0aGF0IHByZWNhbGN1bGF0aW9uIHRvIGFsc28gZGV0ZXJtaW5lIGVhY2ggY2hhcmFjdGVyJ3MgaG9yaXpvbnRhbCBwb3NpdGlvbiBvbiBpdHMgbGluZS5cbiAqL1xuZnVuY3Rpb24gbWFrZVJlbmRlckxpbmVzKHRleHQsIG1ldHJpY3MsIGRpcmVjdGlvbiwgYmFzZWxpbmUpIHtcbiAgICBjb25zdCBkaXJlY3Rpb25GYWN0b3JNYXAgPSB7XG4gICAgICAgIGx0cjogMSxcbiAgICAgICAgcnRsOiAtMSxcbiAgICB9O1xuICAgIGNvbnN0IGRpcmVjdGlvbkZhY3RvciA9IGRpcmVjdGlvbkZhY3Rvck1hcFtkaXJlY3Rpb25dO1xuICAgIGNvbnN0IGxpbmVQYXJ0cyA9IHRleHQuc3BsaXQoXCJcXG5cIik7XG4gICAgcmV0dXJuIGxpbmVQYXJ0cy5tYXAobGluZVBhcnQgPT4ge1xuICAgICAgICBsZXQgaG9yaXpvbnRhbE9mZnNldCA9IDA7XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKGxpbmVQYXJ0KS5yZWR1Y2UoKGxpbmUsIGNoYXJhY3RlcikgPT4ge1xuICAgICAgICAgICAgY29uc3QgYXNjaWlDb2RlID0gY2hhcmFjdGVyLmNoYXJDb2RlQXQoMCk7XG4gICAgICAgICAgICBjb25zdCBpbmRleEluQXRsYXMgPSBtZXRyaWNzLmNoYXJzLmluZGV4T2YoYXNjaWlDb2RlKTtcbiAgICAgICAgICAgIGNvbnN0IGFkdmFuY2UgPSBtZXRyaWNzLmFkdmFuY2VbaW5kZXhJbkF0bGFzXTtcbiAgICAgICAgICAgIGlmIChhc2NpaUNvZGUgPT09IDMyKSB7XG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldCA9IGhvcml6b250YWxPZmZzZXQgKyAoYWR2YW5jZSAqIGRpcmVjdGlvbkZhY3RvcikgKyAoMSAqIGRpcmVjdGlvbkZhY3Rvcik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgbGluZSksIHsgd2lkdGg6IGxpbmUud2lkdGggKyBhZHZhbmNlICsgMSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uSW5BdGxhcyA9IHtcbiAgICAgICAgICAgICAgICB4OiBtZXRyaWNzLnBhY2tfeFtpbmRleEluQXRsYXNdLFxuICAgICAgICAgICAgICAgIHk6IG1ldHJpY3MucGFja195W2luZGV4SW5BdGxhc10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgc2l6ZUluQXRsYXMgPSB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IG1ldHJpY3Mud2lkdGhbaW5kZXhJbkF0bGFzXSxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IG1ldHJpY3MuaGVpZ2h0W2luZGV4SW5BdGxhc10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3Qgb2Zmc2V0SW5BdGxhcyA9IHtcbiAgICAgICAgICAgICAgICB4OiBtZXRyaWNzLm9mZnNldF94W2luZGV4SW5BdGxhc10sXG4gICAgICAgICAgICAgICAgeTogbWV0cmljcy5vZmZzZXRfeVtpbmRleEluQXRsYXNdLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uSW5MaW5lID0ge1xuICAgICAgICAgICAgICAgIHg6IGhvcml6b250YWxPZmZzZXQgKyAob2Zmc2V0SW5BdGxhcy54ICogZGlyZWN0aW9uRmFjdG9yKSxcbiAgICAgICAgICAgICAgICB5OiBvZmZzZXRJbkF0bGFzLnkgKyBnZXRWZXJ0aWNhbE9mZnNldEZvckJhc2VsaW5lKG1ldHJpY3MsIGJhc2VsaW5lKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0ID0gaG9yaXpvbnRhbE9mZnNldCArIChhZHZhbmNlICogZGlyZWN0aW9uRmFjdG9yKSArICgxICogZGlyZWN0aW9uRmFjdG9yKTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIGxpbmUpLCB7IHdpZHRoOiBsaW5lLndpZHRoICsgYWR2YW5jZSArIDEsIGNoYXJhY3RlcnM6IFtcbiAgICAgICAgICAgICAgICAgICAgLi4ubGluZS5jaGFyYWN0ZXJzLFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwb3NpdGlvbkluQXRsYXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplSW5BdGxhcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uSW5MaW5lLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSB9KTtcbiAgICAgICAgfSwgeyB3aWR0aDogMCwgY2hhcmFjdGVyczogW10gfSk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiBnZXRIb3Jpem9udGFsTGluZU9mZnNldChsaW5lV2lkdGgsIGJpZ2dlc3RXaWR0aCwgYWxpZ24sIGRpcmVjdGlvbikge1xuICAgIGlmIChhbGlnbiA9PT0gJ2NlbnRlcicpIHtcbiAgICAgICAgcmV0dXJuICgoYmlnZ2VzdFdpZHRoIC0gbGluZVdpZHRoKSAvIDIpIC0gKGJpZ2dlc3RXaWR0aCAvIDIpO1xuICAgIH1cbiAgICBpZiAoYWxpZ24gPT09ICdyaWdodCcgfHxcbiAgICAgICAgKGFsaWduID09PSAnc3RhcnQnICYmIGRpcmVjdGlvbiA9PT0gJ3J0bCcpIHx8XG4gICAgICAgIChhbGlnbiA9PT0gJ2VuZCcgJiYgZGlyZWN0aW9uID09PSAnbHRyJykpIHtcbiAgICAgICAgcmV0dXJuIC1saW5lV2lkdGg7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuZnVuY3Rpb24gZ2V0VmVydGljYWxPZmZzZXRGb3JCYXNlbGluZShtZXRyaWNzLCBiYXNlbGluZSkge1xuICAgIGlmIChiYXNlbGluZSA9PT0gJ3RvcCcpIHtcbiAgICAgICAgcmV0dXJuIG1ldHJpY3MuYXNjZW50O1xuICAgIH1cbiAgICBpZiAoYmFzZWxpbmUgPT09ICdoYW5naW5nJykge1xuICAgICAgICByZXR1cm4gbWV0cmljcy5hc2NlbnQgKyBtZXRyaWNzLmRlc2NlbnQ7XG4gICAgfVxuICAgIGlmIChiYXNlbGluZSA9PT0gJ21pZGRsZScpIHtcbiAgICAgICAgcmV0dXJuIChtZXRyaWNzLmFzY2VudCArIG1ldHJpY3MuZGVzY2VudCkgLyAyO1xuICAgIH1cbiAgICBpZiAoYmFzZWxpbmUgPT09ICdib3R0b20nKSB7XG4gICAgICAgIHJldHVybiBtZXRyaWNzLmRlc2NlbnQ7XG4gICAgfVxuICAgIHJldHVybiAwO1xufVxuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIG5hbWU6IFwiQ2hldnlSYXkgLSBCaXJkIFNlZWRcIixcbiAgICBzaXplOiAxMCxcbiAgICBhc2NlbnQ6IDcsXG4gICAgZGVzY2VudDogLTIsXG4gICAgY2hhcl9jb3VudDogOTUsXG4gICAga2VybmluZ19jb3VudDogNjAsXG4gICAgY2hhcnM6IFszMiwgMzMsIDM0LCAzNSwgMzYsIDM3LCAzOCwgMzksIDQwLCA0MSwgNDIsIDQzLCA0NCwgNDUsIDQ2LCA0NywgNDgsIDQ5LCA1MCwgNTEsIDUyLCA1MywgNTQsIDU1LCA1NiwgNTcsIDU4LCA1OSwgNjAsIDYxLCA2MiwgNjMsIDY0LCA2NSwgNjYsIDY3LCA2OCwgNjksIDcwLCA3MSwgNzIsIDczLCA3NCwgNzUsIDc2LCA3NywgNzgsIDc5LCA4MCwgODEsIDgyLCA4MywgODQsIDg1LCA4NiwgODcsIDg4LCA4OSwgOTAsIDkxLCA5MiwgOTMsIDk0LCA5NSwgOTYsIDk3LCA5OCwgOTksIDEwMCwgMTAxLCAxMDIsIDEwMywgMTA0LCAxMDUsIDEwNiwgMTA3LCAxMDgsIDEwOSwgMTEwLCAxMTEsIDExMiwgMTEzLCAxMTQsIDExNSwgMTE2LCAxMTcsIDExOCwgMTE5LCAxMjAsIDEyMSwgMTIyLCAxMjMsIDEyNCwgMTI1LCAxMjZdLFxuICAgIGFkdmFuY2U6IFsyLCAxLCAzLCA1LCA1LCA2LCA2LCAxLCAyLCAyLCAzLCA1LCAyLCA1LCAxLCA2LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCAxLCAyLCA2LCA1LCA2LCA1LCA2LCA2LCA2LCA2LCA2LCA2LCA2LCA3LCA2LCA1LCA2LCA2LCA1LCA3LCA2LCA2LCA2LCA2LCA2LCA3LCA3LCA2LCA3LCA3LCA3LCA3LCA3LCAyLCA2LCAyLCA1LCA1LCAyLCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCAzLCAyLCA1LCAzLCA3LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA1LCA3LCA1LCA1LCA1LCAzLCAxLCAzLCA2XSxcbiAgICBvZmZzZXRfeDogWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgIG9mZnNldF95OiBbMCwgLTcsIC03LCAtNiwgLTcsIC02LCAtNywgLTcsIC03LCAtNywgLTcsIC02LCAtMSwgLTQsIC0xLCAtNiwgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC01LCAtNSwgLTYsIC01LCAtNiwgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNywgLTcsIC03LCAtNiwgLTcsIC03LCAtMSwgLTcsIC01LCAtNywgLTUsIC04LCAtNSwgLTcsIC01LCAtNywgLTcsIC03LCAtNywgLTcsIC01LCAtNSwgLTUsIC01LCAtNSwgLTUsIC01LCAtNywgLTUsIC01LCAtNSwgLTUsIC01LCAtNSwgLTcsIC03LCAtNywgLTRdLFxuICAgIHdpZHRoOiBbMCwgMSwgMywgNSwgNSwgNiwgNiwgMSwgMiwgMiwgMywgNSwgMiwgNSwgMSwgNiwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgNSwgMSwgMiwgNiwgNSwgNiwgNSwgNiwgNiwgNiwgNiwgNiwgNiwgNiwgNywgNiwgNSwgNiwgNiwgNSwgNywgNiwgNiwgNiwgNiwgNiwgNywgNywgNiwgNywgNywgNywgNywgNywgMiwgNiwgMiwgNSwgNSwgMiwgNSwgNSwgNSwgNSwgNSwgNCwgNSwgNSwgMywgMiwgNSwgMywgNywgNSwgNSwgNSwgNiwgNSwgNSwgNCwgNSwgNSwgNywgNSwgNSwgNSwgMywgMSwgMywgNl0sXG4gICAgaGVpZ2h0OiBbMCwgNywgMiwgNiwgNywgNiwgNywgMiwgNywgNywgNCwgNiwgMiwgMiwgMSwgNiwgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNSwgNiwgNiwgNCwgNiwgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgOCwgNywgNywgNywgNywgNywgNywgNywgNywgNywgNywgNiwgNywgNCwgMSwgMiwgNSwgNywgNSwgOCwgNSwgNywgNywgNywgNywgMTAsIDcsIDcsIDUsIDUsIDUsIDcsIDcsIDUsIDUsIDcsIDUsIDUsIDUsIDUsIDcsIDUsIDcsIDcsIDcsIDNdLFxuICAgIHBhY2tfeDogWzAsIDAsIDAsIDIsIDAsIDAsIDYsIDQsIDAsIDAsIDgsIDEyLCA2LCAwLCA4LCAzLCA3LCAzLCA2LCAwLCA5LCAxMywgMTMsIDEzLCAwLCAwLCAxMCwgMTgsIDAsIDYsIDYsIDYsIDEyLCAxNSwgMTksIDE5LCAxOSwgMCwgMCwgMCwgNywgMTIsIDEzLCAxOSwgMjIsIDcsIDE0LCAxOCwgMjAsIDI2LCAyNiwgMjYsIDMzLCAyNiwgMjgsIDMzLCAzNCwgNDEsIDAsIDAsIDcsIDAsIDI4LCAyMCwgOSwgMywgMywgMywgOCwgOCwgOSwgOSwgMTQsIDE1LCAxNCwgMTksIDE0LCAxNywgMjAsIDIxLCAyNSwgMjcsIDIxLCAyNSwgMzMsIDM2LCAzNiwgNDEsIDQyLCA0OCwgNDksIDI3LCAxNSwgMTUsIDI3XSxcbiAgICBwYWNrX3k6IFswLCAwLCA4LCAwLCAxMSwgMTksIDcsIDcsIDI2LCAzNCwgMCwgMCwgMTUsIDQyLCA1LCAyNiwgMTgsIDMzLCA0MSwgNDUsIDMzLCA3LCAxNSwgMjMsIDUzLCA2MSwgMjYsIDAsIDY5LCA0OSwgNTQsIDYxLCA0MSwgMzEsIDcsIDE1LCAyMywgNzYsIDg0LCA5MiwgNjksIDYxLCA0OSwgMzksIDMxLCA3NywgNjksIDU3LCA0NywgMCwgMzksIDksIDAsIDE3LCAyNSwgMTcsIDgsIDAsIDEwMCwgMTA4LCA4NSwgMTE2LCAzMywgNTUsIDE1LCAxMDgsIDExNCwgMTIyLCA5MiwgMTAxLCAxMDcsIDExNSwgODUsIDc3LCA5MywgNzcsIDEwNCwgOTMsIDg1LCA2NSwgNTcsIDQ3LCA3MSwgNzcsIDM4LCAyNSwgMzEsIDE2LCA4LCA4LCAwLCA2NSwgMTEyLCAxMjAsIDczXSxcbiAgICBrZXJuaW5nOiBbNzYsIDg0LCAtMSwgNzYsIDg5LCAtMSwgODQsIDk3LCAtMSwgODQsIDk5LCAtMSwgODQsIDEwMCwgLTEsIDg0LCAxMDEsIC0xLCA4NCwgMTAzLCAtMSwgODQsIDEwOSwgLTEsIDg0LCAxMTAsIC0xLCA4NCwgMTExLCAtMSwgODQsIDExMiwgLTEsIDg0LCAxMTMsIC0xLCA4NCwgMTE0LCAtMSwgODQsIDExNSwgLTEsIDg0LCAxMTcsIC0xLCA4NCwgMTE4LCAtMSwgODQsIDExOSwgLTEsIDg0LCAxMjAsIC0xLCA4NCwgMTIxLCAtMSwgODQsIDEyMiwgLTEsIDg5LCA5NywgLTEsIDg5LCA5OSwgLTEsIDg5LCAxMDAsIC0xLCA4OSwgMTAxLCAtMSwgODksIDEwMywgLTEsIDg5LCAxMDksIC0xLCA4OSwgMTExLCAtMSwgODksIDExMywgLTEsIDg5LCAxMTUsIC0xLCA5NywgODQsIC0xLCA5NywgODksIC0xLCA5OCwgODQsIC0xLCA5OCwgODksIC0xLCA5OSwgODQsIC0xLCA5OSwgODksIC0xLCAxMDEsIDg0LCAtMSwgMTAxLCA4OSwgLTEsIDEwMywgODQsIC0xLCAxMDQsIDg0LCAtMSwgMTA0LCA4OSwgLTEsIDEwNywgODQsIC0xLCAxMDksIDg0LCAtMSwgMTA5LCA4OSwgLTEsIDExMCwgODQsIC0xLCAxMTAsIDg5LCAtMSwgMTExLCA4NCwgLTEsIDExMSwgODksIC0xLCAxMTIsIDg0LCAtMSwgMTEyLCA4OSwgLTEsIDExMywgODQsIC0xLCAxMTQsIDg0LCAtMSwgMTE0LCA4OSwgLTEsIDExNSwgODQsIC0xLCAxMTUsIDg5LCAtMSwgMTE3LCA4NCwgLTEsIDExOCwgODQsIC0xLCAxMTksIDg0LCAtMSwgMTIwLCA4NCwgLTEsIDEyMSwgODQsIC0xLCAxMjIsIDg0LCAtMV1cbn07XG4iLCJpbXBvcnQgeyBHYW1lLCBFdmVudEVtaXR0ZXIsIHNldFNwcml0ZXMsIGRyYXdTcHJpdGUsIGdldFNwcml0ZSwgZGVmYXVsdFN0YXRlIH0gZnJvbSAnaGVrcyc7XG5pbXBvcnQgeyBjcmVhdGVHYW1lQm9hcmQgfSBmcm9tICcuL2dhbWVib2FyZCc7XG5pbXBvcnQgS2V5Ym9hcmQgZnJvbSAnLi9rZXlib2FyZCc7XG5pbXBvcnQgc3ByaXRlU2hlZXQgZnJvbSAnLi4vYXNzZXRzL3Nwcml0ZXMvc3ByaXRlcyc7XG5pbXBvcnQgeyBjaG9vc2UsIHBpY2sgfSBmcm9tICdyb2xsLXRoZS1ib25lcyc7XG5pbXBvcnQgeyBkcmF3VGV4dFdpdGhDdXN0b21Gb250IH0gZnJvbSAnLi90ZXh0JztcbmltcG9ydCBtZXRyaWNzIGZyb20gJy4uL2Fzc2V0cy9mb250cy9CaXJkU2VlZC9tZXRyaWNzJztcbmNvbnN0IGdhbWVTaXplID0ge1xuICAgIHdpZHRoOiAzMjAsXG4gICAgaGVpZ2h0OiAxODAsXG59O1xuY29uc3QgdGlsZVNpemUgPSB7XG4gICAgd2lkdGg6IDE2LFxuICAgIGhlaWdodDogMTYsXG59O1xuY29uc3QgZGVmYXVsdEJvYXJkU2l6ZSA9IHtcbiAgICB3aWR0aDogOCxcbiAgICBoZWlnaHQ6IDYsXG59O1xuY29uc3QgZGVmYXVsdEFtb3VudFRvQ29ubmVjdCA9IDQ7XG5jb25zdCBzZXR1cFN0ZXBzID0gW1xuICAgICdib2FyZEhlaWdodCcsXG4gICAgJ2JvYXJkV2lkdGgnLFxuICAgICdhbW91bnRPZlBsYXllcnMnLFxuICAgICdhbW91bnRUb0Nvbm5lY3QnLFxuICAgICdvbkNvbm5lY3QnLFxuICAgICdzdGFydFJvdW5kJyxcbl07XG5jb25zdCBhbGxQbGF5ZXJzID0gW1xuICAgICdyZWQnLFxuICAgICdibHVlJyxcbiAgICAneWVsbG93JyxcbiAgICAnZ3JlZW4nLFxuICAgICdwdXJwbGUnLFxuICAgICd3aGl0ZScsXG4gICAgJ2JsYWNrJyxcbl07XG5jb25zdCBib2FyZEhlaWdodE1pbiA9IDQ7XG5jb25zdCBib2FyZEhlaWdodE1heCA9IDg7XG5jb25zdCBib2FyZFdpZHRoTWluID0gMjtcbmNvbnN0IGJvYXJkV2lkdGhNYXggPSAxODtcbmNvbnN0IGFtb3VudE9mUGxheWVyc01pbiA9IDI7XG5jb25zdCBhbW91bnRPZlBsYXllcnNNYXggPSA3O1xuY29uc3QgYW1vdW50VG9Db25uZWN0TWluID0gMztcbmNvbnN0IGFtb3VudFRvQ29ubmVjdE1heCA9IDg7XG5jb25zdCBldmVudEVtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5jb25zdCBnYW1lID0gbmV3IEdhbWUoZ2FtZVNpemUsIGV2ZW50RW1pdHRlciwge1xuICAgIGluaXRpYWxTdGF0ZTogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0U3RhdGUpLCB7IGdhbWU6IHtcbiAgICAgICAgICAgIGlzUGhhc2VOZXc6IHRydWUsXG4gICAgICAgICAgICBwaGFzZTogbnVsbCxcbiAgICAgICAgICAgIG5leHRQaGFzZTogJ3NldHRpbmdVcEdhbWUnLFxuICAgICAgICB9LCBzZXR1cDoge1xuICAgICAgICAgICAgYm9hcmRXaWR0aDogZGVmYXVsdEJvYXJkU2l6ZS53aWR0aCxcbiAgICAgICAgICAgIGJvYXJkSGVpZ2h0OiBkZWZhdWx0Qm9hcmRTaXplLmhlaWdodCxcbiAgICAgICAgICAgIGFtb3VudE9mUGxheWVyczogMixcbiAgICAgICAgICAgIGFtb3VudFRvQ29ubmVjdDogZGVmYXVsdEFtb3VudFRvQ29ubmVjdCxcbiAgICAgICAgICAgIGN1cnJlbnRseVNlbGVjdGVkU3RlcDogc2V0dXBTdGVwc1swXSxcbiAgICAgICAgICAgIG9uQ29ubmVjdDogJ3dpbicsXG4gICAgICAgIH0sIHJvdW5kOiB7XG4gICAgICAgICAgICBpc1BoYXNlTmV3OiB0cnVlLFxuICAgICAgICAgICAgcGhhc2U6IG51bGwsXG4gICAgICAgICAgICBuZXh0UGhhc2U6ICdzdGFydCcsXG4gICAgICAgICAgICBnYW1lQm9hcmQ6IG51bGwsXG4gICAgICAgICAgICBib2FyZFNpemU6IGRlZmF1bHRCb2FyZFNpemUsXG4gICAgICAgICAgICBhbW91bnRUb0Nvbm5lY3Q6IGRlZmF1bHRBbW91bnRUb0Nvbm5lY3QsXG4gICAgICAgICAgICBvbkNvbm5lY3Q6ICd3aW4nLFxuICAgICAgICAgICAgcGxheWVyczogW10sXG4gICAgICAgICAgICBjdXJyZW50UGxheWVyOiBudWxsLFxuICAgICAgICAgICAgcG9zaXRpb25Ub1BsYWNlUGllY2U6IDAsXG4gICAgICAgICAgICB3aW5uZXI6IG51bGwsXG4gICAgICAgIH0gfSksXG4gICAgY29udGFpbmVyU2VsZWN0b3I6ICcuZ2FtZScsXG59KTtcbm5ldyBLZXlib2FyZChldmVudEVtaXR0ZXIpO1xuZXZlbnRFbWl0dGVyLm9uKCdzdGFydCcsIChzdGF0ZSkgPT4ge1xuICAgIHJldHVybiBzZXRTcHJpdGVzKHNwcml0ZVNoZWV0KShzdGF0ZSk7XG59KTtcbmV2ZW50RW1pdHRlci5vbignYmVmb3JlVXBkYXRlJywgKHN0YXRlKSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUubmV4dFBoYXNlICE9PSBudWxsKSB7XG4gICAgICAgIHN0YXRlLmdhbWUucGhhc2UgPSBzdGF0ZS5nYW1lLm5leHRQaGFzZTtcbiAgICAgICAgc3RhdGUuZ2FtZS5uZXh0UGhhc2UgPSBudWxsO1xuICAgICAgICBzdGF0ZS5nYW1lLmlzUGhhc2VOZXcgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUuZ2FtZS5pc1BoYXNlTmV3ID0gZmFsc2U7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgIT09IG51bGwpIHtcbiAgICAgICAgc3RhdGUucm91bmQucGhhc2UgPSBzdGF0ZS5yb3VuZC5uZXh0UGhhc2U7XG4gICAgICAgIHN0YXRlLnJvdW5kLm5leHRQaGFzZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLnJvdW5kLmlzUGhhc2VOZXcgPSB0cnVlO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc3RhdGUucm91bmQuaXNQaGFzZU5ldyA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmV2ZW50RW1pdHRlci5vbigndXBkYXRlJywgKHN0YXRlKSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgPT09ICdzZXR0aW5nVXBHYW1lJykge1xuICAgICAgICByZXR1cm4gdXBkYXRlU2V0dXBHYW1lKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgPT09ICdwbGF5aW5nUm91bmQnKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVQbGF5aW5nUm91bmQoc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmZ1bmN0aW9uIHVwZGF0ZVNldHVwR2FtZShzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5nYW1lLmlzUGhhc2VOZXcpIHtcbiAgICAgICAgc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID0gc2V0dXBTdGVwc1swXTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1cGRhdGVQbGF5aW5nUm91bmQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucm91bmQucGhhc2UgPT09ICdzdGFydCcpIHtcbiAgICAgICAgcmV0dXJuIHVwZGF0ZVJvdW5kU3RhcnQoc3RhdGUpO1xuICAgIH1cbiAgICBpZiAoc3RhdGUucm91bmQucGhhc2UgPT09ICdzdGFydFR1cm4nKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVSb3VuZFN0YXJ0VHVybihzdGF0ZSk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5yb3VuZC5waGFzZSA9PT0gJ2VuZFR1cm4nKSB7XG4gICAgICAgIHJldHVybiB1cGRhdGVSb3VuZEVuZFR1cm4oc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59XG5mdW5jdGlvbiB1cGRhdGVSb3VuZFN0YXJ0KHN0YXRlKSB7XG4gICAgc3RhdGUucm91bmQuZ2FtZUJvYXJkID0gY3JlYXRlR2FtZUJvYXJkKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZS53aWR0aCwgc3RhdGUucm91bmQuYm9hcmRTaXplLmhlaWdodCk7XG4gICAgc3RhdGUucm91bmQuY3VycmVudFBsYXllciA9IGNob29zZShzdGF0ZS5yb3VuZC5wbGF5ZXJzKTtcbiAgICBzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZSA9IE1hdGguZmxvb3IoKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZS53aWR0aCAtIDEpIC8gMik7XG4gICAgc3RhdGUucm91bmQubmV4dFBoYXNlID0gJ3N0YXJ0VHVybic7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gdXBkYXRlUm91bmRTdGFydFR1cm4oc3RhdGUpIHtcbiAgICBzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgPSAnZGVjaWRlTW92ZSc7XG4gICAgcmV0dXJuIHN0YXRlO1xufVxuZnVuY3Rpb24gdXBkYXRlUm91bmRFbmRUdXJuKHN0YXRlKSB7XG4gICAgY29uc3QgZ2FtZUJvYXJkID0gc3RhdGUucm91bmQuZ2FtZUJvYXJkO1xuICAgIGNvbnN0IHdpbm5lciA9IGZpbmRXaW5uZXIoZ2FtZUJvYXJkLnRpbGVzLCBzdGF0ZS5yb3VuZC5hbW91bnRUb0Nvbm5lY3QpO1xuICAgIGlmICh3aW5uZXIpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHJvdW5kOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJvdW5kKSwgeyB3aW5uZXI6IHdpbm5lciwgbmV4dFBoYXNlOiAnZW5kJyB9KSB9KTtcbiAgICB9XG4gICAgaWYgKGlzR2FtZUJvYXJkRnVsbChnYW1lQm9hcmQudGlsZXMpKSB7XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyByb3VuZDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgbmV4dFBoYXNlOiAnZW5kJyB9KSB9KTtcbiAgICB9XG4gICAgY29uc3QgY3VycmVudFBsYXllciA9IHN0YXRlLnJvdW5kLmN1cnJlbnRQbGF5ZXI7XG4gICAgY29uc3QgY3VycmVudFBsYXllckluZGV4ID0gc3RhdGUucm91bmQucGxheWVycy5pbmRleE9mKGN1cnJlbnRQbGF5ZXIpO1xuICAgIGNvbnN0IG5leHRQbGF5ZXJJbmRleCA9IG1vdmVUaHJvdWdoTG9vcChjdXJyZW50UGxheWVySW5kZXgsIHN0YXRlLnJvdW5kLnBsYXllcnMubGVuZ3RoKTtcbiAgICBjb25zdCBuZXh0UGxheWVyID0gc3RhdGUucm91bmQucGxheWVyc1tuZXh0UGxheWVySW5kZXhdO1xuICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlKSwgeyByb3VuZDogT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgY3VycmVudFBsYXllcjogbmV4dFBsYXllciwgbmV4dFBoYXNlOiAnc3RhcnRUdXJuJyB9KSB9KTtcbn1cbmZ1bmN0aW9uIGZpbmRXaW5uZXIodGlsZXMsIGNoYWluTGVuZ3RoID0gNCkge1xuICAgIGZvciAobGV0IGNvbHVtbkluZGV4ID0gMDsgY29sdW1uSW5kZXggPCB0aWxlcy5sZW5ndGg7IGNvbHVtbkluZGV4ICs9IDEpIHsgLy8gaXRlcmF0ZSBjb2x1bW5zLCBsZWZ0IHRvIHJpZ2h0XG4gICAgICAgIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCB0aWxlc1tjb2x1bW5JbmRleF0ubGVuZ3RoOyByb3dJbmRleCArPSAxKSB7IC8vIGl0ZXJhdGUgcm93cywgdG9wIHRvIGJvdHRvbVxuICAgICAgICAgICAgY29uc3QgcGxheWVyT2NjdXB5aW5nQ2VsbCA9IHRpbGVzW2NvbHVtbkluZGV4XVtyb3dJbmRleF07XG4gICAgICAgICAgICBpZiAocGxheWVyT2NjdXB5aW5nQ2VsbCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBkb24ndCBjaGVjayBlbXB0eSBzbG90c1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgY2hhaW4gPSBbLi4ubmV3IEFycmF5KGNoYWluTGVuZ3RoKS5rZXlzKCldO1xuICAgICAgICAgICAgLy8gTG9vayBlYXN0XG4gICAgICAgICAgICBpZiAoY2hhaW4uZXZlcnkoY2hhaW5JbmRleCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbGVzW2NvbHVtbkluZGV4XVxuICAgICAgICAgICAgICAgICAgICAmJiB0aWxlc1tjb2x1bW5JbmRleF1bcm93SW5kZXggKyBjaGFpbkluZGV4XSA9PT0gcGxheWVyT2NjdXB5aW5nQ2VsbDtcbiAgICAgICAgICAgIH0pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBMb29rIG5vcnRoXG4gICAgICAgICAgICBpZiAoY2hhaW4uZXZlcnkoY2hhaW5JbmRleCA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRpbGVzW2NvbHVtbkluZGV4ICsgY2hhaW5JbmRleF1cbiAgICAgICAgICAgICAgICAgICAgJiYgdGlsZXNbY29sdW1uSW5kZXggKyBjaGFpbkluZGV4XVtyb3dJbmRleF0gPT09IHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJPY2N1cHlpbmdDZWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTG9vayBub3J0aGVhc3RcbiAgICAgICAgICAgIGlmIChjaGFpbi5ldmVyeShjaGFpbkluZGV4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZXNbY29sdW1uSW5kZXggKyBjaGFpbkluZGV4XVxuICAgICAgICAgICAgICAgICAgICAmJiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdW3Jvd0luZGV4ICsgY2hhaW5JbmRleF0gPT09IHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJPY2N1cHlpbmdDZWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTG9vayBzb3V0aGVhc3RcbiAgICAgICAgICAgIGlmIChjaGFpbi5ldmVyeShjaGFpbkluZGV4ID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGlsZXNbY29sdW1uSW5kZXggKyBjaGFpbkluZGV4XVxuICAgICAgICAgICAgICAgICAgICAmJiB0aWxlc1tjb2x1bW5JbmRleCArIGNoYWluSW5kZXhdW3Jvd0luZGV4IC0gY2hhaW5JbmRleF0gPT09IHBsYXllck9jY3VweWluZ0NlbGw7XG4gICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwbGF5ZXJPY2N1cHlpbmdDZWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gaXNHYW1lQm9hcmRGdWxsKHRpbGVzKSB7XG4gICAgcmV0dXJuIHRpbGVzLmV2ZXJ5KGNvbHVtbiA9PiB7XG4gICAgICAgIHJldHVybiBjb2x1bW4uZXZlcnkoY2VsbCA9PiBjZWxsICE9PSBudWxsKTtcbiAgICB9KTtcbn1cbmV2ZW50RW1pdHRlci5vbigna2V5UHJlc3NlZCcsIChzdGF0ZSwgeyBrZXkgfSwgeyBlbWl0IH0pID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSAhPT0gJ3BsYXlpbmdSb3VuZCcgfHwgc3RhdGUucm91bmQucGhhc2UgIT09ICdkZWNpZGVNb3ZlJykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IGtleUFzSW50ZWdlciA9IHBhcnNlSW50KGtleSk7XG4gICAgY29uc3QgaXNOdW1lcmljS2V5ID0gdHlwZW9mIGtleUFzSW50ZWdlciA9PT0gJ251bWJlcicgJiYgIWlzTmFOKGtleUFzSW50ZWdlcik7XG4gICAgaWYgKCFpc051bWVyaWNLZXkgfHwgIShrZXlBc0ludGVnZXIgPj0gMSAmJiBrZXlBc0ludGVnZXIgPD0gc3RhdGUucm91bmQuYm9hcmRTaXplLndpZHRoKSkge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IGdhbWVCb2FyZCA9IHN0YXRlLnJvdW5kLmdhbWVCb2FyZDtcbiAgICBjb25zdCBjb2x1bW5JbmRleCA9IGtleUFzSW50ZWdlciAtIDE7XG4gICAgY29uc3QgY29sdW1uID0gZ2FtZUJvYXJkLnRpbGVzW2NvbHVtbkluZGV4XTtcbiAgICAvLyBUaGUgY2VsbCB0aGF0IHdpbGwgcmVjZWl2ZSB0aGUgdGlsZSBpcyB0aGUgb25lIGJlZm9yZSB0aGUgZmlyc3QgZmlsbGVkIGNlbGxcbiAgICBsZXQgaW5kZXhPZkZpcnN0RnVsbENlbGwgPSAwO1xuICAgIGxldCBjZWxsVG9JbnNwZWN0ID0gY29sdW1uW2luZGV4T2ZGaXJzdEZ1bGxDZWxsXTtcbiAgICB3aGlsZSAoY2VsbFRvSW5zcGVjdCA9PT0gbnVsbCAmJiBpbmRleE9mRmlyc3RGdWxsQ2VsbCA8PSBjb2x1bW4ubGVuZ3RoIC0gMSkge1xuICAgICAgICBpbmRleE9mRmlyc3RGdWxsQ2VsbCArPSAxO1xuICAgICAgICBjZWxsVG9JbnNwZWN0ID0gY29sdW1uW2luZGV4T2ZGaXJzdEZ1bGxDZWxsXTtcbiAgICB9XG4gICAgaWYgKGluZGV4T2ZGaXJzdEZ1bGxDZWxsID09PSAwKSB7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG4gICAgZ2FtZUJvYXJkLnRpbGVzW2NvbHVtbkluZGV4XVtpbmRleE9mRmlyc3RGdWxsQ2VsbCAtIDFdID0gc3RhdGUucm91bmQuY3VycmVudFBsYXllcjtcbiAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZSksIHsgcm91bmQ6IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUucm91bmQpLCB7IGdhbWVCb2FyZCwgbmV4dFBoYXNlOiAnZW5kVHVybicgfSkgfSk7XG59KTtcbmV2ZW50RW1pdHRlci5vbigna2V5UHJlc3NlZCcsIChzdGF0ZSwgeyBrZXkgfSwgeyBlbWl0IH0pID0+IHtcbiAgICBpZiAoc3RhdGUuZ2FtZS5waGFzZSAhPT0gJ3BsYXlpbmdSb3VuZCcgfHwgc3RhdGUucm91bmQucGhhc2UgIT09ICdkZWNpZGVNb3ZlJykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdhcnJvd3JpZ2h0JyB8fCBrZXkgPT09ICdkJykge1xuICAgICAgICBzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZSA9IE1hdGgubWluKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZS53aWR0aCAtIDEsIHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlICsgMSk7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdhcnJvd2xlZnQnIHx8IGtleSA9PT0gJ2EnKSB7XG4gICAgICAgIHN0YXRlLnJvdW5kLnBvc2l0aW9uVG9QbGFjZVBpZWNlID0gTWF0aC5tYXgoMCwgc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2UgLSAxKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlO1xufSk7XG5ldmVudEVtaXR0ZXIub24oJ2tleVByZXNzZWQnLCAoc3RhdGUsIHsga2V5IH0sIHsgZW1pdCB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgIT09ICdwbGF5aW5nUm91bmQnIHx8IHN0YXRlLnJvdW5kLnBoYXNlICE9PSAnZGVjaWRlTW92ZScpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnYXJyb3dkb3duJyB8fCBrZXkgPT09ICdzJykge1xuICAgICAgICBjb25zdCBnYW1lQm9hcmQgPSBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQ7XG4gICAgICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2U7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGdhbWVCb2FyZC50aWxlc1tzdGF0ZS5yb3VuZC5wb3NpdGlvblRvUGxhY2VQaWVjZV07XG4gICAgICAgIC8vIFRoZSBjZWxsIHRoYXQgd2lsbCByZWNlaXZlIHRoZSB0aWxlIGlzIHRoZSBvbmUgYmVmb3JlIHRoZSBmaXJzdCBmaWxsZWQgY2VsbFxuICAgICAgICBsZXQgaW5kZXhPZkZpcnN0RnVsbENlbGwgPSAwO1xuICAgICAgICBsZXQgY2VsbFRvSW5zcGVjdCA9IGNvbHVtbltpbmRleE9mRmlyc3RGdWxsQ2VsbF07XG4gICAgICAgIHdoaWxlIChjZWxsVG9JbnNwZWN0ID09PSBudWxsICYmIGluZGV4T2ZGaXJzdEZ1bGxDZWxsIDw9IGNvbHVtbi5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBpbmRleE9mRmlyc3RGdWxsQ2VsbCArPSAxO1xuICAgICAgICAgICAgY2VsbFRvSW5zcGVjdCA9IGNvbHVtbltpbmRleE9mRmlyc3RGdWxsQ2VsbF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGluZGV4T2ZGaXJzdEZ1bGxDZWxsID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH1cbiAgICAgICAgZ2FtZUJvYXJkLnRpbGVzW2NvbHVtbkluZGV4XVtpbmRleE9mRmlyc3RGdWxsQ2VsbCAtIDFdID0gc3RhdGUucm91bmQuY3VycmVudFBsYXllcjtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgc3RhdGUpLCB7IHJvdW5kOiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIHN0YXRlLnJvdW5kKSwgeyBnYW1lQm9hcmQsIG5leHRQaGFzZTogJ2VuZFR1cm4nIH0pIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmV2ZW50RW1pdHRlci5vbigna2V5UHJlc3NlZCcsIChzdGF0ZSwgeyBrZXkgfSkgPT4ge1xuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlICE9PSAnc2V0dGluZ1VwR2FtZScpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICBjb25zdCBjdXJyZW50bHlTZWxlY3RlZFN0ZXBJbmRleCA9IHNldHVwU3RlcHMuaW5kZXhPZihzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXApO1xuICAgIGlmIChrZXkgPT09ICdhcnJvd3VwJyB8fCBrZXkgPT09ICd3Jykge1xuICAgICAgICBjb25zdCBuZXh0U2VsZWN0ZWRTdGVwSW5kZXggPSBtb3ZlVGhyb3VnaExvb3AoY3VycmVudGx5U2VsZWN0ZWRTdGVwSW5kZXgsIHNldHVwU3RlcHMubGVuZ3RoLCAtMSk7XG4gICAgICAgIHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9IHNldHVwU3RlcHNbbmV4dFNlbGVjdGVkU3RlcEluZGV4XTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93cmlnaHQnIHx8IGtleSA9PT0gJ2QnKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdhbW91bnRPZlBsYXllcnMnKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXR1cC5hbW91bnRPZlBsYXllcnMgPSBNYXRoLm1pbihhbW91bnRPZlBsYXllcnNNYXgsIHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZFdpZHRoJykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCA9IE1hdGgubWluKGJvYXJkV2lkdGhNYXgsIHN0YXRlLnNldHVwLmJvYXJkV2lkdGggKyAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYm9hcmRIZWlnaHQnKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA9IE1hdGgubWluKGJvYXJkSGVpZ2h0TWF4LCBzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdvbkNvbm5lY3QnKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXR1cC5vbkNvbm5lY3QgPSBzdGF0ZS5zZXR1cC5vbkNvbm5lY3QgPT09ICd3aW4nID8gJ2xvc2UnIDogJ3dpbic7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudFRvQ29ubmVjdCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmFtb3VudFRvQ29ubmVjdCA9IE1hdGgubWluKGFtb3VudFRvQ29ubmVjdE1heCwgc3RhdGUuc2V0dXAuYW1vdW50VG9Db25uZWN0ICsgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93ZG93bicgfHwga2V5ID09PSAncycpIHtcbiAgICAgICAgY29uc3QgbmV4dFNlbGVjdGVkU3RlcEluZGV4ID0gbW92ZVRocm91Z2hMb29wKGN1cnJlbnRseVNlbGVjdGVkU3RlcEluZGV4LCBzZXR1cFN0ZXBzLmxlbmd0aCwgMSk7XG4gICAgICAgIHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9IHNldHVwU3RlcHNbbmV4dFNlbGVjdGVkU3RlcEluZGV4XTtcbiAgICB9XG4gICAgaWYgKGtleSA9PT0gJ2Fycm93bGVmdCcgfHwga2V5ID09PSAnYScpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudE9mUGxheWVycycpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyA9IE1hdGgubWF4KGFtb3VudE9mUGxheWVyc01pbiwgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzIC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2JvYXJkV2lkdGgnKSB7XG4gICAgICAgICAgICBzdGF0ZS5zZXR1cC5ib2FyZFdpZHRoID0gTWF0aC5tYXgoYm9hcmRXaWR0aE1pbiwgc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZEhlaWdodCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLmJvYXJkSGVpZ2h0ID0gTWF0aC5tYXgoYm9hcmRIZWlnaHRNaW4sIHN0YXRlLnNldHVwLmJvYXJkSGVpZ2h0IC0gMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ29uQ29ubmVjdCcpIHtcbiAgICAgICAgICAgIHN0YXRlLnNldHVwLm9uQ29ubmVjdCA9IHN0YXRlLnNldHVwLm9uQ29ubmVjdCA9PT0gJ3dpbicgPyAnbG9zZScgOiAnd2luJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYW1vdW50VG9Db25uZWN0Jykge1xuICAgICAgICAgICAgc3RhdGUuc2V0dXAuYW1vdW50VG9Db25uZWN0ID0gTWF0aC5tYXgoYW1vdW50VG9Db25uZWN0TWluLCBzdGF0ZS5zZXR1cC5hbW91bnRUb0Nvbm5lY3QgLSAxKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoa2V5ID09PSAnZW50ZXInICYmIHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ3N0YXJ0Um91bmQnKSB7XG4gICAgICAgIHN0YXRlLmdhbWUubmV4dFBoYXNlID0gJ3BsYXlpbmdSb3VuZCc7XG4gICAgICAgIHN0YXRlLnJvdW5kLm5leHRQaGFzZSA9ICdzdGFydCc7XG4gICAgICAgIHN0YXRlLnJvdW5kID0gT2JqZWN0LmFzc2lnbihPYmplY3QuYXNzaWduKHt9LCBzdGF0ZS5yb3VuZCksIHsgYm9hcmRTaXplOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IHN0YXRlLnNldHVwLmJvYXJkV2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCxcbiAgICAgICAgICAgIH0sIHBsYXllcnM6IHBpY2soYWxsUGxheWVycywgc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzKSwgYW1vdW50VG9Db25uZWN0OiBzdGF0ZS5zZXR1cC5hbW91bnRUb0Nvbm5lY3QsIG9uQ29ubmVjdDogc3RhdGUuc2V0dXAub25Db25uZWN0IH0pO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZTtcbn0pO1xuZXZlbnRFbWl0dGVyLm9uKCdrZXlQcmVzc2VkJywgKHN0YXRlLCB7IGtleSB9KSA9PiB7XG4gICAgaWYgKHN0YXRlLmdhbWUucGhhc2UgIT09ICdwbGF5aW5nUm91bmQnIHx8IHN0YXRlLnJvdW5kLnBoYXNlICE9PSAnZW5kJykge1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdyJykge1xuICAgICAgICBzdGF0ZS5yb3VuZC5uZXh0UGhhc2UgPSAnc3RhcnQnO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuICAgIGlmIChrZXkgPT09ICdxJykge1xuICAgICAgICBzdGF0ZS5nYW1lLm5leHRQaGFzZSA9ICdzZXR0aW5nVXBHYW1lJztcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmZ1bmN0aW9uIG1vdmVUaHJvdWdoTG9vcChjdXJyZW50LCB0b3RhbCwgc3RlcCA9IDEpIHtcbiAgICByZXR1cm4gKChjdXJyZW50ICsgc3RlcCkgJSB0b3RhbCArIHRvdGFsKSAlIHRvdGFsO1xufVxuZXZlbnRFbWl0dGVyLm9uKCdkcmF3JywgKHN0YXRlLCB7IGNvbnRleHQgfSkgPT4ge1xuICAgIGNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIGdhbWVTaXplLndpZHRoLCBnYW1lU2l6ZS5oZWlnaHQpO1xuICAgIGNvbnRleHQuZmlsbFN0eWxlID0gJyNEN0QwRkYnO1xuICAgIGNvbnRleHQuZmlsbFJlY3QoMCwgMCwgZ2FtZVNpemUud2lkdGgsIGdhbWVTaXplLmhlaWdodCk7XG4gICAgcmV0dXJuIHN0YXRlO1xufSk7XG5ldmVudEVtaXR0ZXIub24oJ2RyYXcnLCAoc3RhdGUsIGRyYXdFdmVudCkgPT4ge1xuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlID09PSAnc2V0dGluZ1VwR2FtZScpIHtcbiAgICAgICAgZHJhd1NldHRpbmdVcEdhbWUoc3RhdGUsIGRyYXdFdmVudCk7XG4gICAgfVxuICAgIGlmIChzdGF0ZS5nYW1lLnBoYXNlID09PSAncGxheWluZ1JvdW5kJykge1xuICAgICAgICBkcmF3UGxheWluZ1JvdW5kKHN0YXRlLCBkcmF3RXZlbnQpO1xuICAgIH1cbiAgICByZXR1cm4gc3RhdGU7XG59KTtcbmZ1bmN0aW9uIGRyYXdTZXR0aW5nVXBHYW1lKHN0YXRlLCB7IGNvbnRleHQgfSkge1xuICAgIGRyYXdUZXh0KCdTZXQgdXBcXG5hIG5ldyBnYW1lJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSwgeTogMjggfSwgY29udGV4dCwgJ2NlbnRlcicpO1xuICAgIGRyYXdUZXh0KCdCb2FyZCcsIHsgeDogMTUwLCB5OiA2OCB9LCBjb250ZXh0LCAncmlnaHQnKTtcbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodH0gcm93c2AsIHsgeDogMTcyLCB5OiA2OCB9LCBjb250ZXh0KTtcbiAgICBpZiAoc3RhdGUuc2V0dXAuY3VycmVudGx5U2VsZWN0ZWRTdGVwID09PSAnYm9hcmRIZWlnaHQnKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA+IGJvYXJkSGVpZ2h0TWluKSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LWxlZnQnKSwgY29udGV4dCwgeyB4OiAxNjAsIHk6IDY4IH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5zZXR1cC5ib2FyZEhlaWdodCA8IGJvYXJkSGVpZ2h0TWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA2OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5ib2FyZFdpZHRofSBjb2x1bW5zYCwgeyB4OiAxNzIsIHk6IDc4IH0sIGNvbnRleHQpO1xuICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdib2FyZFdpZHRoJykge1xuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuYm9hcmRXaWR0aCA+IGJvYXJkV2lkdGhNaW4pIHtcbiAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYXJyb3ctbGVmdCcpLCBjb250ZXh0LCB7IHg6IDE2MCwgeTogNzggfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmJvYXJkV2lkdGggPCBib2FyZFdpZHRoTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA3OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dCgnV2hvXFwncyBwbGF5aW5nPycsIHsgeDogMTUwLCB5OiA5OCB9LCBjb250ZXh0LCAncmlnaHQnKTtcbiAgICBkcmF3VGV4dChgJHtzdGF0ZS5zZXR1cC5hbW91bnRPZlBsYXllcnN9IHBsYXllcnNgLCB7IHg6IDE3MiwgeTogOTggfSwgY29udGV4dCk7XG4gICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudE9mUGxheWVycycpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmFtb3VudE9mUGxheWVycyA+IGFtb3VudE9mUGxheWVyc01pbikge1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1sZWZ0JyksIGNvbnRleHQsIHsgeDogMTYwLCB5OiA5OCB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdGUuc2V0dXAuYW1vdW50T2ZQbGF5ZXJzIDwgYW1vdW50T2ZQbGF5ZXJzTWF4KSB7XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiA5OCB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBkcmF3VGV4dCgnQ29ubmVjdCBob3cgbWFueT8nLCB7IHg6IDE1MCwgeTogMTE4IH0sIGNvbnRleHQsICdyaWdodCcpO1xuICAgIGRyYXdUZXh0KGBjb25uZWN0ICR7c3RhdGUuc2V0dXAuYW1vdW50VG9Db25uZWN0fWAsIHsgeDogMTcyLCB5OiAxMTggfSwgY29udGV4dCk7XG4gICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ2Ftb3VudFRvQ29ubmVjdCcpIHtcbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmFtb3VudFRvQ29ubmVjdCA+IGFtb3VudFRvQ29ubmVjdE1pbikge1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1sZWZ0JyksIGNvbnRleHQsIHsgeDogMTYwLCB5OiAxMTggfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXRlLnNldHVwLmFtb3VudFRvQ29ubmVjdCA8IGFtb3VudFRvQ29ubmVjdE1heCkge1xuICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdhcnJvdy1yaWdodCcpLCBjb250ZXh0LCB7IHg6IDIzMCwgeTogMTE4IH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGRyYXdUZXh0KGBDb25uZWN0ICR7c3RhdGUuc2V0dXAuYW1vdW50VG9Db25uZWN0fSB0b2AsIHsgeDogMTUwLCB5OiAxMzggfSwgY29udGV4dCwgJ3JpZ2h0Jyk7XG4gICAgZHJhd1RleHQoc3RhdGUuc2V0dXAub25Db25uZWN0LCB7IHg6IDE3MiwgeTogMTM4IH0sIGNvbnRleHQpO1xuICAgIGlmIChzdGF0ZS5zZXR1cC5jdXJyZW50bHlTZWxlY3RlZFN0ZXAgPT09ICdvbkNvbm5lY3QnKSB7XG4gICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYXJyb3ctbGVmdCcpLCBjb250ZXh0LCB7IHg6IDE2MCwgeTogMTM4IH0pO1xuICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2Fycm93LXJpZ2h0JyksIGNvbnRleHQsIHsgeDogMjMwLCB5OiAxMzggfSk7XG4gICAgfVxuICAgIGRyYXdUZXh0KCdzdGFydCcsIHsgeDogMTcyLCB5OiAxNTggfSwgY29udGV4dCk7XG4gICAgaWYgKHN0YXRlLnNldHVwLmN1cnJlbnRseVNlbGVjdGVkU3RlcCA9PT0gJ3N0YXJ0Um91bmQnKSB7XG4gICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYXJyb3ctcmlnaHQnKSwgY29udGV4dCwgeyB4OiAxNjAsIHk6IDE1OCB9KTtcbiAgICB9XG59XG5mdW5jdGlvbiBkcmF3UGxheWluZ1JvdW5kKHN0YXRlLCBkcmF3RXZlbnQpIHtcbiAgICBjb25zdCBnYW1lQm9hcmQgPSBzdGF0ZS5yb3VuZC5nYW1lQm9hcmQ7XG4gICAgZHJhd0JvYXJkQmFjayhnYW1lQm9hcmQsIGRyYXdFdmVudC5jb250ZXh0LCBzdGF0ZSk7XG4gICAgZHJhd0NvaW5zSW5Cb2FyZChnYW1lQm9hcmQsIGRyYXdFdmVudC5jb250ZXh0LCBzdGF0ZSk7XG4gICAgZHJhd0JvYXJkRnJvbnQoZ2FtZUJvYXJkLCBkcmF3RXZlbnQuY29udGV4dCwgc3RhdGUpO1xuICAgIGlmIChzdGF0ZS5yb3VuZC5waGFzZSA9PT0gJ2RlY2lkZU1vdmUnKSB7XG4gICAgICAgIGRyYXdSb3VuZERlY2lkaW5nTW92ZShzdGF0ZSwgZHJhd0V2ZW50KTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLnJvdW5kLnBoYXNlID09PSAnZW5kJykge1xuICAgICAgICBkcmF3Um91bmRFbmQoc3RhdGUsIGRyYXdFdmVudCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZHJhd1JvdW5kRGVjaWRpbmdNb3ZlKHN0YXRlLCB7IGNvbnRleHQgfSkge1xuICAgIGNvbnN0IGJvYXJkT3JpZ2luID0gZ2V0Qm9hcmRPcmlnaW4oc3RhdGUucm91bmQuYm9hcmRTaXplKTtcbiAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgYGNvaW4tJHtzdGF0ZS5yb3VuZC5jdXJyZW50UGxheWVyfWApLCBjb250ZXh0LCB7XG4gICAgICAgIHg6IGJvYXJkT3JpZ2luLnggKyAoc3RhdGUucm91bmQucG9zaXRpb25Ub1BsYWNlUGllY2UgKiB0aWxlU2l6ZS53aWR0aCksXG4gICAgICAgIHk6IGJvYXJkT3JpZ2luLnkgLSBNYXRoLmZsb29yKDEuNSAqIHRpbGVTaXplLmhlaWdodCksXG4gICAgfSk7XG59XG5mdW5jdGlvbiBkcmF3Um91bmRFbmQoc3RhdGUsIHsgY29udGV4dCB9KSB7XG4gICAgaWYgKHN0YXRlLnJvdW5kLndpbm5lcikge1xuICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgYGNvaW4tJHtzdGF0ZS5yb3VuZC53aW5uZXJ9YCksIGNvbnRleHQsIHtcbiAgICAgICAgICAgIHg6IChnYW1lU2l6ZS53aWR0aCAvIDIpIC0gKHRpbGVTaXplLndpZHRoIC8gMikgLSAxMixcbiAgICAgICAgICAgIHk6IDRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChzdGF0ZS5yb3VuZC5vbkNvbm5lY3QgPT09ICd3aW4nKSB7XG4gICAgICAgICAgICBkcmF3VGV4dCgnd2lucyEnLCB7IHg6IChnYW1lU2l6ZS53aWR0aCAvIDIpLCB5OiA4IH0sIGNvbnRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZHJhd1RleHQoJ2hhcyBsb3N0Li4uJywgeyB4OiAoZ2FtZVNpemUud2lkdGggLyAyKSAtIDIsIHk6IDggfSwgY29udGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGRyYXdUZXh0KCd0aWUuLi4nLCB7IHg6IChnYW1lU2l6ZS53aWR0aCAvIDIpICsgMC41LCB5OiA4IH0sIGNvbnRleHQsICdjZW50ZXInKTtcbiAgICB9XG4gICAgZHJhd1RleHQoJ3E6IHNldCB1cCBuZXcgZ2FtZSB8IHI6IHJlbWF0Y2gnLCB7IHg6IChnYW1lU2l6ZS53aWR0aCAvIDIpICsgMC41LCB5OiAyNCB9LCBjb250ZXh0LCAnY2VudGVyJyk7XG59XG5mdW5jdGlvbiBkcmF3Q29pbnNJbkJvYXJkKGdhbWVCb2FyZCwgY29udGV4dCwgc3RhdGUpIHtcbiAgICBjb25zdCBib2FyZE9yaWdpbiA9IGdldEJvYXJkT3JpZ2luKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZSk7XG4gICAgZ2FtZUJvYXJkLnRpbGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb2luT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgIHg6IGJvYXJkT3JpZ2luLnggKyByb3dJbmRleCAqIHRpbGVTaXplLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IGJvYXJkT3JpZ2luLnkgKyBjb2x1bW5JbmRleCAqIHRpbGVTaXplLmhlaWdodCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY2VsbCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCBgY29pbi0ke2NlbGx9YCksIGNvbnRleHQsIGNvaW5PcmlnaW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRyYXdCb2FyZEJhY2soZ2FtZUJvYXJkLCBjb250ZXh0LCBzdGF0ZSkge1xuICAgIGNvbnN0IGJvYXJkT3JpZ2luID0gZ2V0Qm9hcmRPcmlnaW4oc3RhdGUucm91bmQuYm9hcmRTaXplKTtcbiAgICBnYW1lQm9hcmQudGlsZXMuZm9yRWFjaCgocm93LCByb3dJbmRleCkgPT4ge1xuICAgICAgICByb3cuZm9yRWFjaCgoY2VsbCwgY29sdW1uSW5kZXgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNlbGxPcmlnaW4gPSB7XG4gICAgICAgICAgICAgICAgeDogYm9hcmRPcmlnaW4ueCArIHJvd0luZGV4ICogdGlsZVNpemUud2lkdGgsXG4gICAgICAgICAgICAgICAgeTogYm9hcmRPcmlnaW4ueSArIGNvbHVtbkluZGV4ICogdGlsZVNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtcG9zaXRpb24tYmFjaycpLCBjb250ZXh0LCBjZWxsT3JpZ2luKTtcbiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29sdW1uLXRvcC1mcm9udCcpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjb2x1bW5JbmRleCA9PT0gcm93Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvbHVtbi1ib3R0b20tZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLngsIHk6IGNlbGxPcmlnaW4ueSArIHRpbGVTaXplLmhlaWdodCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtcm93LWxlZnQtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggLSA4LCB5OiBjZWxsT3JpZ2luLnkgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPT09IGdhbWVCb2FyZC50aWxlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1yb3ctcmlnaHQtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggKyB0aWxlU2l6ZS53aWR0aCwgeTogY2VsbE9yaWdpbi55IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSAwICYmIGNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb3JuZXItdG9wLWxlZnQtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggLSA4LCB5OiBjZWxsT3JpZ2luLnkgLSA4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSBnYW1lQm9hcmQudGlsZXMubGVuZ3RoIC0gMSAmJiBjb2x1bW5JbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29ybmVyLXRvcC1yaWdodC1mcm9udCcpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCArIHRpbGVTaXplLndpZHRoLCB5OiBjZWxsT3JpZ2luLnkgLSA4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSBnYW1lQm9hcmQudGlsZXMubGVuZ3RoIC0gMSAmJiBjb2x1bW5JbmRleCA9PT0gcm93Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci1ib3R0b20tcmlnaHQtZnJvbnQnKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLnggKyB0aWxlU2l6ZS53aWR0aCwgeTogY2VsbE9yaWdpbi55ICsgdGlsZVNpemUuaGVpZ2h0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHJvd0luZGV4ID09PSAwICYmIGNvbHVtbkluZGV4ID09PSByb3cubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgIGRyYXdTcHJpdGUoZ2V0U3ByaXRlKHN0YXRlLCAnYm9hcmQtY29ybmVyLWJvdHRvbS1sZWZ0LWZyb250JyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54IC0gOCwgeTogY2VsbE9yaWdpbi55ICsgdGlsZVNpemUuaGVpZ2h0IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGRyYXdCb2FyZEZyb250KGdhbWVCb2FyZCwgY29udGV4dCwgc3RhdGUpIHtcbiAgICBjb25zdCBib2FyZE9yaWdpbiA9IGdldEJvYXJkT3JpZ2luKHN0YXRlLnJvdW5kLmJvYXJkU2l6ZSk7XG4gICAgZ2FtZUJvYXJkLnRpbGVzLmZvckVhY2goKHJvdywgcm93SW5kZXgpID0+IHtcbiAgICAgICAgcm93LmZvckVhY2goKGNlbGwsIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjZWxsT3JpZ2luID0ge1xuICAgICAgICAgICAgICAgIHg6IGJvYXJkT3JpZ2luLnggKyByb3dJbmRleCAqIHRpbGVTaXplLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IGJvYXJkT3JpZ2luLnkgKyBjb2x1bW5JbmRleCAqIHRpbGVTaXplLmhlaWdodCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLXBvc2l0aW9uLWZyb250JyksIGNvbnRleHQsIGNlbGxPcmlnaW4pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbkluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZHJhd1Nwcml0ZShnZXRTcHJpdGUoc3RhdGUsICdib2FyZC1jb2x1bW4tdG9wLWJhY2snKSwgY29udGV4dCwgeyB4OiBjZWxsT3JpZ2luLngsIHk6IGNlbGxPcmlnaW4ueSAtIDggfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocm93SW5kZXggPT09IDAgJiYgY29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci10b3AtbGVmdC1iYWNrJyksIGNvbnRleHQsIHsgeDogY2VsbE9yaWdpbi54IC0gOCwgeTogY2VsbE9yaWdpbi55IC0gOCB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb3dJbmRleCA9PT0gZ2FtZUJvYXJkLnRpbGVzLmxlbmd0aCAtIDEgJiYgY29sdW1uSW5kZXggPT09IDApIHtcbiAgICAgICAgICAgICAgICBkcmF3U3ByaXRlKGdldFNwcml0ZShzdGF0ZSwgJ2JvYXJkLWNvcm5lci10b3AtcmlnaHQtYmFjaycpLCBjb250ZXh0LCB7IHg6IGNlbGxPcmlnaW4ueCArIHRpbGVTaXplLndpZHRoLCB5OiBjZWxsT3JpZ2luLnkgLSA4IH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9KTtcbn1cbmZ1bmN0aW9uIGdldEJvYXJkT3JpZ2luKGJvYXJkU2l6ZSkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHg6IChnYW1lU2l6ZS53aWR0aCAvIDIpIC0gKChib2FyZFNpemUud2lkdGggLyAyKSAqIHRpbGVTaXplLndpZHRoKSxcbiAgICAgICAgeTogNDAsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGRyYXdUZXh0KHRleHQsIHBvc2l0aW9uLCBjb250ZXh0LCBhbGlnbiA9ICdsZWZ0JywgY29sb3IpIHtcbiAgICBkcmF3VGV4dFdpdGhDdXN0b21Gb250KGNvbnRleHQsIHRleHQsIHBvc2l0aW9uLCAnc3JjL2Fzc2V0cy9mb250cy9CaXJkU2VlZC9hdGxhcy5wbmcnLCBtZXRyaWNzLCB7XG4gICAgICAgIGFsaWduLFxuICAgICAgICBiYXNlbGluZTogJ3RvcCcsXG4gICAgICAgIGNvbG9yLFxuICAgIH0pO1xufVxuZ2FtZS5zdGFydCgpO1xuIiwiaW1wb3J0IGFycmF5V2l0aG91dCBmcm9tICdAYmFra2Vyam9lcmkvYXJyYXktd2l0aG91dCc7XG5pbXBvcnQgb2JqZWN0V2l0aG91dCBmcm9tICdAYmFra2Vyam9lcmkvb2JqZWN0LXdpdGhvdXQnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRXZlbnRFbWl0dGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudEhhbmRsZXJzID0ge307XG4gICAgICAgIHRoaXMub24gPSB0aGlzLm9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuZW1pdCA9IHRoaXMuZW1pdC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlbW92ZSA9IHRoaXMucmVtb3ZlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsID0gdGhpcy5yZW1vdmVBbGwuYmluZCh0aGlzKTtcbiAgICB9XG4gICAgb24oZXZlbnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5ldmVudEhhbmRsZXJzKSwgeyBbZXZlbnRUeXBlXTogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdIHx8IFtdLFxuICAgICAgICAgICAgICAgIGhhbmRsZXIsXG4gICAgICAgICAgICBdIH0pO1xuICAgIH1cbiAgICByZW1vdmUoZXZlbnRUeXBlLCBoYW5kbGVyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRIYW5kbGVycyA9IE9iamVjdC5hc3NpZ24oT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5ldmVudEhhbmRsZXJzKSwgeyBbZXZlbnRUeXBlXTogYXJyYXlXaXRob3V0KHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdLCBoYW5kbGVyKSB9KTtcbiAgICB9XG4gICAgcmVtb3ZlQWxsKGV2ZW50VHlwZSkge1xuICAgICAgICB0aGlzLmV2ZW50SGFuZGxlcnMgPSBvYmplY3RXaXRob3V0KHRoaXMuZXZlbnRIYW5kbGVycywgZXZlbnRUeXBlKTtcbiAgICB9XG4gICAgZW1pdChldmVudFR5cGUsIGluaXRpYWxTdGF0ZSwgZXZlbnQpIHtcbiAgICAgICAgaWYgKCF0aGlzLmV2ZW50SGFuZGxlcnMuaGFzT3duUHJvcGVydHkoZXZlbnRUeXBlKSkge1xuICAgICAgICAgICAgcmV0dXJuIGluaXRpYWxTdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVycyA9IHRoaXMuZXZlbnRIYW5kbGVyc1tldmVudFR5cGVdO1xuICAgICAgICByZXR1cm4gaGFuZGxlcnMucmVkdWNlKChuZXdTdGF0ZSwgY3VycmVudEhhbmRsZXIpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50SGFuZGxlcihuZXdTdGF0ZSwgZXZlbnQsIHtcbiAgICAgICAgICAgICAgICBvbjogdGhpcy5vbixcbiAgICAgICAgICAgICAgICBlbWl0OiB0aGlzLmVtaXQsXG4gICAgICAgICAgICAgICAgcmVtb3ZlOiB0aGlzLnJlbW92ZSxcbiAgICAgICAgICAgICAgICByZW1vdmVBbGw6IHRoaXMucmVtb3ZlQWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGluaXRpYWxTdGF0ZSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gb2JqZWN0V2l0aG91dChvYmplY3QsIC4uLmtleXNUb1JlbW92ZSkge1xuICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyhvYmplY3QpO1xuICAgIHJldHVybiBlbnRyaWVzLnJlZHVjZSgobmV3T2JqZWN0LCBbY3VycmVudEtleSwgY3VycmVudFZhbHVlXSkgPT4ge1xuICAgICAgICBpZiAoa2V5c1RvUmVtb3ZlLmluY2x1ZGVzKGN1cnJlbnRLZXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3T2JqZWN0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sIG5ld09iamVjdCksIHsgW2N1cnJlbnRLZXldOiBjdXJyZW50VmFsdWUgfSk7XG4gICAgfSwge30pO1xufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIHNldHVwR2FtZShjb250YWluZXJTZWxlY3Rvciwgc2l6ZSkge1xuICAgIC8qKlxuICAgICAqIEZpcnN0LCB3ZSBtb3VudCB0aGUgZ2FtZSBpbiB0aGUgY29udGFpbmVyIGVsZW1lbnQuXG4gICAgICovXG4gICAgY29uc3QgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgY29uc3QgY29udGV4dCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcsIHsgYWxwaGE6IGZhbHNlIH0pO1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvdWxkblxcJ3QgY3JlYXRlIGNvbnRleHQgZnJvbSBjYW52YXMnKTtcbiAgICB9XG4gICAgY29uc3QgZ2FtZUNvbnRhaW5lciA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcbiAgICBpZiAoIWdhbWVDb250YWluZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZG4ndCBmaW5kIGVsZW1lbnQgd2l0aCBzZWxlY3RvciAke2NvbnRhaW5lclNlbGVjdG9yfSB0byBtb3VudCBjYW52YXMgb24uYCk7XG4gICAgfVxuICAgIGdhbWVDb250YWluZXIuYXBwZW5kQ2hpbGQoY2FudmFzKTtcbiAgICAvKipcbiAgICAgKiBXZSBnaXZlIHRoZSBjYW52YXMgdGhlIHVzZXIgZGVmaW5lZCBwaXhlbCBzaXplIHRocm91Z2ggZWxlbWVudCBhdHRyaWJ1dGVzLFxuICAgICAqIGJ1dCBtYWtlIHN1cmUgaXQgZmlsbHMgaXQncyBjb250YWluZXIgdGhyb3VnaCBDU1MuXG4gICAgICovXG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAoc2l6ZS53aWR0aCkudG9TdHJpbmcoKSk7XG4gICAgY2FudmFzLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgKHNpemUuaGVpZ2h0KS50b1N0cmluZygpKTtcbiAgICBjYW52YXMuc3R5bGUud2lkdGggPSAnMTAwJSc7XG4gICAgY2FudmFzLnN0eWxlLmhlaWdodCA9ICcxMDAlJztcbiAgICBjYW52YXMuc3R5bGUub2JqZWN0Rml0ID0gJ2NvbnRhaW4nO1xuICAgIC8qKlxuICAgICAqIEJ5IGRlZmF1bHQgYW4gaW5saW5lIGVsZW1lbnQsIHRoZSBjYW52YXMgY2FuIGhhdmUgc29tZSBzdHJheSBzcGFjaW5nLlxuICAgICAqIFdlIGNoYW5nZSBpdHMgZGlzcGxheSB2YWx1ZSB0byBibG9jayB0byBwcmV2ZW50IHRob3NlLlxuICAgICAqL1xuICAgIGNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAvKipcbiAgICAgKiBXZSBtYWtlIHN1cmUgdGhhdCByZW5kZXJpbmcgaXMgY3Jpc3AgaW4gZGlmZmVyZW50IGJyb3dzZXJzLlxuICAgICAqL1xuICAgIGNhbnZhcy5zdHlsZS5pbWFnZVJlbmRlcmluZyA9ICctbW96LWNyaXNwLWVkZ2VzJztcbiAgICBjYW52YXMuc3R5bGUuaW1hZ2VSZW5kZXJpbmcgPSAnLXdlYmtpdC1jcmlzcC1lZGdlcyc7XG4gICAgY2FudmFzLnN0eWxlLmltYWdlUmVuZGVyaW5nID0gJ3BpeGVsYXRlZCc7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29udGV4dCxcbiAgICAgICAgY2FudmFzLFxuICAgIH07XG59XG4iLCJpbXBvcnQgYXJyYXlXaXRob3V0IGZyb20gJ0BiYWtrZXJqb2VyaS9hcnJheS13aXRob3V0JztcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtleWJvYXJkIHtcbiAgICBjb25zdHJ1Y3RvcihldmVudEVtaXR0ZXIpIHtcbiAgICAgICAgdGhpcy5wcmVzc2VkS2V5cyA9IFtdO1xuICAgICAgICB0aGlzLmFjdGl2ZUtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5yZWxlYXNlZEtleXMgPSBbXTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIgPSBldmVudEVtaXR0ZXI7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBldmVudC5rZXkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0tleVByZXNzZWQoa2V5KSAmJiAhdGhpcy5pc0tleURvd24oa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMgPSBbLi4udGhpcy5wcmVzc2VkS2V5cywga2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5pc0tleURvd24oa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlS2V5cyA9IFsuLi50aGlzLmFjdGl2ZUtleXMsIGtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNLZXlEb3duKGtleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZUtleXMgPSBhcnJheVdpdGhvdXQodGhpcy5hY3RpdmVLZXlzLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzS2V5UmVsZWFzZWQoa2V5KSkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVsZWFzZWRLZXlzID0gWy4uLnRoaXMucmVsZWFzZWRLZXlzLCBrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2JsdXInLCB0aGlzLnJlc2V0QWxsS2V5cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5ldmVudEVtaXR0ZXIub24oJ3VwZGF0ZScsIChzdGF0ZSwge30pID0+IHtcbiAgICAgICAgICAgIHRoaXMucHJlc3NlZEtleXMuZm9yRWFjaCgoYWN0aXZlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdrZXlQcmVzc2VkJywgc3RhdGUsIHsga2V5OiBhY3RpdmVLZXkgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlS2V5cy5mb3JFYWNoKChhY3RpdmVLZXkpID0+IHtcbiAgICAgICAgICAgICAgICBzdGF0ZSA9IHRoaXMuZXZlbnRFbWl0dGVyLmVtaXQoJ2tleURvd24nLCBzdGF0ZSwgeyBrZXk6IGFjdGl2ZUtleSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5yZWxlYXNlZEtleXMuZm9yRWFjaCgoYWN0aXZlS2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgc3RhdGUgPSB0aGlzLmV2ZW50RW1pdHRlci5lbWl0KCdrZXlVcCcsIHN0YXRlLCB7IGtleTogYWN0aXZlS2V5IH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmV2ZW50RW1pdHRlci5vbignYWZ0ZXJVcGRhdGUnLCAoc3RhdGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRQcmVzc2VkS2V5cygpO1xuICAgICAgICAgICAgdGhpcy5yZXNldFJlbGVhc2VkS2V5cygpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaXNLZXlQcmVzc2VkKGtleSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVzc2VkS2V5cy5pbmNsdWRlcyhrZXkpO1xuICAgIH1cbiAgICBpc0tleURvd24oa2V5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZUtleXMuaW5jbHVkZXMoa2V5KTtcbiAgICB9XG4gICAgaXNLZXlSZWxlYXNlZChrZXkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVsZWFzZWRLZXlzLmluY2x1ZGVzKGtleSk7XG4gICAgfVxuICAgIHJlc2V0UHJlc3NlZEtleXMoKSB7XG4gICAgICAgIHRoaXMucHJlc3NlZEtleXMgPSBbXTtcbiAgICB9XG4gICAgcmVzZXRBY3RpdmVLZXlzKCkge1xuICAgICAgICB0aGlzLmFjdGl2ZUtleXMgPSBbXTtcbiAgICB9XG4gICAgcmVzZXRSZWxlYXNlZEtleXMoKSB7XG4gICAgICAgIHRoaXMucmVsZWFzZWRLZXlzID0gW107XG4gICAgfVxuICAgIHJlc2V0QWxsS2V5cygpIHtcbiAgICAgICAgdGhpcy5yZXNldFByZXNzZWRLZXlzKCk7XG4gICAgICAgIHRoaXMucmVzZXRBY3RpdmVLZXlzKCk7XG4gICAgICAgIHRoaXMucmVzZXRSZWxlYXNlZEtleXMoKTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9